{
	"auto_complete":
	{
		"selected_items":
		[
			[
				"_",
				"_room_capacities"
			],
			[
				"work",
				"workouts"
			],
			[
				"instr",
				"instr_id"
			],
			[
				"workt",
				"workout_class"
			],
			[
				"room",
				"_room_capacities"
			],
			[
				"U",
				"UnreliableMagicCarpet"
			],
			[
				"__",
				"__init__"
			],
			[
				"hour",
				"hours_per_month"
			],
			[
				"max",
				"max_size"
			],
			[
				"to",
				"total_s"
			],
			[
				"a",
				"ascii_lowercase"
			],
			[
				"tota",
				"total_salary"
			],
			[
				"tot",
				"total_salary"
			]
		]
	},
	"buffers":
	[
		{
			"file": "assignments/a0/gym_sample_tests.py",
			"settings":
			{
				"buffer_size": 10761,
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		},
		{
			"file": "assignments/a0/gym.py",
			"settings":
			{
				"buffer_size": 33329,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
				[
					86,
					2,
					"anaconda_auto_format",
					null,
					"AQAAAAAAAAAAAAAAO4YAAAAAAADdhQAAIiIiCkFzc2lnbm1lbnQgMCBTb2x1dGlvbiBDb2RlCkNTQzE0OCwgV2ludGVyIDIwMjMKClRoaXMgY29kZSBpcyBwcm92aWRlZCBzb2xlbHkgZm9yIHRoZSBwZXJzb25hbCBhbmQgcHJpdmF0ZSB1c2Ugb2Ygc3R1ZGVudHMgdGFraW5nCkNTQzE0OCBhdCB0aGUgVW5pdmVyc2l0eSBvZiBUb3JvbnRvLiBDb3B5aW5nIGZvciBwdXJwb3NlcyBvdGhlciB0aGFuIHRoaXMgdXNlCmlzIGV4cHJlc3NseSBwcm9oaWJpdGVkLiAgQWxsIGZvcm1zIG9mIGRpc3RyaWJ1dGlvbiBvZiB0aGlzIGNvZGUsIHdoZXRoZXIgYXMKZ2l2ZW4gb3Igd2l0aCBhbnkgY2hhbmdlcywgYXJlIGV4cHJlc3NseSBwcm9oaWJpdGVkLgoKQXV0aG9yczogTWFyaW8gQmFkciwgSm9uYXRoYW4gQ2FsdmVyLCBUb20gR2luc2JlcmcsIERpYW5lIEhvcnRvbiwKU29waGlhIEh1eW5oLCBDaHJpc3RpbmUgTXVyYWQsIE1pc2hhIFNjaHdhcnR6LCBKYWlzaWUgU2luLCBhbmQgSmFjcXVlbGluZSBTbWl0aC4KCkFsbCBvZiB0aGUgZmlsZXMgaW4gdGhpcyBkaXJlY3RvcnkgYW5kIGFsbCBzdWJkaXJlY3RvcmllcyBhcmU6CkNvcHlyaWdodCAoYykgMjAyMiBNYXJpbyBCYWRyLCBKb25hdGhhbiBDYWx2ZXIsIFRvbSBHaW5zYmVyZywgRGlhbmUgSG9ydG9uLApTb3BoaWEgSHV5bmgsIENocmlzdGluZSBNdXJhZCwgTWlzaGEgU2Nod2FydHosIEphaXNpZSBTaW4sIGFuZCBKYWNxdWVsaW5lIFNtaXRoLgoiIiIKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IG9zCmltcG9ydCB3ZWJicm93c2VyCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gdHlwaW5nIGltcG9ydCBBbnkKaW1wb3J0IHBhbmRhcyBhcyBwZAppbXBvcnQgeWFtbApmcm9tIGd5bV91dGlsaXRpZXMgaW1wb3J0IGluX3dlZWssIGNyZWF0ZV9vZmZlcmluZ19kaWN0LCBcCiAgICB3cml0ZV9zY2hlZHVsZV90b19odG1sCgojIFRoZSBhZGRpdGlvbmFsIHBheSBwZXIgaG91ciB0aGF0IGluc3RydWN0b3JzIHJlY2VpdmUgZm9yIGVhY2ggY2VydGlmaWNhdGUgdGhleQojIGhvbGQuCkJPTlVTX1JBVEUgPSAxLjUwCgoKY2xhc3MgV29ya291dENsYXNzOgogICAgIiIiQSB3b3Jrb3V0IGNsYXNzIHRoYXQgY2FuIGJlIG9mZmVyZWQgYXQgYSBneW0uCgogICAgPT09IFB1YmxpYyBBdHRyaWJ1dGVzID09PQogICAgbmFtZTogVGhlIG5hbWUgb2YgdGhlIHdvcmtvdXQgY2xhc3MuCgogICAgPT09IFByaXZhdGUgQXR0cmlidXRlcyA9PT0KICAgIF9yZXF1aXJlZF9jZXJ0aWZpY2F0ZXM6IFRoZSBjZXJ0aWZpY2F0ZXMgdGhhdCBhbiBpbnN0cnVjdG9yIG11c3QgaG9sZCB0bwogICAgICAgIHRlYWNoIHRoaXMgV29ya291dENsYXNzLgogICAgIiIiCiAgICBuYW1lOiBzdHIKICAgIF9yZXF1aXJlZF9jZXJ0aWZpY2F0ZXM6IGxpc3Rbc3RyXQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBuYW1lOiBzdHIsIHJlcXVpcmVkX2NlcnRpZmljYXRlczogbGlzdFtzdHJdKSAtPiBOb25lOgogICAgICAgICIiIkluaXRpYWxpemUgYSBuZXcgV29ya291dENsYXNzIGNhbGxlZCA8bmFtZT4gYW5kIHdpdGggdGhlCiAgICAgICAgPHJlcXVpcmVkX2NlcnRpZmljYXRlcz4uCgogICAgICAgID4+PiB3b3Jrb3V0X2NsYXNzID0gV29ya291dENsYXNzKCdLaWNrYm94aW5nJywgWydTdHJlbmd0aCBUcmFpbmluZyddKQogICAgICAgID4+PiB3b3Jrb3V0X2NsYXNzLm5hbWUKICAgICAgICAnS2lja2JveGluZycKICAgICAgICAiIiIKICAgICAgICBzZWxmLm5hbWUgPSBuYW1lCiAgICAgICAgc2VsZi5fcmVxdWlyZWRfY2VydGlmaWNhdGVzID0gcmVxdWlyZWRfY2VydGlmaWNhdGVzWzpdCgogICAgZGVmIGdldF9yZXF1aXJlZF9jZXJ0aWZpY2F0ZXMoc2VsZikgLT4gbGlzdFtzdHJdOgogICAgICAgICIiIlJldHVybiBhbGwgdGhlIGNlcnRpZmljYXRlcyByZXF1aXJlZCB0byB0ZWFjaCB0aGlzIFdvcmtvdXRDbGFzcy4KCiAgICAgICAgPj4+IHdvcmtvdXRfY2xhc3MgPSBXb3Jrb3V0Q2xhc3MoJ0tpY2tib3hpbmcnLCBbJ1N0cmVuZ3RoIFRyYWluaW5nJ10pCiAgICAgICAgPj4+IG5lZWRlZCA9IHdvcmtvdXRfY2xhc3MuZ2V0X3JlcXVpcmVkX2NlcnRpZmljYXRlcygpCiAgICAgICAgPj4+IG5lZWRlZAogICAgICAgIFsnU3RyZW5ndGggVHJhaW5pbmcnXQogICAgICAgID4+PiBuZWVkZWQuYXBwZW5kKCdoYWhhJykKICAgICAgICA+Pj4gdHJ5X2FnYWluID0gd29ya291dF9jbGFzcy5nZXRfcmVxdWlyZWRfY2VydGlmaWNhdGVzKCkKICAgICAgICA+Pj4gdHJ5X2FnYWluCiAgICAgICAgWydTdHJlbmd0aCBUcmFpbmluZyddCiAgICAgICAgIiIiCiAgICAgICAgIyBNYWtlIGEgY29weSBvZiB0aGUgbGlzdCB0byBhdm9pZCBhbGlhc2luZwogICAgICAgIHJldHVybiBzZWxmLl9yZXF1aXJlZF9jZXJ0aWZpY2F0ZXNbOl0KCiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyOiBBbnkpIC0+IGJvb2w6CiAgICAgICAgIiIiUmV0dXJuIFRydWUgaWZmIHRoaXMgV29ya291dENsYXNzIGlzIGVxdWFsIHRvIDxvdGhlcj4uCgogICAgICAgIFR3byBXb3Jrb3V0Q2xhc3NlcyBhcmUgY29uc2lkZXJlZCBlcXVhbCBpZiB0aGV5IGhhdmUgdGhlIHNhbWUgbmFtZSBhbmQKICAgICAgICB0aGUgc2FtZSByZXF1aXJlZCBjZXJ0aWZpY2F0ZXMuCgogICAgICAgID4+PiB3b3Jrb3V0X2NsYXNzID0gV29ya291dENsYXNzKCdLaWNrYm94aW5nJywgWydTdHJlbmd0aCBUcmFpbmluZyddKQogICAgICAgID4+PiB3b3Jrb3V0X2NsYXNzMiA9IFdvcmtvdXRDbGFzcygnS2lja2JveGluZycsIFsnU3RyZW5ndGggVHJhaW5pbmcnXSkKICAgICAgICA+Pj4gd29ya291dF9jbGFzcyA9PSB3b3Jrb3V0X2NsYXNzMgogICAgICAgIFRydWUKICAgICAgICA+Pj4gZCA9IHsxOiAxN30KICAgICAgICA+Pj4gd29ya291dF9jbGFzcyA9PSBkCiAgICAgICAgRmFsc2UKICAgICAgICAiIiIKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgV29ya291dENsYXNzKToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgcmV0dXJuIChzZWxmLm5hbWUgPT0gb3RoZXIubmFtZQogICAgICAgICAgICAgICAgYW5kIHNlbGYuX3JlcXVpcmVkX2NlcnRpZmljYXRlcyA9PSBvdGhlci5fcmVxdWlyZWRfY2VydGlmaWNhdGVzKQoKCmNsYXNzIEd5bToKICAgICIiIkEgZ3ltIHRoYXQgaG9zdHMgd29ya291dCBjbGFzc2VzIHRhdWdodCBieSBpbnN0cnVjdG9ycy4KCiAgICBBbGwgb2ZmZXJpbmdzIG9mIHdvcmtvdXQgY2xhc3NlcyBzdGFydCBvbiB0aGUgaG91ciBhbmQgYXJlIDEgaG91ciBsb25nLgogICAgSWYgYSBjbGFzcyBzdGFydHMgYXQgNzowMCBwbSwgZm9yIGV4YW1wbGUsIHdlIHNheSB0aGF0IHRoZSBjbGFzcyBpcyAiYXQiCiAgICB0aGUgdGltZXBvaW50IDc6MDAsIG9yIGp1c3QgYXQgNzowMC4KCiAgICA9PT0gUHVibGljIEF0dHJpYnV0ZXMgPT09CiAgICBuYW1lOiBUaGUgbmFtZSBvZiB0aGUgZ3ltLgoKICAgID09PSBQcml2YXRlIEF0dHJpYnV0ZXMgPT09CiAgICBfaW5zdHJ1Y3RvcnM6IFRoZSBpbnN0cnVjdG9ycyB3aG8gd29yayBhdCB0aGlzIEd5bS4KICAgICAgICBFYWNoIGtleSBpcyBhbiBpbnN0cnVjdG9yJ3MgSUQgYW5kIGl0cyB2YWx1ZSBpcyB0aGUgSW5zdHJ1Y3RvciBvYmplY3QKICAgICAgICByZXByZXNlbnRpbmcgdGhlbS4KICAgIF93b3Jrb3V0czogVGhlIHdvcmtvdXQgY2xhc3NlcyB0aGF0IGFyZSB0YXVnaHQgYXQgdGhpcyBHeW0uCiAgICAgICAgRWFjaCBrZXkgaXMgdGhlIG5hbWUgb2YgYSB3b3Jrb3V0IGNsYXNzIGFuZCBpdHMgdmFsdWUgaXMgdGhlCiAgICAgICAgV29ya291dENsYXNzIG9iamVjdCByZXByZXNlbnRpbmcgaXQuCiAgICBfcm9vbV9jYXBhY2l0aWVzOiBUaGUgcm9vbXMgYW5kIGNhcGFjaXRpZXMgaW4gdGhpcyBHeW0uCiAgICAgICAgRWFjaCBrZXkgaXMgdGhlIG5hbWUgb2YgYSByb29tIGFuZCBpdHMgdmFsdWUgaXMgdGhlIHJvb20ncyBjYXBhY2l0eSwKICAgICAgICB0aGF0IGlzLCB0aGUgbnVtYmVyIG9mIHBlb3BsZSB3aG8gY2FuIHJlZ2lzdGVyIGZvciBhIGNsYXNzIGluIHRoZSByb29tLgogICAgX3NjaGVkdWxlOiBUaGUgc2NoZWR1bGUgb2YgY2xhc3NlcyBvZmZlcmVkIGF0IHRoaXMgZ3ltLgogICAgICAgIEVhY2gga2V5IGlzIGEgZGF0ZSBhbmQgdGltZSBhbmQgaXRzIHZhbHVlIGlzIGEgbmVzdGVkIGRpY3Rpb25hcnkKICAgICAgICBkZXNjcmliaW5nIGFsbCBvZmZlcmluZ3MgdGhhdCBzdGFydCB0aGVuLiBJbiB0aGUgbmVzdGVkIGRpY3Rpb25hcnksCiAgICAgICAgZWFjaCBrZXkgaXMgdGhlIG5hbWUgb2YgYSByb29tIHRoYXQgaGFzIGFuIG9mZmVyaW5nIHNjaGVkdWxlZCB0aGVuLAogICAgICAgIGFuZCBpdHMgdmFsdWUgaXMgYSB0dXBsZSBkZXNjcmliaW5nIHRoZSBvZmZlcmluZy4gVGhlIHR1cGxlIGVsZW1lbnRzCiAgICAgICAgcmVjb3JkLCBpbiBvcmRlcjoKICAgICAgICAgICAgLSB0aGUgaW5zdHJ1Y3RvciB0ZWFjaGluZyB0aGUgY2xhc3MsCiAgICAgICAgICAgIC0gdGhlIHdvcmtvdXQgY2xhc3MgaXRzZWxmLCBhbmQKICAgICAgICAgICAgLSBhIGxpc3Qgb2YgcmVnaXN0ZXJlZCBjbGllbnRzLiBFYWNoIGNsaWVudCBpcyByZXByZXNlbnRlZCBpbiB0aGUKICAgICAgICAgICAgICBsaXN0IGJ5IGEgdW5pcXVlIHN0cmluZy4KCiAgICA9PT0gUmVwcmVzZW50YXRpb24gSW52YXJpYW50cyA9PT0KICAgIC0gQWxsIGluc3RydWN0b3JzIGluIF9zY2hlZHVsZSBhcmUgaW4gX2luc3RydWN0b3JzICh0aGUgcmV2ZXJzZSBpcyBub3QKICAgICAgbmVjZXNzYXJpbHkgdHJ1ZSkuCiAgICAtIEFsbCB3b3Jrb3V0IGNsYXNzZXMgaW4gX3NjaGVkdWxlIGFyZSBpbiBfd29ya291dHMgKHRoZSByZXZlcnNlIGlzIG5vdAogICAgICBuZWNlc3NhcmlseSB0cnVlKS4KICAgIC0gQWxsIHJvb21zIHJlY29yZGVkIGluIF9zY2hlZHVsZSBhcmUgYWxzbyByZWNvcmRlZCBpbiBfcm9vbV9jYXBhY2l0aWVzICh0aGUKICAgICAgcmV2ZXJzZSBpcyBub3QgbmVjZXNzYXJpbHkgdHJ1ZSkuCiAgICAtIFR3byB3b3Jrb3V0IGNsYXNzZXMgY2Fubm90IGJlIHNjaGVkdWxlZCBhdCB0aGUgc2FtZSB0aW1lIGluIHRoZSBzYW1lIHJvb20uCiAgICAtIE5vIGluc3RydWN0b3IgaXMgc2NoZWR1bGVkIHRvIHRlYWNoIHR3byB3b3Jrb3V0IGNsYXNzZXMgYXQgdGhlIHNhbWUgdGltZS4KICAgICAgSS5lLiwgdGhlcmUgZG9lcyBub3QgZXhpc3QgdGltZXBvaW50IHQsIGFuZCByb29tcyByMSBhbmQgcjIgc3VjaCB0aGF0CiAgICAgICAgICBfc2NoZWR1bGVbdF1bcjFdWzBdID09IF9zY2hlZHVsZVt0XVtyMl1bMF0KICAgIC0gTm8gY2xpZW50IGNhbiB0YWtlIHR3byB3b3Jrb3V0IGNsYXNzZXMgYXQgdGhlIHNhbWUgdGltZS4KICAgICAgSS5lLiwgdGhlcmUgZG9lcyBub3QgZXhpc3QgdGltZXBvaW50IHQsIGFuZCByb29tcyByMSBhbmQgcjIgc3VjaCB0aGF0CiAgICAgICAgICBjIGluIF9zY2hlZHVsZVt0XVtyMV1bMl0gYW5kIGMgaW4gX3NjaGVkdWxlW3RdW3IyXVsyXQogICAgLSBJZiBhbiBpbnN0cnVjdG9yIGlzIHNjaGVkdWxlZCB0byB0ZWFjaCBhIHdvcmtvdXQgY2xhc3MsIHRoZXkgaGF2ZSB0aGUKICAgICAgbmVjZXNzYXJ5IHF1YWxpZmljYXRpb25zLgogICAgLSBJZiB0aGVyZSBhcmUgbm8gb2ZmZXJpbmdzIHNjaGVkdWxlZCBhdCBkYXRlIGFuZCB0aW1lIDxkPiwgdGhlbiA8ZD4KICAgICAgZG9lcyBub3Qgb2NjdXIgYXMgYSBrZXkgaW4gX3NjaGVkdWxlLgogICAgLSBJZiB0aGVyZSBhcmUgbm8gb2ZmZXJpbmdzIHNjaGVkdWxlZCBhdCBkYXRlIGFuZCB0aW1lIDxkPiBpbiByb29tIDxyPiB0aGVuCiAgICAgIDxyPiBkb2VzIG5vdCBvY2N1ciBhcyBhIGtleSBpbiBfc2NoZWR1bGVbZF0KICAgIC0gRWFjaCBsaXN0IG9mIHJlZ2lzdGVyZWQgY2xpZW50cyBmb3IgYW4gb2ZmZXJpbmcgaXMgb3JkZXJlZCB3aXRoIHRoZSBtb3N0CiAgICAgIHJlY2VudGx5IHJlZ2lzdGVyZWQgY2xpZW50IGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QuCiAgICAiIiIKICAgIG5hbWU6IHN0cgogICAgX2luc3RydWN0b3JzOiBkaWN0W2ludCwgSW5zdHJ1Y3Rvcl0KICAgIF93b3Jrb3V0czogZGljdFtzdHIsIFdvcmtvdXRDbGFzc10KICAgIF9yb29tX2NhcGFjaXRpZXM6IGRpY3Rbc3RyLCBpbnRdCiAgICBfc2NoZWR1bGU6IGRpY3RbZGF0ZXRpbWUsCiAgICAgICAgICAgICAgICAgICAgZGljdFtzdHIsIHR1cGxlW0luc3RydWN0b3IsIFdvcmtvdXRDbGFzcywgbGlzdFtzdHJdXV1dCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGd5bV9uYW1lOiBzdHIpIC0+IE5vbmU6CiAgICAgICAgIiIiSW5pdGlhbGl6ZSBhIG5ldyBHeW0gd2l0aCA8bmFtZT4uIEluaXRpYWxseSwgdGhpcyBneW0gaGFzIG5vCiAgICAgICAgaW5zdHJ1Y3RvcnMsIHdvcmtvdXQgY2xhc3Nlcywgcm9vbXMsIG9yIG9mZmVyaW5ncy4KCiAgICAgICAgPj4+IGFjID0gR3ltKCdBdGhsZXRpYyBDZW50cmUnKQogICAgICAgID4+PiBhYy5uYW1lCiAgICAgICAgJ0F0aGxldGljIENlbnRyZScKICAgICAgICAiIiIKICAgICAgICBzZWxmLm5hbWUgPSBneW1fbmFtZQogICAgICAgIHNlbGYuX2luc3RydWN0b3JzID0ge30KICAgICAgICBzZWxmLl93b3Jrb3V0cyA9IHt9CiAgICAgICAgc2VsZi5fcm9vbV9jYXBhY2l0aWVzID0ge30KICAgICAgICBzZWxmLl9zY2hlZHVsZSA9IHt9CgogICAgZGVmIGFkZF9pbnN0cnVjdG9yKHNlbGYsIGluc3RydWN0b3I6IEluc3RydWN0b3IpIC0+IGJvb2w6CiAgICAgICAgIiIiQWRkIGEgbmV3IDxpbnN0cnVjdG9yPiB0byB0aGlzIEd5bSdzIHJvc3RlciBpZmYgdGhlIDxpbnN0cnVjdG9yPiBkb2VzCiAgICAgICAgbm90IGhhdmUgdGhlIHNhbWUgaWQgYXMgYW5vdGhlciBpbnN0cnVjdG9yIGF0IHRoaXMgR3ltLgoKICAgICAgICBSZXR1cm4gVHJ1ZSBpZmYgdGhlIGlkIGhhcyBub3QgYWxyZWFkeSBiZWVuIGFkZGVkIHRvIHRoaXMgR3ltJ3Mgcm9zdGVyLgoKICAgICAgICA+Pj4gYWMgPSBHeW0oJ0F0aGxldGljIENlbnRyZScpCiAgICAgICAgPj4+IGRpYW5lID0gSW5zdHJ1Y3RvcigxLCAnRGlhbmUnKQogICAgICAgID4+PiBhYy5hZGRfaW5zdHJ1Y3RvcihkaWFuZSkKICAgICAgICBUcnVlCiAgICAgICAgIiIiCiAgICAgICAgaWYgaW5zdHJ1Y3Rvci5nZXRfaWQoKSBub3QgaW4gc2VsZi5faW5zdHJ1Y3RvcnM6CiAgICAgICAgICAgIHNlbGYuX2luc3RydWN0b3JzW2luc3RydWN0b3IuZ2V0X2lkKCldID0gaW5zdHJ1Y3RvcgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBhZGRfd29ya291dF9jbGFzcyhzZWxmLCB3b3Jrb3V0X2NsYXNzOiBXb3Jrb3V0Q2xhc3MpIC0+IGJvb2w6CiAgICAgICAgIiIiQWRkIGEgPHdvcmtvdXRfY2xhc3M+IHRvIHRoaXMgR3ltIGlmZiB0aGUgPHdvcmtvdXRfY2xhc3M+IGRvZXMgbm90CiAgICAgICAgaGF2ZSB0aGUgc2FtZSBuYW1lIGFzIGFub3RoZXIgV29ya291dENsYXNzIGF0IHRoaXMgR3ltLgoKICAgICAgICBSZXR1cm4gVHJ1ZSBpZmYgdGhlIHdvcmtvdXQgY2xhc3MgaGFzIG5vdCBhbHJlYWR5IGJlZW4gYWRkZWQgdGhpcyBHeW0uCgogICAgICAgID4+PiBhYyA9IEd5bSgnQXRobGV0aWMgQ2VudHJlJykKICAgICAgICA+Pj4ga2lja2JveGluZyA9IFdvcmtvdXRDbGFzcygnS2lja2JveGluZycsIFsnU3RyZW5ndGggVHJhaW5pbmcnXSkKICAgICAgICA+Pj4gYWMuYWRkX3dvcmtvdXRfY2xhc3Moa2lja2JveGluZykKICAgICAgICBUcnVlCiAgICAgICAgIiIiCiAgICAgICAgaWYgd29ya291dF9jbGFzcy5uYW1lIG5vdCBpbiBzZWxmLl93b3Jrb3V0czoKICAgICAgICAgICAgc2VsZi5fd29ya291dHNbd29ya291dF9jbGFzcy5uYW1lXSA9IHdvcmtvdXRfY2xhc3MKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgYWRkX3Jvb20oc2VsZiwgbmFtZTogc3RyLCBjYXBhY2l0eTogaW50KSAtPiBib29sOgogICAgICAgICIiIkFkZCBhIHJvb20gd2l0aCA8bmFtZT4gYW5kIDxjYXBhY2l0eT4gdG8gdGhpcyBHeW0gaWZmIHRoZXJlIGlzIG5vdAogICAgICAgICBhbHJlYWR5IGEgcm9vbSB3aXRoIDxuYW1lPiBhdCB0aGlzIEd5bS4KCiAgICAgICAgUmV0dXJuIFRydWUgaWZmIHRoZSByb29tIGhhcyBub3QgYWxyZWFkeSBiZWVuIGFkZGVkIHRvIHRoaXMgR3ltLgoKICAgICAgICA+Pj4gYWMgPSBHeW0oJ0F0aGxldGljIENlbnRyZScpCiAgICAgICAgPj4+IGFjLmFkZF9yb29tKCdEYW5jZSBTdHVkaW8nLCA1MCkKICAgICAgICBUcnVlCiAgICAgICAgIiIiCiAgICAgICAgaWYgbmFtZSBub3QgaW4gc2VsZi5fcm9vbV9jYXBhY2l0aWVzOgogICAgICAgICAgICBzZWxmLl9yb29tX2NhcGFjaXRpZXNbbmFtZV0gPSBjYXBhY2l0eQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBzY2hlZHVsZV93b3Jrb3V0X2NsYXNzKHNlbGYsIHRpbWVfcG9pbnQ6IGRhdGV0aW1lLCByb29tX25hbWU6IHN0ciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtvdXRfbmFtZTogc3RyLCBpbnN0cl9pZDogaW50KSAtPiBib29sOgogICAgICAgICIiIkFkZCBhbiBvZmZlcmluZyB0byB0aGlzIEd5bSBhdCA8dGltZV9wb2ludD4gaWZmOiB0aGUgcm9vbSB3aXRoCiAgICAgICAgPHJvb21fbmFtZT4gaXMgYXZhaWxhYmxlLCB0aGUgaW5zdHJ1Y3RvciB3aXRoIDxpbnN0cl9pZD4gaXMgcXVhbGlmaWVkCiAgICAgICAgdG8gdGVhY2ggdGhlIHdvcmtvdXQgY2xhc3Mgd2l0aCA8d29ya291dF9uYW1lPiwgYW5kIHRoZSBpbnN0cnVjdG9yIGlzCiAgICAgICAgbm90IHRlYWNoaW5nIGFub3RoZXIgd29ya291dCBjbGFzcyBhdCB0aGUgc2FtZSA8dGltZV9wb2ludD4uCgogICAgICAgIEEgcm9vbSBpcyBhdmFpbGFibGUgaWZmIGl0IGRvZXMgbm90IGFscmVhZHkgaGF2ZSBhbm90aGVyIHdvcmtvdXQgY2xhc3MKICAgICAgICBzY2hlZHVsZWQgYXQgdGhhdCBkYXkgYW5kIHRpbWUuCgogICAgICAgIFRoZSBhZGRlZCBvZmZlcmluZyBzdGFydHMgd2l0aCBubyByZWdpc3RlcmVkIGNsaWVudHMuCgogICAgICAgIFJldHVybiBUcnVlIGlmZiB0aGUgb2ZmZXJpbmcgd2FzIGFkZGVkLgoKICAgICAgICBQcmVjb25kaXRpb25zOgogICAgICAgICAgICAtIFRoZSByb29tIGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQgdG8gdGhpcyBHeW0uCiAgICAgICAgICAgIC0gVGhlIEluc3RydWN0b3IgaGFzIGFscmVhZHkgYmVlbiBhZGRlZCB0byB0aGlzIEd5bS4KICAgICAgICAgICAgLSBUaGUgV29ya291dENsYXNzIGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQgdG8gdGhpcyBHeW0uCgogICAgICAgID4+PiBhYyA9IEd5bSgnQXRobGV0aWMgQ2VudHJlJykKICAgICAgICA+Pj4gamFjcXVlbGluZSA9IEluc3RydWN0b3IoMSwgJ0phY3F1ZWxpbmUgU21pdGgnKQogICAgICAgID4+PiBhYy5hZGRfaW5zdHJ1Y3RvcihqYWNxdWVsaW5lKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gamFjcXVlbGluZS5hZGRfY2VydGlmaWNhdGUoJ0NhcmRpbyAxJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGRpYW5lID0gSW5zdHJ1Y3RvcigyLCAnRGlhbmUgSG9ydG9uJykKICAgICAgICA+Pj4gYWMuYWRkX2luc3RydWN0b3IoZGlhbmUpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5hZGRfcm9vbSgnRGFuY2UgU3R1ZGlvJywgMTgpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5hZGRfcm9vbSgnbG93ZXIgZ3ltJywgNTApCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBib290X2NhbXAgPSBXb3Jrb3V0Q2xhc3MoJ0Jvb3QgQ2FtcCcsIFsnQ2FyZGlvIDEnXSkKICAgICAgICA+Pj4gYWMuYWRkX3dvcmtvdXRfY2xhc3MoYm9vdF9jYW1wKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gdGFwID0gV29ya291dENsYXNzKCdJbnRybyBUYXAnLCBbXSkKICAgICAgICA+Pj4gYWMuYWRkX3dvcmtvdXRfY2xhc3ModGFwKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gc2VwXzlfMjAyMl8xMl8wMCA9IGRhdGV0aW1lKDIwMjIsIDksIDksIDEyLCAwKQogICAgICAgID4+PiBhYy5zY2hlZHVsZV93b3Jrb3V0X2NsYXNzKHNlcF85XzIwMjJfMTJfMDAsICdsb3dlciBneW0nLFwKICAgICAgICBib290X2NhbXAubmFtZSwgamFjcXVlbGluZS5nZXRfaWQoKSkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLnNjaGVkdWxlX3dvcmtvdXRfY2xhc3Moc2VwXzlfMjAyMl8xMl8wMCwgJ0RhbmNlIFN0dWRpbycsXAogICAgICAgIHRhcC5uYW1lLCBkaWFuZS5nZXRfaWQoKSkKICAgICAgICBUcnVlCiAgICAgICAgIiIiCiAgICAgICAgaWYgbm90IHNlbGYuX3NjaGVkdWxlIG9yIHRpbWVfcG9pbnQgbm90IGluIHNlbGYuX3NjaGVkdWxlOgogICAgICAgICAgICBzZWxmLl9zY2hlZHVsZVt0aW1lX3BvaW50XSA9IHtyb29tX25hbWU6ICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5faW5zdHJ1Y3RvcnNbaW5zdHJfaWRdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl93b3Jrb3V0c1t3b3Jrb3V0X25hbWVdLCBbXSl9CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxpZiByb29tX25hbWUgbm90IGluIHNlbGYuX3NjaGVkdWxlW3RpbWVfcG9pbnRdIGFuZCBcCiAgICAgICAgICAgIHNldChzZWxmLl93b3Jrb3V0c1t3b3Jrb3V0X25hbWVdLmdldF9yZXF1aXJlZF9jZXJ0aWZpY2F0ZXMoCiAgICAgICAgICAgICkpLmlzc3Vic2V0KHNldChzZWxmLl9pbnN0cnVjdG9yc1tpbnN0cl9pZF0uZ2V0X2NlcnRpZmljYXRlcygpKSkgXAogICAgICAgICAgICBhbmQgc2VsZi5faW5zdHJ1Y3RvcnNbaW5zdHJfaWRdIG5vdCBpbiBcCiAgICAgICAgICAgIFtpbnN0cl9uYW1lWzBdIGZvciBpbnN0cl9uYW1lIGluCiAgICAgICAgICAgICAgICBsaXN0KHNlbGYuX3NjaGVkdWxlW3RpbWVfcG9pbnRdLnZhbHVlcygpKV06CiAgICAgICAgICAgIHNlbGYuX3NjaGVkdWxlW3RpbWVfcG9pbnRdLnVwZGF0ZSh7cm9vbV9uYW1lOiAoc2VsZi5faW5zdHJ1Y3RvcnNbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJfaWRdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3dvcmtvdXRzWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtvdXRfbmFtZV0sIFtdKX0pCiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIHJlZ2lzdGVyKHNlbGYsIHRpbWVfcG9pbnQ6IGRhdGV0aW1lLCBjbGllbnQ6IHN0ciwgd29ya291dF9uYW1lOiBzdHIpIFwKICAgICAgICAgICAgLT4gYm9vbDoKICAgICAgICAiIiJBZGQgPGNsaWVudD4gdG8gdGhlIFdvcmtvdXRDbGFzcyB3aXRoIDx3b3Jrb3V0X25hbWU+IHRoYXQgaXMgYmVpbmcKICAgICAgICBvZmZlcmVkIGF0IDx0aW1lX3BvaW50PiBpZmYgdGhlIGNsaWVudCBoYXMgbm90IGFscmVhZHkgYmVlbiByZWdpc3RlcmVkCiAgICAgICAgaW4gYW55IGNvdXJzZSAoaW5jbHVkaW5nIDx3b3Jrb3V0X25hbWU+KSBhdCA8dGltZV9wb2ludD4sIGFuZCB0aGUgcm9vbQogICAgICAgIGlzIG5vdCBmdWxsLgoKICAgICAgICBJZiB0aGUgV29ya291dENsYXNzIGlzIGJlaW5nIG9mZmVyZWQgaW4gbW9yZSB0aGFuIG9uZSByb29tIGF0CiAgICAgICAgPHRpbWVfcG9pbnQ+LCB0aGVuIGFkZCB0aGUgY2xpZW50IHRvIHRoZSByb29tIHRoYXQgaGFzIHRoZSBtb3N0IGNsaWVudHMKICAgICAgICBhbHJlYWR5IHJlZ2lzdGVyZWQgYnV0IHN0aWxsIGhhcyBhdmFpbGFibGUgc3BhY2UuIEluIHRoZSBjYXNlIG9mIGEgdGllLAogICAgICAgIHJlZ2lzdGVyIDxjbGllbnQ+IGluIGFueSBvZiB0aGUgdGllZCBjbGFzc2VzLgoKICAgICAgICBSZXR1cm4gVHJ1ZSBpZmYgdGhlIGNsaWVudCB3YXMgYWRkZWQuCgogICAgICAgIFByZWNvbmRpdGlvbjogdGhlIFdvcmtvdXRDbGFzcyB3aXRoIDx3b3Jrb3V0X25hbWU+IGlzIGJlaW5nIG9mZmVyZWQgaW4KICAgICAgICAgICAgYXQgbGVhc3Qgb25lIHJvb20gYXQgPHRpbWVfcG9pbnQ+LgoKICAgICAgICA+Pj4gYWMgPSBHeW0oJ0F0aGxldGljIENlbnRyZScpCiAgICAgICAgPj4+IGRpYW5lID0gSW5zdHJ1Y3RvcigxLCAnRGlhbmUnKQogICAgICAgID4+PiBkaWFuZS5hZGRfY2VydGlmaWNhdGUoJ0NhcmRpbyAxJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9pbnN0cnVjdG9yKGRpYW5lKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMuYWRkX3Jvb20oJ0RhbmNlIFN0dWRpbycsIDUwKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYm9vdF9jYW1wID0gV29ya291dENsYXNzKCdCb290IENhbXAnLCBbJ0NhcmRpbyAxJ10pCiAgICAgICAgPj4+IGFjLmFkZF93b3Jrb3V0X2NsYXNzKGJvb3RfY2FtcCkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IHNlcF85XzIwMjJfMTJfMDAgPSBkYXRldGltZSgyMDIyLCA5LCA5LCAxMiwgMCkKICAgICAgICA+Pj4gYWMuc2NoZWR1bGVfd29ya291dF9jbGFzcyhzZXBfOV8yMDIyXzEyXzAwLCAnRGFuY2UgU3R1ZGlvJyxcCiAgICAgICAgYm9vdF9jYW1wLm5hbWUsIGRpYW5lLmdldF9pZCgpKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMucmVnaXN0ZXIoc2VwXzlfMjAyMl8xMl8wMCwgJ1BoaWxpcCcsICdCb290IENhbXAnKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMucmVnaXN0ZXIoc2VwXzlfMjAyMl8xMl8wMCwgJ1BoaWxpcCcsICdCb290IENhbXAnKQogICAgICAgIEZhbHNlCiAgICAgICAgIiIiCiAgICAgICAgcm9vbV9jYXBhY2l0eV9kaWN0OiBkaWN0W3N0ciwgbGlzdFtzdHJdXSA9IHt9CiAgICAgICAgbm90X2Z1bGxfcm9vbXM6IGRpY3Rbc3RyLCBpbnRdID0ge30KCiAgICAgICAgZm9yIGtleSBpbiBzZWxmLl9zY2hlZHVsZVt0aW1lX3BvaW50XToKICAgICAgICAgICAgaWYgc2VsZi5fc2NoZWR1bGVbdGltZV9wb2ludF1ba2V5XVsxXSA9PSBcCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fd29ya291dHNbd29ya291dF9uYW1lXToKICAgICAgICAgICAgICAgIHJvb21fY2FwYWNpdHlfZGljdFtrZXldID0gXAogICAgICAgICAgICAgICAgICAgIHNlbGYuX3NjaGVkdWxlW3RpbWVfcG9pbnRdW2tleV1bMl0KCiAgICAgICAgaWYgYW55KGNsaWVudCBpbiB2YWwgZm9yIHZhbCBpbiBsaXN0KHJvb21fY2FwYWNpdHlfZGljdC52YWx1ZXMoKSlbMF0pOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBlbHNlOgogICAgICAgICAgICBmb3IgbmFtZSBpbiByb29tX2NhcGFjaXR5X2RpY3Q6CiAgICAgICAgICAgICAgICBpZiBzZWxmLl9yb29tX2NhcGFjaXRpZXNbbmFtZV0gPiBsZW4ocm9vbV9jYXBhY2l0eV9kaWN0W25hbWVdKToKICAgICAgICAgICAgICAgICAgICBub3RfZnVsbF9yb29tc1tuYW1lXSA9IGxlbihyb29tX2NhcGFjaXR5X2RpY3RbbmFtZV0pCgogICAgICAgIGZvciByb29tX25hbWUgaW4gbm90X2Z1bGxfcm9vbXM6CiAgICAgICAgICAgIGlmIG5vdF9mdWxsX3Jvb21zW3Jvb21fbmFtZV0gPT0gbWF4KGxpc3Qobm90X2Z1bGxfcm9vbXMudmFsdWVzKCkpKToKICAgICAgICAgICAgICAgIHNlbGYuX3NjaGVkdWxlW3RpbWVfcG9pbnRdW3Jvb21fbmFtZV1bMl0uYXBwZW5kKGNsaWVudCkKCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgaW5zdHJ1Y3Rvcl9ob3VycyhzZWxmLCB0aW1lMTogZGF0ZXRpbWUsIHRpbWUyOiBkYXRldGltZSkgLT4gXAogICAgICAgICAgICBkaWN0W2ludCwgaW50XToKICAgICAgICAiIiJSZXR1cm4gYSBkaWN0aW9uYXJ5IHJlcG9ydGluZyB0aGUgaG91cnMgd29ya2VkIGJ5IGluc3RydWN0b3JzCiAgICAgICAgdGVhY2hpbmcgY2xhc3NlcyB0aGF0IHN0YXJ0IGF0IGFueSB0aW1lIGJldHdlZW4gPHRpbWUxPiBhbmQgPHRpbWUyPiwKICAgICAgICBpbmNsdXNpdmUuCgogICAgICAgIEVhY2gga2V5IGlzIGFuIGluc3RydWN0b3IgSUQgYW5kIGl0cyB2YWx1ZSBpcyB0aGUgdG90YWwgbnVtYmVyIG9mIGhvdXJzCiAgICAgICAgd29ya2VkIGJ5IHRoYXQgaW5zdHJ1Y3RvciBiZXR3ZWVuIDx0aW1lMT4gYW5kIDx0aW1lMj4uIEJvdGggPHRpbWUxPiBhbmQKICAgICAgICA8dGltZTI+IHNwZWNpZnkgdGhlIHN0YXJ0IHRpbWUgZm9yIGFuIGhvdXIgd2hlbiBhbiBpbnN0cnVjdG9yIG1heSBoYXZlCiAgICAgICAgdGF1Z2h0LgoKICAgICAgICBQcmVjb25kaXRpb246IHRpbWUxIDw9IHRpbWUyCgogICAgICAgID4+PiBhYyA9IEd5bSgnQXRobGV0aWMgQ2VudHJlJykKICAgICAgICA+Pj4gZGlhbmUgPSBJbnN0cnVjdG9yKDEsICdEaWFuZScpCiAgICAgICAgPj4+IGRhdmlkID0gSW5zdHJ1Y3RvcigyLCAnRGF2aWQnKQogICAgICAgID4+PiBkaWFuZS5hZGRfY2VydGlmaWNhdGUoJ0NhcmRpbyAxJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9pbnN0cnVjdG9yKGRpYW5lKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMuYWRkX2luc3RydWN0b3IoZGF2aWQpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5hZGRfcm9vbSgnRGFuY2UgU3R1ZGlvJywgNTApCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBib290X2NhbXAgPSBXb3Jrb3V0Q2xhc3MoJ0Jvb3QgQ2FtcCcsIFsnQ2FyZGlvIDEnXSkKICAgICAgICA+Pj4gYWMuYWRkX3dvcmtvdXRfY2xhc3MoYm9vdF9jYW1wKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gdDEgPSBkYXRldGltZSgyMDE5LCA5LCA5LCAxMiwgMCkKICAgICAgICA+Pj4gYWMuc2NoZWR1bGVfd29ya291dF9jbGFzcyh0MSwgJ0RhbmNlIFN0dWRpbycsIGJvb3RfY2FtcC5uYW1lLCAxKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gdDIgPSBkYXRldGltZSgyMDE5LCA5LCAxMCwgMTIsIDApCiAgICAgICAgPj4+IGFjLmluc3RydWN0b3JfaG91cnModDEsIHQyKSA9PSB7MTogMSwgMjogMH0KICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLnNjaGVkdWxlX3dvcmtvdXRfY2xhc3ModDIsICdEYW5jZSBTdHVkaW8nLCBib290X2NhbXAubmFtZSwgMSkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmluc3RydWN0b3JfaG91cnModDEsIHQyKSA9PSB7MTogMiwgMjogMH0KICAgICAgICBUcnVlCiAgICAgICAgIiIiCiAgICAgICAgdGltZV9kaWN0ID0ge30KCiAgICAgICAgZm9yIGluc3RyX2lkIGluIGxpc3Qoc2VsZi5faW5zdHJ1Y3RvcnMua2V5cygpKToKICAgICAgICAgICAgaWYgaW5zdHJfaWQgbm90IGluIHRpbWVfZGljdDoKICAgICAgICAgICAgICAgIHRpbWVfZGljdFtpbnN0cl9pZF0gPSAwCgogICAgICAgIGZvciBkdCBpbiBzZWxmLl9zY2hlZHVsZToKICAgICAgICAgICAgaWYgdGltZTEgPD0gZHQgPD0gdGltZTI6CiAgICAgICAgICAgICAgICBmb3Igcm9vbV9uYW1lIGluIHNlbGYuX3NjaGVkdWxlW2R0XToKICAgICAgICAgICAgICAgICAgICB0aW1lX2RpY3Rbc2VsZi5fc2NoZWR1bGVbZHRdW3Jvb21fbmFtZV1bMF0uZ2V0X2lkKCldICs9IDEKCiAgICAgICAgcmV0dXJuIHRpbWVfZGljdAoKICAgIGRlZiBwYXlyb2xsKHNlbGYsIHRpbWUxOiBkYXRldGltZSwgdGltZTI6IGRhdGV0aW1lLCBiYXNlX3JhdGU6IGZsb2F0KSBcCiAgICAgICAgICAgIC0+IGxpc3RbdHVwbGVbaW50LCBzdHIsIGludCwgZmxvYXRdXToKICAgICAgICAiIiJSZXR1cm4gYSBzb3J0ZWQgbGlzdCBvZiB0dXBsZXMgcmVwb3J0aW5nIHBheSBlYXJuZWQgYnkgZWFjaAogICAgICAgIGluc3RydWN0b3IgdGVhY2hpbmcgY2xhc3NlcyB0aGF0IHN0YXJ0IGFueSB0aW1lIGJldHdlZW4gPHRpbWUxPiBhbmQKICAgICAgICA8dGltZTI+LCBpbmNsdXNpdmUuIFRoZSBsaXN0IHNob3VsZCBiZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyIG9mCiAgICAgICAgaW5zdHJ1Y3RvciBpZHMuCgogICAgICAgIEVhY2ggdHVwbGUgY29udGFpbnMgNCBlbGVtZW50cywgaW4gdGhpcyBvcmRlcjoKICAgICAgICAtIGFuIGluc3RydWN0b3IncyBJRCwKICAgICAgICAtIHRoZSBpbnN0cnVjdG9yJ3MgbmFtZSwKICAgICAgICAtIHRoZSBudW1iZXIgb2YgaG91cnMgd29ya2VkIGJ5IHRoZSBpbnN0cnVjdG9yIGJldHdlZW4gPHRpbWUxPiBhbmQKICAgICAgICAgIDx0aW1lMj4sIGFuZAogICAgICAgIC0gdGhlIGluc3RydWN0b3IncyB0b3RhbCB3YWdlcyBlYXJuZWQgYmV0d2VlbiA8dGltZTE+IGFuZCA8dGltZTI+LgogICAgICAgIFRoZSByZXR1cm5lZCBsaXN0IGlzIHNvcnRlZCBieSBpbnN0cnVjdG9yIElELgoKICAgICAgICBCb3RoIDx0aW1lMT4gYW5kIDx0aW1lMj4gc3BlY2lmeSB0aGUgc3RhcnQgdGltZSBmb3IgYW4gaG91ciB3aGVuIGFuCiAgICAgICAgaW5zdHJ1Y3RvciBtYXkgaGF2ZSB0YXVnaHQuCgogICAgICAgIEVhY2ggaW5zdHJ1Y3RvciBlYXJucyBhIDxiYXNlX3JhdGU+IHBlciBob3VyIHBsdXMgYW4gYWRkaXRpb25hbAogICAgICAgIEJPTlVTX1JBVEUgcGVyIGhvdXIgZm9yIGVhY2ggY2VydGlmaWNhdGUgdGhleSBob2xkLgoKICAgICAgICBQcmVjb25kaXRpb246IHRpbWUxIDw9IHRpbWUyCgogICAgICAgID4+PiBhYyA9IEd5bSgnQXRobGV0aWMgQ2VudHJlJykKICAgICAgICA+Pj4gZGlhbmUgPSBJbnN0cnVjdG9yKDEsICdEaWFuZScpCiAgICAgICAgPj4+IGRhdmlkID0gSW5zdHJ1Y3RvcigyLCAnRGF2aWQnKQogICAgICAgID4+PiBkaWFuZS5hZGRfY2VydGlmaWNhdGUoJ0NhcmRpbyAxJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9pbnN0cnVjdG9yKGRhdmlkKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMuYWRkX2luc3RydWN0b3IoZGlhbmUpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5hZGRfcm9vbSgnRGFuY2UgU3R1ZGlvJywgNTApCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBib290X2NhbXAgPSBXb3Jrb3V0Q2xhc3MoJ0Jvb3QgQ2FtcCcsIFsnQ2FyZGlvIDEnXSkKICAgICAgICA+Pj4gYWMuYWRkX3dvcmtvdXRfY2xhc3MoYm9vdF9jYW1wKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gdDEgPSBkYXRldGltZSgyMDE5LCA5LCA5LCAxMiwgMCkKICAgICAgICA+Pj4gYWMuc2NoZWR1bGVfd29ya291dF9jbGFzcyh0MSwgJ0RhbmNlIFN0dWRpbycsIGJvb3RfY2FtcC5uYW1lLAogICAgICAgIC4uLiAxKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gdDIgPSBkYXRldGltZSgyMDE5LCA5LCAxMCwgMTIsIDApCiAgICAgICAgPj4+IGFjLnBheXJvbGwodDEsIHQyLCAyNS4wKQogICAgICAgIFsoMSwgJ0RpYW5lJywgMSwgMjYuNSksICgyLCAnRGF2aWQnLCAwLCAwLjApXQogICAgICAgICIiIgogICAgICAgIHR1cGxlX2xpc3QgPSBbXQogICAgICAgIHRpbWVfZGljdCA9IHNlbGYuaW5zdHJ1Y3Rvcl9ob3Vycyh0aW1lMSwgdGltZTIpCgogICAgICAgIGZvciBpZF8gaW4gdGltZV9kaWN0OgogICAgICAgICAgICB0dXBsZV9saXN0LmFwcGVuZCgoaWRfLCBzZWxmLl9pbnN0cnVjdG9yc1tpZF9dLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lX2RpY3RbaWRfXSwgdGltZV9kaWN0WwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRfXSAqIGJhc2VfcmF0ZSArIEJPTlVTX1JBVEUgKiBsZW4oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9pbnN0cnVjdG9yc1tpZF9dLmdldF9jZXJ0aWZpY2F0ZXMoKSkpKQoKICAgICAgICByZXR1cm4gc29ydGVkKHR1cGxlX2xpc3QpCgogICAgZGVmIF9pc19pbnN0cnVjdG9yX25hbWVfdW5pcXVlKHNlbGYsIGluc3RydWN0b3I6IEluc3RydWN0b3IpIC0+IGJvb2w6CiAgICAgICAgIiIiUmV0dXJuIFRydWUgaWZmIHRoZSBuYW1lIG9mIDxpbnN0cnVjdG9yPiBpcyB1c2VkIGJ5IDw9IDEgaW5zdHJ1Y3RvcgogICAgICAgIGluIHRoZSBHeW0uCgogICAgICAgID4+PiBhYyA9IEd5bSgnQXRobGV0aWMgQ2VudHJlJykKICAgICAgICA+Pj4gZmlyc3RfaGlyZSA9IEluc3RydWN0b3IoMSwgJ0RpYW5lJykKICAgICAgICA+Pj4gYWMuYWRkX2luc3RydWN0b3IoZmlyc3RfaGlyZSkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLl9pc19pbnN0cnVjdG9yX25hbWVfdW5pcXVlKGZpcnN0X2hpcmUpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBzZWNvbmRfaGlyZSA9IEluc3RydWN0b3IoMiwgJ0RpYW5lJykKICAgICAgICA+Pj4gYWMuYWRkX2luc3RydWN0b3Ioc2Vjb25kX2hpcmUpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5faXNfaW5zdHJ1Y3Rvcl9uYW1lX3VuaXF1ZShmaXJzdF9oaXJlKQogICAgICAgIEZhbHNlCiAgICAgICAgPj4+IGFjLl9pc19pbnN0cnVjdG9yX25hbWVfdW5pcXVlKHNlY29uZF9oaXJlKQogICAgICAgIEZhbHNlCiAgICAgICAgPj4+IHRoaXJkX2hpcmUgPSBJbnN0cnVjdG9yKDMsICdUb20nKQogICAgICAgID4+PiBhYy5faXNfaW5zdHJ1Y3Rvcl9uYW1lX3VuaXF1ZSh0aGlyZF9oaXJlKQogICAgICAgIFRydWUKICAgICAgICAiIiIKICAgICAgICBuYW1lX2xpc3QgPSBbaW5zdHIubmFtZSBmb3IgaW5zdHIgaW4gbGlzdChzZWxmLl9pbnN0cnVjdG9ycy52YWx1ZXMoKSldCgogICAgICAgIHJldHVybiBUcnVlIGlmIG5hbWVfbGlzdC5jb3VudChpbnN0cnVjdG9yLm5hbWUpIDw9IDEgZWxzZSBGYWxzZQoKICAgIGRlZiBvZmZlcmluZ3NfYXQoc2VsZiwgdGltZV9wb2ludDogZGF0ZXRpbWUpIC0+IGxpc3RbZGljdFtzdHIsIHN0ciB8IGludF1dOgogICAgICAgICIiIlJldHVybiBhIGxpc3Qgb2YgZGljdGlvbmFyaWVzLCBlYWNoIHJlcHJlc2VudGluZyBhIHdvcmtvdXQgb2ZmZXJlZAogICAgICAgIGF0IHRoaXMgR3ltIGF0IDx0aW1lX3BvaW50Pi4KCiAgICAgICAgVGhlIG9mZmVyaW5ncyBzaG91bGQgYmUgc29ydGVkIGJ5IHJvb20gbmFtZSwgaW4gYWxwaGFiZXRpY2FsIGFzY2VuZGluZwogICAgICAgIG9yZGVyLgoKICAgICAgICBFYWNoIGRpY3Rpb25hcnkgbXVzdCBoYXZlIHRoZSBmb2xsb3dpbmcga2V5cyBhbmQgdmFsdWVzOgogICAgICAgICAgICAnRGF0ZSc6IHRoZSB3ZWVrZGF5IGFuZCBkYXRlIG9mIHRoZSBjbGFzcyBhcyBhIHN0cmluZywgaW4gdGhlIGZvcm1hdAogICAgICAgICAgICAgICAgJ1dlZWtkYXksIHllYXItbW9udGgtZGF5JyAoZS5nLiwgJ01vbmRheSwgMjAyMi0xMS0wNycpCiAgICAgICAgICAgICdUaW1lJzogdGhlIHRpbWUgb2YgdGhlIGNsYXNzLCBpbiB0aGUgZm9ybWF0ICdISDpNTScgd2hlcmUKICAgICAgICAgICAgICAgIEhIIHVzZXMgMjQtaG91ciB0aW1lIChlLmcuLCAnMTU6MDAnKQogICAgICAgICAgICAnQ2xhc3MnOiB0aGUgbmFtZSBvZiB0aGUgY2xhc3MKICAgICAgICAgICAgJ1Jvb20nOiB0aGUgbmFtZSBvZiB0aGUgcm9vbQogICAgICAgICAgICAnUmVnaXN0ZXJlZCc6IHRoZSBudW1iZXIgb2YgcGVvcGxlIGFscmVhZHkgcmVnaXN0ZXJlZCBmb3IgdGhlIGNsYXNzCiAgICAgICAgICAgICdBdmFpbGFibGUnOiB0aGUgbnVtYmVyIG9mIHNwb3RzIHN0aWxsIGF2YWlsYWJsZSBpbiB0aGUgY2xhc3MKICAgICAgICAgICAgJ0luc3RydWN0b3InOiB0aGUgbmFtZSBvZiB0aGUgaW5zdHJ1Y3RvcgogICAgICAgICAgICAgICAgSWYgdGhlcmUgYXJlIG11bHRpcGxlIGluc3RydWN0b3JzIHdpdGggdGhlIHNhbWUgbmFtZSwgdGhlIG5hbWUKICAgICAgICAgICAgICAgIHNob3VsZCBiZSBmb2xsb3dlZCBieSB0aGUgaW5zdHJ1Y3RvciBJRCBpbiBwYXJlbnRoZXNlcwogICAgICAgICAgICAgICAgZS5nLiwgIkRpYW5lICgxKSIKCiAgICAgICAgSWYgdGhlcmUgYXJlIG5vIG9mZmVyaW5ncyBhdCA8dGltZV9wb2ludD4sIHJldHVybiBhbiBlbXB0eSBsaXN0LgoKICAgICAgICBOT1RFOgogICAgICAgIC0gWW91IE1VU1QgdXNlIHRoZSBoZWxwZXIgZnVuY3Rpb24gY3JlYXRlX29mZmVyaW5nX2RpY3QgZnJvbQogICAgICAgICAgZ3ltX3V0aWxpdGllcyB0byBjcmVhdGUgdGhlIGRpY3Rpb25hcmllcywgaW4gb3JkZXIgdG8gbWFrZSBzdXJlIHlvdQogICAgICAgICAgbWF0Y2ggdGhlIGZvcm1hdCBzcGVjaWZpZWQgYWJvdmUuCiAgICAgICAgLSBZb3UgTVVTVCB1c2UgdGhlIGhlbHBlciBtZXRob2QgX2lzX2luc3RydWN0b3JfbmFtZV91bmlxdWUgd2hlbgogICAgICAgICAgZGVjaWRpbmcgaG93IHRvIGZvcm1hdCB0aGUgaW5zdHJ1Y3RvciBuYW1lLgoKICAgICAgICA+Pj4gYWMgPSBHeW0oJ0F0aGxldGljIENlbnRyZScpCiAgICAgICAgPj4+IGRpYW5lMSA9IEluc3RydWN0b3IoMSwgJ0RpYW5lJykKICAgICAgICA+Pj4gZGlhbmUxLmFkZF9jZXJ0aWZpY2F0ZSgnQ2FyZGlvIDEnKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gZGlhbmUyID0gSW5zdHJ1Y3RvcigyLCAnRGlhbmUnKQogICAgICAgID4+PiBkYXZpZCA9IEluc3RydWN0b3IoMywgJ0RhdmlkJykKICAgICAgICA+Pj4gZGF2aWQuYWRkX2NlcnRpZmljYXRlKCdTdHJlbmd0aCBUcmFpbmluZycpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5hZGRfaW5zdHJ1Y3RvcihkaWFuZTEpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5hZGRfaW5zdHJ1Y3RvcihkaWFuZTIpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5hZGRfaW5zdHJ1Y3RvcihkYXZpZCkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9yb29tKCdEYW5jZSBTdHVkaW8nLCA1MCkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9yb29tKCdSb29tIEEnLCAyMCkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGJvb3RfY2FtcCA9IFdvcmtvdXRDbGFzcygnQm9vdCBDYW1wJywgWydDYXJkaW8gMSddKQogICAgICAgID4+PiBhYy5hZGRfd29ya291dF9jbGFzcyhib290X2NhbXApCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBraWNrYm94aW5nID0gV29ya291dENsYXNzKCdLaWNrQm94aW5nJywgWydTdHJlbmd0aCBUcmFpbmluZyddKQogICAgICAgID4+PiBhYy5hZGRfd29ya291dF9jbGFzcyhraWNrYm94aW5nKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gdDEgPSBkYXRldGltZSgyMDIyLCA5LCA5LCAxMiwgMCkKICAgICAgICA+Pj4gYWMuc2NoZWR1bGVfd29ya291dF9jbGFzcyh0MSwgJ0RhbmNlIFN0dWRpbycsIGJvb3RfY2FtcC5uYW1lLCAxKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMuc2NoZWR1bGVfd29ya291dF9jbGFzcyh0MSwgJ1Jvb20gQScsIGtpY2tib3hpbmcubmFtZSwgMykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLm9mZmVyaW5nc19hdCh0MSkgPT0gWwogICAgICAgIC4uLiB7ICdEYXRlJzogJ0ZyaWRheSwgMjAyMi0wOS0wOScsICdUaW1lJzogJzEyOjAwJywKICAgICAgICAuLi4gJ0NsYXNzJzogJ0Jvb3QgQ2FtcCcsICdSb29tJzogJ0RhbmNlIFN0dWRpbycsICdSZWdpc3RlcmVkJzogMCwKICAgICAgICAuLi4gJ0F2YWlsYWJsZSc6IDUwLCAnSW5zdHJ1Y3Rvcic6ICdEaWFuZSAoMSknIH0sCiAgICAgICAgLi4uIHsgJ0RhdGUnOiAnRnJpZGF5LCAyMDIyLTA5LTA5JywgJ1RpbWUnOiAnMTI6MDAnLAogICAgICAgIC4uLiAnQ2xhc3MnOiAnS2lja0JveGluZycsICdSb29tJzogJ1Jvb20gQScsICdSZWdpc3RlcmVkJzogMCwKICAgICAgICAuLi4gJ0F2YWlsYWJsZSc6IDIwLCAnSW5zdHJ1Y3Rvcic6ICdEYXZpZCcgfQogICAgICAgIC4uLiBdCiAgICAgICAgVHJ1ZQogICAgICAgICIiIgogICAgICAgIG9mZmVyZWRfbGlzdCA9IFtdCiAgICAgICAgcmVzdWx0X2xpc3QgPSBbXQoKICAgICAgICBpZiBub3Qgc2VsZi5fc2NoZWR1bGUgb3IgdGltZV9wb2ludCBub3QgaW4gc2VsZi5fc2NoZWR1bGU6CiAgICAgICAgICAgIHJldHVybiBbXQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGZvciByb29tX25hbWUgaW4gc29ydGVkKGxpc3Qoc2VsZi5fc2NoZWR1bGVbdGltZV9wb2ludF0ua2V5cygpKSk6CiAgICAgICAgICAgICAgICByZWdpc3RlcmVkID0gbGVuKHNlbGYuX3NjaGVkdWxlW3RpbWVfcG9pbnRdW3Jvb21fbmFtZV1bMl0pCiAgICAgICAgICAgICAgICBpbnN0cnVjdG9yID0gc2VsZi5fc2NoZWR1bGVbdGltZV9wb2ludF1bcm9vbV9uYW1lXVswXQogICAgICAgICAgICAgICAgaW5zdHIgPSBmJ3tpbnN0cnVjdG9yLm5hbWV9JyBpZiBcCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2lzX2luc3RydWN0b3JfbmFtZV91bmlxdWUoaW5zdHJ1Y3RvcikgZWxzZSBcCiAgICAgICAgICAgICAgICAgICAgICAgIGYne2luc3RydWN0b3IubmFtZX0gKHtpbnN0cnVjdG9yLmdldF9pZCgpfSknCiAgICAgICAgICAgICAgICBvZmZlcmVkX2xpc3QuYXBwZW5kKCh0aW1lX3BvaW50LnN0cmZ0aW1lKCIlQSwgJVktJW0tJWQiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVfcG9pbnQuc3RyZnRpbWUoJyVIOiVNJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9zY2hlZHVsZVt0aW1lX3BvaW50XVtyb29tX25hbWVdWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMV0ubmFtZSwgcm9vbV9uYW1lLCByZWdpc3RlcmVkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fcm9vbV9jYXBhY2l0aWVzWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vbV9uYW1lXSAtIHJlZ2lzdGVyZWQsIGluc3RyKSkKCiAgICAgICAgZm9yIGQsIHQsIGMsIG4sIHIsIGEsIGkgaW4gb2ZmZXJlZF9saXN0OgogICAgICAgICAgICByZXN1bHRfbGlzdC5hcHBlbmQoY3JlYXRlX29mZmVyaW5nX2RpY3QoZCwgdCwgYywgbiwgciwgYSwgaSkpCgogICAgICAgIHJldHVybiByZXN1bHRfbGlzdAoKICAgIGRlZiB0b19zY2hlZHVsZV9saXN0KHNlbGYsIHdlZWs6IGRhdGV0aW1lID0gTm9uZSkgXAogICAgICAgICAgICAtPiBsaXN0W2RpY3Rbc3RyLCBzdHIgfCBpbnRdXToKICAgICAgICAiIiJSZXR1cm4gYSBsaXN0IG9mIGRpY3Rpb25hcmllcyBmb3IgdGhlIEd5bSdzIGVudGlyZSBzY2hlZHVsZSwgd2l0aAogICAgICAgIGVhY2ggZGljdGlvbmFyeSByZXByZXNlbnRpbmcgYSB3b3Jrb3V0IG9mZmVyZWQgKGluIHRoZSBmb3JtYXQgc3BlY2lmaWVkCiAgICAgICAgYnkgdGhlIGRvY3N0cmluZyBmb3Igb2ZmZXJpbmdzX2F0KS4KCiAgICAgICAgVGhlIGRpY3Rpb25hcmllcyBzaG91bGQgYmUgaW4gdGhlIGxpc3QgaW4gYXNjZW5kaW5nIG9yZGVyIGJ5IHRoZWlyIGRhdGUKICAgICAgICBhbmQgdGltZSAobm90IHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGRhdGUgYW5kIHRpbWUpLgogICAgICAgIE9mZmVyaW5ncyBvY2N1cnJpbmcgYXQgZXhhY3RseSB0aGUgc2FtZSBkYXRlIGFuZCB0aW1lIHNob3VsZAogICAgICAgIGJlIGluIGFscGhhYmV0aWNhbCBvcmRlciBiYXNlZCBvbiB0aGVpciByb29tIG5hbWVzLgoKICAgICAgICBJZiA8d2Vlaz4gaXMgc3BlY2lmaWVkLCBvbmx5IHJldHVybiB0aGUgZXZlbnRzIHRoYXQgb2NjdXIgYmV0d2VlbiB0aGUKICAgICAgICBkYXRlIGludGVydmFsIChiZXR3ZWVuIGEgTW9uZGF5IDA6MDAgYW5kIFN1bmRheSAyMzo1OSkgdGhhdCBjb250YWlucwogICAgICAgIDx3ZWVrPi4KCiAgICAgICAgSGludDogVGhlIGhlbHBlciBmdW5jdGlvbiA8aW5fd2Vlaz4gY2FuIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIG9uZQogICAgICAgIGRhdGV0aW1lIG9iamVjdCBpcyBpbiB0aGUgc2FtZSB3ZWVrIGFzIGFub3RoZXIuCgogICAgICAgID4+PiBhYyA9IEd5bSgnQXRobGV0aWMgQ2VudHJlJykKICAgICAgICA+Pj4gZGlhbmUxID0gSW5zdHJ1Y3RvcigxLCAnRGlhbmUnKQogICAgICAgID4+PiBkaWFuZTEuYWRkX2NlcnRpZmljYXRlKCdDYXJkaW8gMScpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBkaWFuZTIgPSBJbnN0cnVjdG9yKDIsICdEaWFuZScpCiAgICAgICAgPj4+IGRhdmlkID0gSW5zdHJ1Y3RvcigzLCAnRGF2aWQnKQogICAgICAgID4+PiBkYXZpZC5hZGRfY2VydGlmaWNhdGUoJ1N0cmVuZ3RoIFRyYWluaW5nJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9pbnN0cnVjdG9yKGRpYW5lMSkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9pbnN0cnVjdG9yKGRpYW5lMikKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9pbnN0cnVjdG9yKGRhdmlkKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMuYWRkX3Jvb20oJ1N0dWRpbyAxJywgMjApCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBib290X2NhbXAgPSBXb3Jrb3V0Q2xhc3MoJ0Jvb3QgQ2FtcCcsIFsnQ2FyZGlvIDEnXSkKICAgICAgICA+Pj4gYWMuYWRkX3dvcmtvdXRfY2xhc3MoYm9vdF9jYW1wKQogICAgICAgIFRydWUKICAgICAgICA+Pj4ga2lja2JveGluZyA9IFdvcmtvdXRDbGFzcygnS2lja0JveGluZycsIFsnU3RyZW5ndGggVHJhaW5pbmcnXSkKICAgICAgICA+Pj4gYWMuYWRkX3dvcmtvdXRfY2xhc3Moa2lja2JveGluZykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IHQxID0gZGF0ZXRpbWUoMjAyMiwgOSwgOSwgMTIsIDApCiAgICAgICAgPj4+IGFjLnNjaGVkdWxlX3dvcmtvdXRfY2xhc3ModDEsICdTdHVkaW8gMScsIGJvb3RfY2FtcC5uYW1lLCAxKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gdDIgPSBkYXRldGltZSgyMDIyLCA5LCA4LCAxMywgMCkKICAgICAgICA+Pj4gYWMuc2NoZWR1bGVfd29ya291dF9jbGFzcyh0MiwgJ1N0dWRpbyAxJywga2lja2JveGluZy5uYW1lLCAzKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMudG9fc2NoZWR1bGVfbGlzdCgpID09IFsKICAgICAgICAuLi4geyAnRGF0ZSc6ICdUaHVyc2RheSwgMjAyMi0wOS0wOCcsICdUaW1lJzogJzEzOjAwJywKICAgICAgICAuLi4gJ0NsYXNzJzogJ0tpY2tCb3hpbmcnLCAnUm9vbSc6ICdTdHVkaW8gMScsICdSZWdpc3RlcmVkJzogMCwKICAgICAgICAuLi4gJ0F2YWlsYWJsZSc6IDIwLCAnSW5zdHJ1Y3Rvcic6ICdEYXZpZCcgfSwKICAgICAgICAuLi4geyAnRGF0ZSc6ICdGcmlkYXksIDIwMjItMDktMDknLCAnVGltZSc6ICcxMjowMCcsCiAgICAgICAgLi4uICdDbGFzcyc6ICdCb290IENhbXAnLCAnUm9vbSc6ICdTdHVkaW8gMScsICdSZWdpc3RlcmVkJzogMCwKICAgICAgICAuLi4gJ0F2YWlsYWJsZSc6IDIwLCAnSW5zdHJ1Y3Rvcic6ICdEaWFuZSAoMSknIH0sCiAgICAgICAgLi4uIF0KICAgICAgICBUcnVlCiAgICAgICAgIiIiCiAgICAgICAgcmVzdWx0X2xpc3QgPSBbXQoKICAgICAgICBmb3IgZHQgaW4gc29ydGVkKGxpc3Qoc2VsZi5fc2NoZWR1bGUua2V5cygpKSk6CiAgICAgICAgICAgIGlmIGluX3dlZWsoZHQsIHdlZWspOgogICAgICAgICAgICAgICAgcmVzdWx0X2xpc3QuZXh0ZW5kKHNlbGYub2ZmZXJpbmdzX2F0KGR0KSkKCiAgICAgICAgcmV0dXJuIHJlc3VsdF9saXN0CgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcjogQW55KSAtPiBib29sOgogICAgICAgICIiIlJldHVybiBUcnVlIGlmZiB0aGlzIEd5bSBpcyBlcXVhbCB0byA8b3RoZXI+LgoKICAgICAgICBUd28gZ3ltcyBhcmUgY29uc2lkZXJlZCBlcXVhbCBpZiB0aGV5IGhhdmUgIG5hbWUgdGhlIHNhbWUgbmFtZSwKICAgICAgICBpbnN0cnVjdG9ycywgd29ya291dHMsIHJvb20gY2FwYWNpdGllcywgYW5kIHNjaGVkdWxlLgoKICAgICAgICA+Pj4gYWMgPSBHeW0oJ0F0aGxldGljIENlbnRyZScpCiAgICAgICAgPj4+IGFjMiA9IEd5bSgnQXRobGV0aWMgQ2VudHJlJykKICAgICAgICA+Pj4gYWMgPT0gYWMyCiAgICAgICAgVHJ1ZQogICAgICAgICIiIgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBHeW0pOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBlbGlmIHNlbGYubmFtZSAhPSBvdGhlci5uYW1lIG9yIGxlbihzZWxmLl9pbnN0cnVjdG9ycykgIT0gbGVuKAogICAgICAgICAgICAgICAgc2VsZi5faW5zdHJ1Y3RvcnMpIG9yIGxlbihzZWxmLl93b3Jrb3V0cykgIT0gbGVuKAogICAgICAgICAgICAgICAgb3RoZXIuX3dvcmtvdXRzKSBvciBsZW4oCiAgICAgICAgICAgICAgICBzZWxmLl9yb29tX2NhcGFjaXRpZXMpICE9IGxlbihvdGhlci5fcm9vbV9jYXBhY2l0aWVzKToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZl9pbnN0cl9saXN0ID0gc29ydGVkKGxpc3Qoc2VsZi5faW5zdHJ1Y3RvcnMudmFsdWVzKCkpKQogICAgICAgICAgICBvdGhlcl9pbnN0cl9saXN0ID0gc29ydGVkKGxpc3Qob3RoZXIuX2luc3RydWN0b3JzLnZhbHVlcygpKSkKICAgICAgICAgICAgc2VsZl93b3Jrb3V0c19saXN0ID0gc29ydGVkKGxpc3Qoc2VsZi5fd29ya291dHMudmFsdWVzKCkpKQogICAgICAgICAgICBvdGhlcl93b3Jrb3V0c19saXN0ID0gc29ydGVkKGxpc3Qob3RoZXIuX3dvcmtvdXRzLnZhbHVlcygpKSkKCiAgICAgICAgICAgIHJldHVybiBhbGwoYSA9PSBiIGZvciBhLCBiIGluIHppcChzZWxmX2luc3RyX2xpc3QsIAogICAgICAgICAgICAgICAgICAgb3RoZXJfaW5zdHJfbGlzdCkpIGFuZCBhbGwoCiAgICAgICAgICAgICAgICAgICBhID09IGIgZm9yIGEsIGIgaW4gemlwKHNlbGZfd29ya291dHNfbGlzdCwgCiAgICAgICAgICAgICAgICAgICBvdGhlcl93b3Jrb3V0c19saXN0KSkgYW5kIHNvcnRlZChsaXN0KAogICAgICAgICAgICAgICAgICAgc2VsZi5fcm9vbV9jYXBhY2l0aWVzLnZhbHVlcygpKSkgPT0gc29ydGVkKGxpc3QoCiAgICAgICAgICAgICAgICAgICBvdGhlci5fcm9vbV9jYXBhY2l0aWVzLnZhbHVlcygpKSkKCiAgICBkZWYgdG9fd2VicGFnZShzZWxmLCBmaWxlbmFtZTogc3RyID0gJ3NjaGVkdWxlLmh0bWwnKSAtPiBOb25lOgogICAgICAgICIiIkNyZWF0ZSBhIHNpbXBsZSBodG1sIHdlYnBhZ2UgZnJvbSBkYXRhIGV4cG9ydGVkIGJ5CiAgICAgICAgZ3ltLnRvX3NjaGVkdWxlX2xpc3QgYW5kIHNhdmUgaXQgdG8gdGhlIGZpbGUgPGZpbGVuYW1lPi4KCiAgICAgICAgVGhlIHdlYnBhZ2UgY2FuIGJlIHZpZXdlZCBieSBvcGVuaW5nIGl0IGluIGEgd2ViIGJyb3dzZXIuCgogICAgICAgIFByZWNvbmRpdGlvbjogPGZpbGVuYW1lPiBlbmRzIGluIC5odG1sCiAgICAgICAgIiIiCiAgICAgICAgZGYgPSBwZC5EYXRhRnJhbWUoc2VsZi50b19zY2hlZHVsZV9saXN0KCkpCiAgICAgICAgd3JpdGVfc2NoZWR1bGVfdG9faHRtbChkZiwgZmlsZW5hbWUpCgoKY2xhc3MgSW5zdHJ1Y3RvcjoKICAgICIiIiBBbiBpbnN0cnVjdG9yIHRoYXQgY2FuIHRlYWNoIHdvcmtvdXQgY2xhc3NlcyBpbiBhIGd5bS4KCiAgICA9PT0gUHVibGljIEF0dHJpYnV0ZXMgPT09CiAgICBuYW1lOiB0aGUgbmFtZSBvZiB0aGlzIGluc3RydWN0b3IuCgogICAgPT09IFByaXZhdGUgQXR0cmlidXRlcyA9PT0KICAgIF9pZF86IHRoZSBpZCBvZiB0aGlzIGluc3RydWN0b3IuCiAgICBfY2VydGlmaWNhdGVzOiB0aGUgY2VydGlmaWNhdGVzIHRoYXQgdGhpcyBpbnN0cnVjdG9yIGhhcy4KICAgICIiIgogICAgX2lkXzogaW50CiAgICBuYW1lOiBpbnQKICAgIF9jZXJ0aWZpY2F0ZXM6IGxpc3Rbc3RyXQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBpZF86IGludCwgbmFtZTogc3RyKSAtPiBOb25lOgogICAgICAgICIiIkluaXRpYWxpemUgYSBuZXcgSW5zdHJ1Y3RvciB3aXRoIDxuYW1lPiBhbmQgPGlkXz4uCiAgICAgICAgSW5pdGlhbGx5LCB0aGlzIGluc3RydWN0b3IgaGFzIG5vIGNlcnRpZmljYXRlcy4KCiAgICAgICAgPj4+IGF3ID0gSW5zdHJ1Y3RvcigxLCAnQW50aG9ueSBXYW5nJykKICAgICAgICA+Pj4gYXcubmFtZQogICAgICAgICdBbnRob255IFdhbmcnCiAgICAgICAgIiIiCiAgICAgICAgc2VsZi5faWRfID0gaWRfCiAgICAgICAgc2VsZi5uYW1lID0gbmFtZQogICAgICAgIHNlbGYuX2NlcnRpZmljYXRlcyA9IFtdCgogICAgZGVmIGdldF9pZChzZWxmKSAtPiBpbnQ6CiAgICAgICAgIiIiUmV0dXJuIHRoZSBpZCBvZiB0aGlzIGluc3RydWN0b3IuCgogICAgICAgID4+PiBhdyA9IEluc3RydWN0b3IoMSwgJ0FudGhvbnkgV2FuZycpCiAgICAgICAgPj4+IGF3LmdldF9pZCgpCiAgICAgICAgMQogICAgICAgICIiIgogICAgICAgIHJldHVybiBzZWxmLl9pZF8KCiAgICBkZWYgYWRkX2NlcnRpZmljYXRlKHNlbGYsIGNlcnRpZmljYXRlOiBzdHIpIC0+IGJvb2w6CiAgICAgICAgIiIiQWRkIGEgbmV3IDxjZXJ0aWZpY2F0ZT4gdG8gdGhpcyBJbnN0cnVjdG9yIGlmZiB0aGUgPGluc3RydWN0b3I+IGRvZXMKICAgICAgICBub3QgaGF2ZSB0aGUgc2FtZSBjZXJ0aWZpY2F0ZS4KCiAgICAgICAgUmV0dXJuIFRydWUgaWZmIHRoZSBjZXJ0aWZpY2F0ZSBoYXMgbm90IGFscmVhZHkgYmVlbiBhZGRlZCB0byB0aGlzCiAgICAgICAgSW5zdHJ1Y3Rvci4KCiAgICAgICAgPj4+IGF3ID0gSW5zdHJ1Y3RvcigxLCAnQW50aG9ueSBXYW5nJykKICAgICAgICA+Pj4gYXcuYWRkX2NlcnRpZmljYXRlKCdDYXJkaW8gMScpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhdy5hZGRfY2VydGlmaWNhdGUoJ0NhcmRpbyAxJykKICAgICAgICBGYWxzZQogICAgICAgICIiIgogICAgICAgIGlmIGNlcnRpZmljYXRlIG5vdCBpbiBzZWxmLl9jZXJ0aWZpY2F0ZXM6CiAgICAgICAgICAgIHNlbGYuX2NlcnRpZmljYXRlcy5hcHBlbmQoY2VydGlmaWNhdGUpCiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIGdldF9jZXJ0aWZpY2F0ZXMoc2VsZikgLT4gbGlzdFtzdHJdOgogICAgICAgICIiIlJldHVybiBhbGwgdGhlIGNlcnRpZmljYXRlcyB0aGlzIEluc3RydWN0b3IgaGFzLgoKICAgICAgICA+Pj4gYXcgPSBJbnN0cnVjdG9yKDEsICdBbnRob255IFdhbmcnKQogICAgICAgID4+PiBhdy5hZGRfY2VydGlmaWNhdGUoJ0NhcmRpbyAxJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGF3LmFkZF9jZXJ0aWZpY2F0ZSgnU3RyZW5ndGggVHJhaW5pbmcnKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYXcuZ2V0X2NlcnRpZmljYXRlcygpLmFwcGVuZCgnYScpCiAgICAgICAgPj4+IGF3LmdldF9jZXJ0aWZpY2F0ZXMoKQogICAgICAgIFsnQ2FyZGlvIDEnLCAnU3RyZW5ndGggVHJhaW5pbmcnXQogICAgICAgICIiIgogICAgICAgIG5ld19saXN0ID0gc2VsZi5fY2VydGlmaWNhdGVzLmNvcHkoKQogICAgICAgIHJldHVybiBuZXdfbGlzdAoKICAgIGRlZiBfX2VxX18oc2VsZiwgb3RoZXI6IEFueSkgLT4gYm9vbDoKICAgICAgICAiIiJSZXR1cm4gVHJ1ZSBpZmYgdGhpcyBJbnN0cnVjdG9yIGlzIGVxdWFsIHRvIDxvdGhlcj4uCgogICAgICAgIFR3byBJbnN0cnVjdG9ycyBhcmUgY29uc2lkZXJlZCBlcXVhbCBpZiB0aGV5IGhhdmUgdGhlIHNhbWUgbmFtZSwgaWQgYW5kCiAgICAgICAgY2VydGlmaWNhdGVzLgoKICAgICAgICA+Pj4gaW5zdHJ1Y3RvcjEgPSBJbnN0cnVjdG9yKDEsICJBbnRob255IikKICAgICAgICA+Pj4gaW5zdHJ1Y3RvcjIgPSBJbnN0cnVjdG9yKDEsICJBbnRob255IikKICAgICAgICA+Pj4gaW5zdHJ1Y3RvcjEuYWRkX2NlcnRpZmljYXRlKCdDYXJkaW8gMScpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBpbnN0cnVjdG9yMi5hZGRfY2VydGlmaWNhdGUoJ0NhcmRpbyAxJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGluc3RydWN0b3IxID09IGluc3RydWN0b3IyCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBpbnN0cnVjdG9yMyA9IEluc3RydWN0b3IoMSwgIkFudGhvbnkiKQogICAgICAgID4+PiBpbnN0cnVjdG9yMy5hZGRfY2VydGlmaWNhdGUoJ1N0cmVuZ3RoIFRyYWluaW5nJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGluc3RydWN0b3IxID09IGluc3RydWN0b3IzIAogICAgICAgIEZhbHNlCiAgICAgICAgIiIiCiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2Uob3RoZXIsIEluc3RydWN0b3IpOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICByZXR1cm4gKHNlbGYubmFtZSA9PSBvdGhlci5uYW1lIGFuZCBzZWxmLl9pZF8gPT0gb3RoZXIuX2lkXwogICAgICAgICAgICAgICAgYW5kIHNlbGYuX2NlcnRpZmljYXRlcyA9PSBvdGhlci5fY2VydGlmaWNhdGVzKQoKCmRlZiBneW1fZnJvbV95YW1sKGZpbGVuYW1lOiBzdHIpIC0+IEd5bToKICAgICIiIlJldHVybiBhIEd5bSBvYmplY3QgYnVpbGQgZnJvbSB0aGUgZGF0YSBpbiBhIFlBTUwgZmlsZSB3aXRoIDxmaWxlbmFtZT4uCgogICAgUHJlY29uZGl0aW9uOiA8ZmlsZW5hbWU+IHVzZXMgdGhlIGZvbGxvd2luZyBmb3JtYXQ6CiAgICAgICAgbmFtZTogPG5hbWUgb2YgZ3ltPgogICAgICAgIGluc3RydWN0b3JzOgogICAgICAgICAgICAtICAgaWQ6IDxpbnN0cnVjdG9yIElEPgogICAgICAgICAgICAgICAgbmFtZTogPGluc3RydWN0b3IgbmFtZT4KICAgICAgICAgICAgICAgIGNlcnRpZmljYXRlczoKICAgICAgICAgICAgICAgICAgICAtIDxjZXJ0aWZpY2F0ZSBuYW1lPgogICAgICAgICAgICAgICAgICAgIC0gLi4uCiAgICAgICAgcm9vbXM6CiAgICAgICAgICAgIC0gICBuYW1lOiA8cm9vbSBuYW1lPgogICAgICAgICAgICAgICAgY2FwYWNpdHk6IDxyb29tIGNhcGFjaXR5PgogICAgICAgIHdvcmtvdXRfY2xhc3NlczoKICAgICAgICAgICAgLSAgIG5hbWU6IDx3b3Jrb3V0IGNsYXNzIG5hbWU+CiAgICAgICAgICAgICAgICBjZXJ0aWZpY2F0ZXM6CiAgICAgICAgICAgICAgICAgICAgLSA8Y2VydGlmaWNhdGUgbmFtZT4KICAgICAgICAgICAgICAgICAgICAtIC4uLgogICAgICAgIHNjaGVkdWxlOgogICAgICAgICAgICAtICAgdGltZTogPHRpbWU+CiAgICAgICAgICAgICAgICByb29tOiA8cm9vbSBuYW1lPgogICAgICAgICAgICAgICAgaW5zdHJ1Y3RvcjogPGluc3RydWN0b3IgaWQ+CiAgICAgICAgICAgICAgICB3b3Jrb3V0X2NsYXNzOiA8d29ya291dCBjbGFzcyBuYW1lPgogICAgICAgICAgICAgICAgcGFydGljaXBhbnRzOgogICAgICAgICAgICAgICAgICAgIC0gPHBhcnRpY2lwYW50IGVtYWlsPgogICAgICAgICAgICAgICAgICAgIC0gLi4uCiAgICAgICAgICAgIC0gICB0aW1lOiA8dGltZT4KICAgICAgICAgICAgICAgIHJvb206IDxyb29tIG5hbWU+CiAgICAgICAgICAgICAgICBpbnN0cnVjdG9yOiA8aW5zdHJ1Y3RvciBpZD4KICAgICAgICAgICAgICAgIHdvcmtvdXRfY2xhc3M6IDx3b3Jrb3V0IGNsYXNzIG5hbWU+CiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6CiAgICAgICAgICAgICAgICAgICAgLSA8cGFydGljaXBhbnQgZW1haWw+CiAgICAgICAgICAgICAgICAgICAgLSAuLi4KICAgICAgICAgICAgLSAgIC4uLgogICAgICAgIFRvIGxlYXJuIG1vcmUgYWJvdXQgdGhlIFlBTUwgZm9ybWF0LCB2aXNpdAogICAgICAgIGh0dHBzOi8vcHluYXRpdmUuY29tL3B5dGhvbi15YW1sCiAgICAiIiIKICAgIHdpdGggb3BlbihmaWxlbmFtZSwgJ3InKSBhcyBmOgogICAgICAgIGd5bV9kYXRhID0geWFtbC5sb2FkKGYsIExvYWRlcj15YW1sLkZ1bGxMb2FkZXIpCgogICAgZ3ltID0gR3ltKGd5bV9kYXRhWyduYW1lJ10pCgogICAgIyBNYWtlIHN1cmUgdGhpcyBjb2RlIGNhbiBydW4gYnkgYWRkaW5nIHRoZSBuZWNlc3NhcnkgbWV0aG9kcyB0byB5b3VyCiAgICAjIEluc3RydWN0b3IgY2xhc3MhCiAgICBmb3IgaW5zdHIgaW4gZ3ltX2RhdGFbJ2luc3RydWN0b3JzJ106CiAgICAgICAgaW5zdHJ1Y3RvciA9IEluc3RydWN0b3IoaW5zdHJbJ2lkJ10sIGluc3RyWyduYW1lJ10pCiAgICAgICAgZm9yIGNlcnQgaW4gaW5zdHJbJ2NlcnRpZmljYXRlcyddOgogICAgICAgICAgICBpbnN0cnVjdG9yLmFkZF9jZXJ0aWZpY2F0ZShjZXJ0KQogICAgICAgIGd5bS5hZGRfaW5zdHJ1Y3RvcihpbnN0cnVjdG9yKQoKICAgIGZvciByb29tIGluIGd5bV9kYXRhWydyb29tcyddOgogICAgICAgIGd5bS5hZGRfcm9vbShyb29tWyduYW1lJ10sIHJvb21bJ2NhcGFjaXR5J10pCgogICAgZm9yIHdvcmtvdXQgaW4gZ3ltX2RhdGFbJ3dvcmtvdXRfY2xhc3NlcyddOgogICAgICAgIHdjID0gV29ya291dENsYXNzKHdvcmtvdXRbJ25hbWUnXSwgd29ya291dFsnY2VydGlmaWNhdGVzJ10pCiAgICAgICAgZ3ltLmFkZF93b3Jrb3V0X2NsYXNzKHdjKQoKICAgIGZvciBldmVudCBpbiBneW1fZGF0YVsnc2NoZWR1bGUnXToKICAgICAgICBneW0uc2NoZWR1bGVfd29ya291dF9jbGFzcyhldmVudFsndGltZSddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50Wydyb29tJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRbJ3dvcmtvdXRfY2xhc3MnXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFsnaW5zdHJ1Y3RvciddKQoKICAgICAgICBmb3IgcGFydGljaXBhbnQgaW4gZXZlbnRbJ3BhcnRpY2lwYW50cyddOgogICAgICAgICAgICBneW0ucmVnaXN0ZXIoZXZlbnRbJ3RpbWUnXSwgcGFydGljaXBhbnQsIGV2ZW50Wyd3b3Jrb3V0X2NsYXNzJ10pCgogICAgcmV0dXJuIGd5bQoKCmRlZiBodG1sX2FuZF9wYXlyb2xsX2RlbW8oKSAtPiBOb25lOgogICAgIiIiRGVtb25zdHJhdGVzIGhvdyB0byByZWFkIGRhdGEgYWJvdXQgYSBneW0gZnJvbSBhIGZpbGUsIGNhbGN1bGF0ZQogICAgcGF5cm9sbCBpbmZvcm1hdGlvbiwgYW5kIGRpc3BsYXkgdGhlIGd5bSdzIHNjaGVkdWxlIGluIGh0bWwuCiAgICAiIiIKICAgICMgQ3JlYXRlIGEgZ3ltIG9iamVjdCBmb3IgdGhlIEF0aGxldGljIENlbnRyZSBmcm9tIGRhdGEgaW4gYSB5YW1sIGZpbGUuCiAgICBhYyA9IGd5bV9mcm9tX3lhbWwoJ2F0aGxldGljLWNlbnRyZS55YW1sJykKCiAgICAjIFZpZXcgcGF5cm9sbCBmb3IgYSBzcGVjaWZpYyA5YW0gdG8gMTBhbSBvbiBKYW4gMTR0aCAyMDIwCiAgICAjIGF0IGEgcmF0ZSBvZiAkMjUuMC9ocgogICAgdDEgPSBkYXRldGltZSgyMDIwLCAxLCAxNCwgOSwgMCkKICAgIHQyID0gZGF0ZXRpbWUoMjAyMCwgMSwgMTQsIDEwLCAwKQogICAgcHJpbnQoZidQYXlyb2xsIGJldHdlZW4ge3QxfSBhbmQge3QyfTonKQogICAgZm9yIGVudHJ5IGluIGFjLnBheXJvbGwodDEsIHQyLCAyNS4wKToKICAgICAgICBwcmludChlbnRyeSkKCiAgICAjIFZpZXcgcGF5cm9sbCBmb3IgYSBzcGVjaWZpYyA5YW0gdG8gNnBtIG9uIEphbiAxNHRoIDIwMjAKICAgIHQzID0gZGF0ZXRpbWUoMjAyMCwgMSwgMTQsIDE4LCAwKQogICAgcHJpbnQoZidQYXlyb2xsIGJldHdlZW4ge3QxfSBhbmQge3QzfTonKQogICAgZm9yIGVudHJ5IGluIGFjLnBheXJvbGwodDEsIHQzLCAyNS4wKToKICAgICAgICBwcmludChlbnRyeSkKCiAgICAjIE1ha2UgYW5kIGRpc3BsYXkgYSB3ZWJwYWdlIHNob3dpbmcgdGhlIHdob2xlIHNjaGVkdWxlIGZvciB0aGUgQXRobGV0aWMKICAgICMgQ2VudHJlLgogICAgYWMudG9fd2VicGFnZSgnYXRobGV0aWMtY2VudHJlLmh0bWwnKQogICAgaHRtbF9maWxlID0gJ2ZpbGU6Ly8vLycgKyBvcy5wYXRoLnJlYWxwYXRoKCJhdGhsZXRpYy1jZW50cmUuaHRtbCIpCiAgICBwcmludChmIk9wZW5pbmcge2h0bWxfZmlsZX0gaW4gYSB3ZWIgYnJvd3Nlci4uLiBpZiBpdCBkb2Vzbid0IG9wZW4sIgogICAgICAgICAgZiJjbGljayB0aGUgbGluayBhYm92ZSB0byB2aWV3IHRoZSBodG1sIGZpbGUiKQogICAgd2ViYnJvd3Nlci5vcGVuKGh0bWxfZmlsZSkKCgppZiBfX25hbWVfXyA9PSAnX19tYWluX18nOgogICAgIyBpbXBvcnQgcHl0aG9uX3RhCiAgICAjIHB5dGhvbl90YS5jaGVja19hbGwoY29uZmlnPXsKICAgICMgICAgICdhbGxvd2VkLWlvJzogWydneW1fZnJvbV95YW1sJywgJ2h0bWxfYW5kX3BheXJvbGxfZGVtbyddLAogICAgIyAgICAgJ2FsbG93ZWQtaW1wb3J0LW1vZHVsZXMnOiBbJ2RvY3Rlc3QnLCAncHl0aG9uX3RhJywgJ3R5cGluZycsCiAgICAjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZGF0ZXRpbWUnLCAncGFuZGFzJywgJ3lhbWwnLCAnb3MnLAogICAgIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3dhcm5pbmdzJywgJ3dlYmJyb3dzZXInLAogICAgIyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2d5bV91dGlsaXRpZXMnLCAnX19mdXR1cmVfXyddLAogICAgIyAgICAgJ2Rpc2FibGUnOiBbJ0MwMzAyJ10sCiAgICAjICAgICAjIFVuY29tbWVudCB0aGUgbGluZSBiZWxvdyB0byBzZWUgdGhlIFB5dGhvblRBIHJlcG9ydCBpbiB5b3VyCiAgICAjICAgICAjIFB5dGhvbiBjb25zb2xlIGluc3RlYWQ6CiAgICAjICAgICAnb3V0cHV0LWZvcm1hdCc6ICdweXRob25fdGEucmVwb3J0ZXJzLkNvbG9yUmVwb3J0ZXInCiAgICAjIH0pCiAgICBpbXBvcnQgZG9jdGVzdAogICAgZG9jdGVzdC50ZXN0bW9kKCkKICAgICMKICAgICMgaHRtbF9hbmRfcGF5cm9sbF9kZW1vKCkK",
					"AgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/AAAAAAEAAAAndQAAAAAAACd1AAAAAAAAAAAAAAAA8L8"
				],
				[
					46,
					1,
					"nv_vi_dd",
					{
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAJFwAAAAAAAAkXAAAAAAAAAtAAAAICAgICAgICBuZXdfbGlzdCA9IHNlbGYuX2NlcnRpZmljYXRlcy5jb3B5KCkK",
					"AQAAAAAAAAABAAAApHAAAAAAAACkcAAAAAAAAAAAAAAAAPC/"
				],
				[
					55,
					1,
					"nv_vi_paste",
					{
						"before_cursor": false,
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAKlwAAAAAAAA1nAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAn3AAAAAAAACfcAAAAAAAAAAAAAAAAPC/"
				],
				[
					60,
					1,
					"nv_vi_dd",
					{
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAJFwAAAAAAAAkXAAAAAAAAAYAAAAICAgICAgICByZXR1cm4gbmV3X2xpc3QK",
					"AQAAAAAAAAABAAAAmXAAAAAAAACZcAAAAAAAAAAAAAAAAPC/"
				],
				[
					65,
					1,
					"nv_vi_d",
					{
						"count": 1,
						"mode": "mode_visual",
						"register": "\""
					},
					"AQAAAJlwAAAAAAAAmXAAAAAAAAAKAAAAbmV3X2xpc3QgPQ",
					"AQAAAAAAAAABAAAAmXAAAAAAAACjcAAAAAAAAAAAAAAAAPC/"
				],
				[
					68,
					1,
					"insert",
					{
						"characters": "return"
					},
					"BgAAAJlwAAAAAAAAmnAAAAAAAAAAAAAAmnAAAAAAAACbcAAAAAAAAAAAAACbcAAAAAAAAJxwAAAAAAAAAAAAAJxwAAAAAAAAnXAAAAAAAAAAAAAAnXAAAAAAAACecAAAAAAAAAAAAACecAAAAAAAAJ9wAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAmXAAAAAAAACZcAAAAAAAAAAAAAAAAPC/"
				],
				[
					80,
					1,
					"nv_vi_big_d",
					{
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAALJwAAAAAAAAsnAAAAAAAAAHAAAALmNvcHkoKQ",
					"AQAAAAAAAAABAAAAsnAAAAAAAACycAAAAAAAAAAAAAAAAPC/"
				],
				[
					213,
					1,
					"sequence",
					{
						"commands":
						[
							[
								"nv_vi_big_a",
								{
									"count": 1,
									"mode": "mode_internal_normal"
								}
							],
							[
								"insert_snippet",
								{
									"contents": "[$0]"
								}
							],
							[
								"insert",
								{
									"characters": ":"
								}
							]
						]
					},
					"AgAAALJwAAAAAAAAtHAAAAAAAAAAAAAAs3AAAAAAAAC0cAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAsXAAAAAAAACxcAAAAAAAAAAAAAAAAPC/"
				],
				[
					449,
					1,
					"nv_vi_d",
					{
						"count": 1,
						"mode": "mode_visual",
						"register": "\""
					},
					"AQAAAMFkAAAAAAAAwWQAAAAAAADBAgAAZWxpZiBzZWxmLm5hbWUgIT0gb3RoZXIubmFtZSBvciBzZWxmLl9pbnN0cnVjdG9ycy5rZXlzKAogICAgICAgICAgICAgKSAhPSBvdGhlci5faW5zdHJ1Y3RvcnMua2V5cygpIG9yIFwKICAgICAgICAgICAgIHNlbGYuX3dvcmtvdXRzLmtleXMoKSAhPSBvdGhlci5fd29ya291dHMua2V5cygpIG9yIFwKICAgICAgICAgICAgIHNlbGYuX3Jvb21fY2FwYWNpdGllcy5rZXlzKCkgIT0gb3RoZXIuX3Jvb21fY2FwYWNpdGllcy5rZXlzKCk6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBhbGwoc2VsZi5faW5zdHJ1Y3RvcnNba2V5XSA9PSBvdGhlci5faW5zdHJ1Y3RvcnNba2V5XSBmb3Iga2V5CiAgICAgICAgICAgICAgICAgICBpbiBsaXN0KHNlbGYuX2luc3RydWN0b3JzLmtleXMoKSkpIGFuZCBhbGwoCiAgICAgICAgICAgICAgICAgICBzZWxmLl93b3Jrb3V0c1trZXldID09IG90aGVyLl93b3Jrb3V0c1trZXldIGZvciBrZXkKICAgICAgICAgICAgICAgICAgIGluIGxpc3Qoc2VsZi5fd29ya291dHMua2V5cygpKSkgYW5kIGFsbCgKICAgICAgICAgICAgICAgICAgIHNlbGYuX3Jvb21fY2FwYWNpdGllc1trZXldID09IG90aGVyLl9yb29tX2NhcGFjaXRpZXNba2V5XSBcCiAgICAgICAgICAgICAgICAgICBmb3Iga2V5IGluIGxpc3Qoc2VsZi5fcm9vbV9jYXBhY2l0aWVzLmtleXMoKSkp",
					"AQAAAAAAAAABAAAAgmcAAAAAAADBZAAAAAAAAAAAAAAAAPC/"
				],
				[
					453,
					1,
					"insert",
					{
						"characters": "return"
					},
					"BgAAAMFkAAAAAAAAwmQAAAAAAAAAAAAAwmQAAAAAAADDZAAAAAAAAAAAAADDZAAAAAAAAMRkAAAAAAAAAAAAAMRkAAAAAAAAxWQAAAAAAAAAAAAAxWQAAAAAAADGZAAAAAAAAAAAAADGZAAAAAAAAMdkAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAwWQAAAAAAADBZAAAAAAAAAAAAAAAAPC/"
				],
				[
					454,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAMdkAAAAAAAAyGQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAx2QAAAAAAADHZAAAAAAAAAAAAAAAAPC/"
				],
				[
					464,
					1,
					"insert",
					{
						"characters": "self._in"
					},
					"CAAAAMhkAAAAAAAAyWQAAAAAAAAAAAAAyWQAAAAAAADKZAAAAAAAAAAAAADKZAAAAAAAAMtkAAAAAAAAAAAAAMtkAAAAAAAAzGQAAAAAAAAAAAAAzGQAAAAAAADNZAAAAAAAAAAAAADNZAAAAAAAAM5kAAAAAAAAAAAAAM5kAAAAAAAAz2QAAAAAAAAAAAAAz2QAAAAAAADQZAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAyGQAAAAAAADIZAAAAAAAAAAAAAAAAPC/"
				],
				[
					465,
					1,
					"insert_completion",
					{
						"completion": "_instructors",
						"format": "snippet",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "_instructors"
					},
					"AgAAAM1kAAAAAAAAzWQAAAAAAAADAAAAX2luzWQAAAAAAADZZAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0GQAAAAAAADQZAAAAAAAAAAAAAAAAPC/"
				],
				[
					466,
					1,
					"insert",
					{
						"characters": " =="
					},
					"AwAAANlkAAAAAAAA2mQAAAAAAAAAAAAA2mQAAAAAAADbZAAAAAAAAAAAAADbZAAAAAAAANxkAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA2WQAAAAAAADZZAAAAAAAAAAAAAAAAPC/"
				],
				[
					467,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAANxkAAAAAAAA3WQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3GQAAAAAAADcZAAAAAAAAAAAAAAAAPC/"
				],
				[
					469,
					1,
					"insert",
					{
						"characters": "other._i"
					},
					"CAAAAN1kAAAAAAAA3mQAAAAAAAAAAAAA3mQAAAAAAADfZAAAAAAAAAAAAADfZAAAAAAAAOBkAAAAAAAAAAAAAOBkAAAAAAAA4WQAAAAAAAAAAAAA4WQAAAAAAADiZAAAAAAAAAAAAADiZAAAAAAAAONkAAAAAAAAAAAAAONkAAAAAAAA5GQAAAAAAAAAAAAA5GQAAAAAAADlZAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA3WQAAAAAAADdZAAAAAAAAAAAAAAAAPC/"
				],
				[
					472,
					1,
					"insert",
					{
						"characters": "nst"
					},
					"AwAAAOVkAAAAAAAA5mQAAAAAAAAAAAAA5mQAAAAAAADnZAAAAAAAAAAAAADnZAAAAAAAAOhkAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA5WQAAAAAAADlZAAAAAAAAAAAAAAAAPC/"
				],
				[
					473,
					1,
					"insert_completion",
					{
						"completion": "_instructors",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "_instructors"
					},
					"AgAAAONkAAAAAAAA42QAAAAAAAAFAAAAX2luc3TjZAAAAAAAAO9kAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA6GQAAAAAAADoZAAAAAAAAAAAAAAAAPC/"
				],
				[
					475,
					1,
					"insert",
					{
						"characters": ","
					},
					"AQAAAO9kAAAAAAAA8GQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA72QAAAAAAADvZAAAAAAAAAAAAAAAAPC/"
				],
				[
					477,
					1,
					"left_delete",
					null,
					"AQAAAO9kAAAAAAAA72QAAAAAAAABAAAALA",
					"AQAAAAAAAAABAAAA8GQAAAAAAADwZAAAAAAAAAAAAAAAAPC/"
				],
				[
					479,
					1,
					"insert",
					{
						"characters": " and"
					},
					"BAAAAO9kAAAAAAAA8GQAAAAAAAAAAAAA8GQAAAAAAADxZAAAAAAAAAAAAADxZAAAAAAAAPJkAAAAAAAAAAAAAPJkAAAAAAAA82QAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA72QAAAAAAADvZAAAAAAAAAAAAAAAAPC/"
				],
				[
					480,
					1,
					"insert",
					{
						"characters": " self._"
					},
					"BwAAAPNkAAAAAAAA9GQAAAAAAAAAAAAA9GQAAAAAAAD1ZAAAAAAAAAAAAAD1ZAAAAAAAAPZkAAAAAAAAAAAAAPZkAAAAAAAA92QAAAAAAAAAAAAA92QAAAAAAAD4ZAAAAAAAAAAAAAD4ZAAAAAAAAPlkAAAAAAAAAAAAAPlkAAAAAAAA+mQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA82QAAAAAAADzZAAAAAAAAAAAAAAAAPC/"
				],
				[
					481,
					1,
					"insert",
					{
						"characters": "in"
					},
					"AgAAAPpkAAAAAAAA+2QAAAAAAAAAAAAA+2QAAAAAAAD8ZAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+mQAAAAAAAD6ZAAAAAAAAAAAAAAAAPC/"
				],
				[
					482,
					1,
					"insert_completion",
					{
						"completion": "_instructors",
						"format": "snippet",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "_instructors"
					},
					"AgAAAPlkAAAAAAAA+WQAAAAAAAADAAAAX2lu+WQAAAAAAAAFZQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/GQAAAAAAAD8ZAAAAAAAAAAAAAAAAPC/"
				],
				[
					484,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAAVlAAAAAAAABmUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABWUAAAAAAAAFZQAAAAAAAAAAAAAAAPC/"
				],
				[
					486,
					1,
					"insert",
					{
						"characters": "\\"
					},
					"AQAAAAZlAAAAAAAAB2UAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABmUAAAAAAAAGZQAAAAAAAAAAAAAAAPC/"
				],
				[
					488,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAAdlAAAAAAAACGUAAAAAAAAAAAAACGUAAAAAAAAQZQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAB2UAAAAAAAAHZQAAAAAAAAAAAAAAAPC/"
				],
				[
					491,
					1,
					"insert",
					{
						"characters": "       "
					},
					"BwAAABBlAAAAAAAAEWUAAAAAAAAAAAAAEWUAAAAAAAASZQAAAAAAAAAAAAASZQAAAAAAABNlAAAAAAAAAAAAABNlAAAAAAAAFGUAAAAAAAAAAAAAFGUAAAAAAAAVZQAAAAAAAAAAAAAVZQAAAAAAABZlAAAAAAAAAAAAABZlAAAAAAAAF2UAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAEGUAAAAAAAAQZQAAAAAAAAAAAAAAAPC/"
				],
				[
					493,
					1,
					"insert",
					{
						"characters": "=="
					},
					"AgAAABdlAAAAAAAAGGUAAAAAAAAAAAAAGGUAAAAAAAAZZQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAF2UAAAAAAAAXZQAAAAAAAAAAAAAAAPC/"
				],
				[
					494,
					1,
					"insert",
					{
						"characters": " self"
					},
					"BQAAABllAAAAAAAAGmUAAAAAAAAAAAAAGmUAAAAAAAAbZQAAAAAAAAAAAAAbZQAAAAAAABxlAAAAAAAAAAAAABxlAAAAAAAAHWUAAAAAAAAAAAAAHWUAAAAAAAAeZQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAGWUAAAAAAAAZZQAAAAAAAAAAAAAAAPC/"
				],
				[
					495,
					1,
					"insert",
					{
						"characters": "."
					},
					"AQAAAB5lAAAAAAAAH2UAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHmUAAAAAAAAeZQAAAAAAAAAAAAAAAPC/"
				],
				[
					496,
					5,
					"left_delete",
					null,
					"BQAAAB5lAAAAAAAAHmUAAAAAAAABAAAALh1lAAAAAAAAHWUAAAAAAAABAAAAZhxlAAAAAAAAHGUAAAAAAAABAAAAbBtlAAAAAAAAG2UAAAAAAAABAAAAZRplAAAAAAAAGmUAAAAAAAABAAAAcw",
					"AQAAAAAAAAABAAAAH2UAAAAAAAAfZQAAAAAAAAAAAAAAAPC/"
				],
				[
					497,
					1,
					"insert",
					{
						"characters": "other."
					},
					"BgAAABplAAAAAAAAG2UAAAAAAAAAAAAAG2UAAAAAAAAcZQAAAAAAAAAAAAAcZQAAAAAAAB1lAAAAAAAAAAAAAB1lAAAAAAAAHmUAAAAAAAAAAAAAHmUAAAAAAAAfZQAAAAAAAAAAAAAfZQAAAAAAACBlAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAGmUAAAAAAAAaZQAAAAAAAAAAAAAAAPC/"
				],
				[
					498,
					1,
					"insert",
					{
						"characters": "_"
					},
					"AQAAACBlAAAAAAAAIWUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIGUAAAAAAAAgZQAAAAAAAAAAAAAAAPC/"
				],
				[
					500,
					7,
					"left_delete",
					null,
					"BwAAACBlAAAAAAAAIGUAAAAAAAABAAAAXx9lAAAAAAAAH2UAAAAAAAABAAAALh5lAAAAAAAAHmUAAAAAAAABAAAAch1lAAAAAAAAHWUAAAAAAAABAAAAZRxlAAAAAAAAHGUAAAAAAAABAAAAaBtlAAAAAAAAG2UAAAAAAAABAAAAdBplAAAAAAAAGmUAAAAAAAABAAAAbw",
					"AQAAAAAAAAABAAAAIWUAAAAAAAAhZQAAAAAAAAAAAAAAAPC/"
				],
				[
					504,
					1,
					"insert",
					{
						"characters": "worktout"
					},
					"CQAAAPpkAAAAAAAA+2QAAAAAAAAAAAAA+2QAAAAAAAD7ZAAAAAAAAAsAAABpbnN0cnVjdG9yc/tkAAAAAAAA/GQAAAAAAAAAAAAA/GQAAAAAAAD9ZAAAAAAAAAAAAAD9ZAAAAAAAAP5kAAAAAAAAAAAAAP5kAAAAAAAA/2QAAAAAAAAAAAAA/2QAAAAAAAAAZQAAAAAAAAAAAAAAZQAAAAAAAAFlAAAAAAAAAAAAAAFlAAAAAAAAAmUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABWUAAAAAAAD6ZAAAAAAAAAAAAAAAAPC/"
				],
				[
					506,
					4,
					"left_delete",
					null,
					"BAAAAAFlAAAAAAAAAWUAAAAAAAABAAAAdABlAAAAAAAAAGUAAAAAAAABAAAAdf9kAAAAAAAA/2QAAAAAAAABAAAAb/5kAAAAAAAA/mQAAAAAAAABAAAAdA",
					"AQAAAAAAAAABAAAAAmUAAAAAAAACZQAAAAAAAAAAAAAAAPC/"
				],
				[
					507,
					1,
					"insert",
					{
						"characters": "out"
					},
					"AwAAAP5kAAAAAAAA/2QAAAAAAAAAAAAA/2QAAAAAAAAAZQAAAAAAAAAAAAAAZQAAAAAAAAFlAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA/mQAAAAAAAD+ZAAAAAAAAAAAAAAAAPC/"
				],
				[
					509,
					1,
					"insert",
					{
						"characters": "s"
					},
					"AQAAAAFlAAAAAAAAAmUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAWUAAAAAAAABZQAAAAAAAAAAAAAAAPC/"
				],
				[
					519,
					1,
					"insert",
					{
						"characters": "other.work"
					},
					"CgAAABdlAAAAAAAAGGUAAAAAAAAAAAAAGGUAAAAAAAAZZQAAAAAAAAAAAAAZZQAAAAAAABplAAAAAAAAAAAAABplAAAAAAAAG2UAAAAAAAAAAAAAG2UAAAAAAAAcZQAAAAAAAAAAAAAcZQAAAAAAAB1lAAAAAAAAAAAAAB1lAAAAAAAAHmUAAAAAAAAAAAAAHmUAAAAAAAAfZQAAAAAAAAAAAAAfZQAAAAAAACBlAAAAAAAAAAAAACBlAAAAAAAAIWUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAF2UAAAAAAAAXZQAAAAAAAAAAAAAAAPC/"
				],
				[
					522,
					1,
					"insert_completion",
					{
						"completion": "workouts",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "workouts"
					},
					"AgAAAB1lAAAAAAAAHWUAAAAAAAAEAAAAd29yax1lAAAAAAAAJWUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIWUAAAAAAAAhZQAAAAAAAAAAAAAAAPC/"
				],
				[
					524,
					1,
					"insert",
					{
						"characters": " and"
					},
					"BAAAACVlAAAAAAAAJmUAAAAAAAAAAAAAJmUAAAAAAAAnZQAAAAAAAAAAAAAnZQAAAAAAAChlAAAAAAAAAAAAAChlAAAAAAAAKWUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAJWUAAAAAAAAlZQAAAAAAAAAAAAAAAPC/"
				],
				[
					525,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAACllAAAAAAAAKmUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAKWUAAAAAAAApZQAAAAAAAAAAAAAAAPC/"
				],
				[
					530,
					1,
					"insert",
					{
						"characters": "self.name"
					},
					"CQAAAMhkAAAAAAAAyWQAAAAAAAAAAAAAyWQAAAAAAADKZAAAAAAAAAAAAADKZAAAAAAAAMtkAAAAAAAAAAAAAMtkAAAAAAAAzGQAAAAAAAAAAAAAzGQAAAAAAADNZAAAAAAAAAAAAADNZAAAAAAAAM5kAAAAAAAAAAAAAM5kAAAAAAAAz2QAAAAAAAAAAAAAz2QAAAAAAADQZAAAAAAAAAAAAADQZAAAAAAAANFkAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAyGQAAAAAAADIZAAAAAAAAAAAAAAAAPC/"
				],
				[
					531,
					1,
					"insert",
					{
						"characters": " =="
					},
					"AwAAANFkAAAAAAAA0mQAAAAAAAAAAAAA0mQAAAAAAADTZAAAAAAAAAAAAADTZAAAAAAAANRkAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA0WQAAAAAAADRZAAAAAAAAAAAAAAAAPC/"
				],
				[
					532,
					1,
					"insert",
					{
						"characters": " other.name"
					},
					"CwAAANRkAAAAAAAA1WQAAAAAAAAAAAAA1WQAAAAAAADWZAAAAAAAAAAAAADWZAAAAAAAANdkAAAAAAAAAAAAANdkAAAAAAAA2GQAAAAAAAAAAAAA2GQAAAAAAADZZAAAAAAAAAAAAADZZAAAAAAAANpkAAAAAAAAAAAAANpkAAAAAAAA22QAAAAAAAAAAAAA22QAAAAAAADcZAAAAAAAAAAAAADcZAAAAAAAAN1kAAAAAAAAAAAAAN1kAAAAAAAA3mQAAAAAAAAAAAAA3mQAAAAAAADfZAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA1GQAAAAAAADUZAAAAAAAAAAAAAAAAPC/"
				],
				[
					533,
					1,
					"insert",
					{
						"characters": " and"
					},
					"BAAAAN9kAAAAAAAA4GQAAAAAAAAAAAAA4GQAAAAAAADhZAAAAAAAAAAAAADhZAAAAAAAAOJkAAAAAAAAAAAAAOJkAAAAAAAA42QAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA32QAAAAAAADfZAAAAAAAAAAAAAAAAPC/"
				],
				[
					534,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAONkAAAAAAAA5GQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA42QAAAAAAADjZAAAAAAAAAAAAAAAAPC/"
				],
				[
					547,
					1,
					"insert",
					{
						"characters": "\\"
					},
					"AQAAAPlkAAAAAAAA+mQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+WQAAAAAAAD5ZAAAAAAAAAAAAAAAAPC/"
				],
				[
					548,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAPpkAAAAAAAA+2QAAAAAAAAAAAAA+2QAAAAAAAADZQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAA+mQAAAAAAAD6ZAAAAAAAAAAAAAAAAPC/"
				],
				[
					551,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAANlAAAAAAAABGUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAA2UAAAAAAAADZQAAAAAAAAAAAAAAAPC/"
				],
				[
					553,
					1,
					"insert",
					{
						"characters": "      "
					},
					"BgAAAARlAAAAAAAABWUAAAAAAAAAAAAABWUAAAAAAAAGZQAAAAAAAAAAAAAGZQAAAAAAAAdlAAAAAAAAAAAAAAdlAAAAAAAACGUAAAAAAAAAAAAACGUAAAAAAAAJZQAAAAAAAAAAAAAJZQAAAAAAAAplAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAABGUAAAAAAAAEZQAAAAAAAAAAAAAAAPC/"
				],
				[
					558,
					1,
					"insert",
					{
						"characters": "self._"
					},
					"BgAAAFdlAAAAAAAAWGUAAAAAAAAAAAAAWGUAAAAAAABZZQAAAAAAAAAAAABZZQAAAAAAAFplAAAAAAAAAAAAAFplAAAAAAAAW2UAAAAAAAAAAAAAW2UAAAAAAABcZQAAAAAAAAAAAABcZQAAAAAAAF1lAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAV2UAAAAAAABXZQAAAAAAAAAAAAAAAPC/"
				],
				[
					560,
					1,
					"insert",
					{
						"characters": "r"
					},
					"AQAAAF1lAAAAAAAAXmUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXWUAAAAAAABdZQAAAAAAAAAAAAAAAPC/"
				],
				[
					562,
					1,
					"left_delete",
					null,
					"AQAAAF1lAAAAAAAAXWUAAAAAAAABAAAAcg",
					"AQAAAAAAAAABAAAAXmUAAAAAAABeZQAAAAAAAAAAAAAAAPC/"
				],
				[
					564,
					1,
					"insert",
					{
						"characters": "ro"
					},
					"AgAAAF1lAAAAAAAAXmUAAAAAAAAAAAAAXmUAAAAAAABfZQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAXWUAAAAAAABdZQAAAAAAAAAAAAAAAPC/"
				],
				[
					565,
					1,
					"insert_completion",
					{
						"completion": "_room_capacities",
						"format": "snippet",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "_room_capacities"
					},
					"AgAAAFxlAAAAAAAAXGUAAAAAAAADAAAAX3JvXGUAAAAAAABsZQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAX2UAAAAAAABfZQAAAAAAAAAAAAAAAPC/"
				],
				[
					566,
					1,
					"insert",
					{
						"characters": " =="
					},
					"AwAAAGxlAAAAAAAAbWUAAAAAAAAAAAAAbWUAAAAAAABuZQAAAAAAAAAAAABuZQAAAAAAAG9lAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAbGUAAAAAAABsZQAAAAAAAAAAAAAAAPC/"
				],
				[
					567,
					1,
					"insert_completion",
					{
						"completion": "os",
						"format": "snippet",
						"keep_prefix": false,
						"must_insert": true,
						"trigger": "os"
					},
					"AQAAAG9lAAAAAAAAcWUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAb2UAAAAAAABvZQAAAAAAAAAAAAAAAPC/"
				],
				[
					568,
					2,
					"left_delete",
					null,
					"AgAAAHBlAAAAAAAAcGUAAAAAAAABAAAAc29lAAAAAAAAb2UAAAAAAAABAAAAbw",
					"AQAAAAAAAAABAAAAcWUAAAAAAABxZQAAAAAAAAAAAAAAAPC/"
				],
				[
					569,
					1,
					"insert",
					{
						"characters": " \\"
					},
					"AgAAAG9lAAAAAAAAcGUAAAAAAAAAAAAAcGUAAAAAAABxZQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAb2UAAAAAAABvZQAAAAAAAAAAAAAAAPC/"
				],
				[
					570,
					1,
					"insert_completion",
					{
						"completion": "os",
						"format": "snippet",
						"keep_prefix": false,
						"must_insert": true,
						"trigger": "os"
					},
					"AQAAAHFlAAAAAAAAc2UAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcWUAAAAAAABxZQAAAAAAAAAAAAAAAPC/"
				],
				[
					571,
					1,
					"insert_completion",
					{
						"completion": "OSError",
						"format": "snippet",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "OSError"
					},
					"AgAAAHFlAAAAAAAAcWUAAAAAAAACAAAAb3NxZQAAAAAAAHhlAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAc2UAAAAAAABzZQAAAAAAAAAAAAAAAPC/"
				],
				[
					572,
					7,
					"left_delete",
					null,
					"BwAAAHdlAAAAAAAAd2UAAAAAAAABAAAAcnZlAAAAAAAAdmUAAAAAAAABAAAAb3VlAAAAAAAAdWUAAAAAAAABAAAAcnRlAAAAAAAAdGUAAAAAAAABAAAAcnNlAAAAAAAAc2UAAAAAAAABAAAARXJlAAAAAAAAcmUAAAAAAAABAAAAU3FlAAAAAAAAcWUAAAAAAAABAAAATw",
					"AQAAAAAAAAABAAAAeGUAAAAAAAB4ZQAAAAAAAAAAAAAAAPC/"
				],
				[
					573,
					1,
					"insert",
					{
						"characters": "\n"
					},
					"AgAAAHFlAAAAAAAAcmUAAAAAAAAAAAAAcmUAAAAAAACBZQAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAcWUAAAAAAABxZQAAAAAAAAAAAAAAAPC/"
				],
				[
					576,
					1,
					"insert",
					{
						"characters": "other._"
					},
					"BwAAAIFlAAAAAAAAgmUAAAAAAAAAAAAAgmUAAAAAAACDZQAAAAAAAAAAAACDZQAAAAAAAIRlAAAAAAAAAAAAAIRlAAAAAAAAhWUAAAAAAAAAAAAAhWUAAAAAAACGZQAAAAAAAAAAAACGZQAAAAAAAIdlAAAAAAAAAAAAAIdlAAAAAAAAiGUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAgWUAAAAAAACBZQAAAAAAAAAAAAAAAPC/"
				],
				[
					579,
					1,
					"insert_completion",
					{
						"completion": "_room_capacities",
						"format": "text",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "_room_capacities"
					},
					"AgAAAIdlAAAAAAAAh2UAAAAAAAABAAAAX4dlAAAAAAAAl2UAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAiGUAAAAAAACIZQAAAAAAAAAAAAAAAPC/"
				],
				[
					586,
					2,
					"anaconda_auto_format",
					null,
					"AQAAAAAAAAAAAAAA8YIAAAAAAAD6ggAAIiIiCkFzc2lnbm1lbnQgMCBTb2x1dGlvbiBDb2RlCkNTQzE0OCwgV2ludGVyIDIwMjMKClRoaXMgY29kZSBpcyBwcm92aWRlZCBzb2xlbHkgZm9yIHRoZSBwZXJzb25hbCBhbmQgcHJpdmF0ZSB1c2Ugb2Ygc3R1ZGVudHMgdGFraW5nCkNTQzE0OCBhdCB0aGUgVW5pdmVyc2l0eSBvZiBUb3JvbnRvLiBDb3B5aW5nIGZvciBwdXJwb3NlcyBvdGhlciB0aGFuIHRoaXMgdXNlCmlzIGV4cHJlc3NseSBwcm9oaWJpdGVkLiAgQWxsIGZvcm1zIG9mIGRpc3RyaWJ1dGlvbiBvZiB0aGlzIGNvZGUsIHdoZXRoZXIgYXMKZ2l2ZW4gb3Igd2l0aCBhbnkgY2hhbmdlcywgYXJlIGV4cHJlc3NseSBwcm9oaWJpdGVkLgoKQXV0aG9yczogTWFyaW8gQmFkciwgSm9uYXRoYW4gQ2FsdmVyLCBUb20gR2luc2JlcmcsIERpYW5lIEhvcnRvbiwKU29waGlhIEh1eW5oLCBDaHJpc3RpbmUgTXVyYWQsIE1pc2hhIFNjaHdhcnR6LCBKYWlzaWUgU2luLCBhbmQgSmFjcXVlbGluZSBTbWl0aC4KCkFsbCBvZiB0aGUgZmlsZXMgaW4gdGhpcyBkaXJlY3RvcnkgYW5kIGFsbCBzdWJkaXJlY3RvcmllcyBhcmU6CkNvcHlyaWdodCAoYykgMjAyMiBNYXJpbyBCYWRyLCBKb25hdGhhbiBDYWx2ZXIsIFRvbSBHaW5zYmVyZywgRGlhbmUgSG9ydG9uLApTb3BoaWEgSHV5bmgsIENocmlzdGluZSBNdXJhZCwgTWlzaGEgU2Nod2FydHosIEphaXNpZSBTaW4sIGFuZCBKYWNxdWVsaW5lIFNtaXRoLgoiIiIKZnJvbSBfX2Z1dHVyZV9fIGltcG9ydCBhbm5vdGF0aW9ucwoKaW1wb3J0IG9zCmltcG9ydCB3ZWJicm93c2VyCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lCmZyb20gdHlwaW5nIGltcG9ydCBBbnkKaW1wb3J0IHBhbmRhcyBhcyBwZAppbXBvcnQgeWFtbApmcm9tIGd5bV91dGlsaXRpZXMgaW1wb3J0IGluX3dlZWssIGNyZWF0ZV9vZmZlcmluZ19kaWN0LCBcCiAgICB3cml0ZV9zY2hlZHVsZV90b19odG1sCgojIFRoZSBhZGRpdGlvbmFsIHBheSBwZXIgaG91ciB0aGF0IGluc3RydWN0b3JzIHJlY2VpdmUgZm9yIGVhY2ggY2VydGlmaWNhdGUgdGhleQojIGhvbGQuCkJPTlVTX1JBVEUgPSAxLjUwCgoKY2xhc3MgV29ya291dENsYXNzOgogICAgIiIiQSB3b3Jrb3V0IGNsYXNzIHRoYXQgY2FuIGJlIG9mZmVyZWQgYXQgYSBneW0uCgogICAgPT09IFB1YmxpYyBBdHRyaWJ1dGVzID09PQogICAgbmFtZTogVGhlIG5hbWUgb2YgdGhlIHdvcmtvdXQgY2xhc3MuCgogICAgPT09IFByaXZhdGUgQXR0cmlidXRlcyA9PT0KICAgIF9yZXF1aXJlZF9jZXJ0aWZpY2F0ZXM6IFRoZSBjZXJ0aWZpY2F0ZXMgdGhhdCBhbiBpbnN0cnVjdG9yIG11c3QgaG9sZCB0bwogICAgICAgIHRlYWNoIHRoaXMgV29ya291dENsYXNzLgogICAgIiIiCiAgICBuYW1lOiBzdHIKICAgIF9yZXF1aXJlZF9jZXJ0aWZpY2F0ZXM6IGxpc3Rbc3RyXQoKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBuYW1lOiBzdHIsIHJlcXVpcmVkX2NlcnRpZmljYXRlczogbGlzdFtzdHJdKSAtPiBOb25lOgogICAgICAgICIiIkluaXRpYWxpemUgYSBuZXcgV29ya291dENsYXNzIGNhbGxlZCA8bmFtZT4gYW5kIHdpdGggdGhlCiAgICAgICAgPHJlcXVpcmVkX2NlcnRpZmljYXRlcz4uCgogICAgICAgID4+PiB3b3Jrb3V0X2NsYXNzID0gV29ya291dENsYXNzKCdLaWNrYm94aW5nJywgWydTdHJlbmd0aCBUcmFpbmluZyddKQogICAgICAgID4+PiB3b3Jrb3V0X2NsYXNzLm5hbWUKICAgICAgICAnS2lja2JveGluZycKICAgICAgICAiIiIKICAgICAgICBzZWxmLm5hbWUgPSBuYW1lCiAgICAgICAgc2VsZi5fcmVxdWlyZWRfY2VydGlmaWNhdGVzID0gcmVxdWlyZWRfY2VydGlmaWNhdGVzWzpdCgogICAgZGVmIGdldF9yZXF1aXJlZF9jZXJ0aWZpY2F0ZXMoc2VsZikgLT4gbGlzdFtzdHJdOgogICAgICAgICIiIlJldHVybiBhbGwgdGhlIGNlcnRpZmljYXRlcyByZXF1aXJlZCB0byB0ZWFjaCB0aGlzIFdvcmtvdXRDbGFzcy4KCiAgICAgICAgPj4+IHdvcmtvdXRfY2xhc3MgPSBXb3Jrb3V0Q2xhc3MoJ0tpY2tib3hpbmcnLCBbJ1N0cmVuZ3RoIFRyYWluaW5nJ10pCiAgICAgICAgPj4+IG5lZWRlZCA9IHdvcmtvdXRfY2xhc3MuZ2V0X3JlcXVpcmVkX2NlcnRpZmljYXRlcygpCiAgICAgICAgPj4+IG5lZWRlZAogICAgICAgIFsnU3RyZW5ndGggVHJhaW5pbmcnXQogICAgICAgID4+PiBuZWVkZWQuYXBwZW5kKCdoYWhhJykKICAgICAgICA+Pj4gdHJ5X2FnYWluID0gd29ya291dF9jbGFzcy5nZXRfcmVxdWlyZWRfY2VydGlmaWNhdGVzKCkKICAgICAgICA+Pj4gdHJ5X2FnYWluCiAgICAgICAgWydTdHJlbmd0aCBUcmFpbmluZyddCiAgICAgICAgIiIiCiAgICAgICAgIyBNYWtlIGEgY29weSBvZiB0aGUgbGlzdCB0byBhdm9pZCBhbGlhc2luZwogICAgICAgIHJldHVybiBzZWxmLl9yZXF1aXJlZF9jZXJ0aWZpY2F0ZXNbOl0KCiAgICBkZWYgX19lcV9fKHNlbGYsIG90aGVyOiBBbnkpIC0+IGJvb2w6CiAgICAgICAgIiIiUmV0dXJuIFRydWUgaWZmIHRoaXMgV29ya291dENsYXNzIGlzIGVxdWFsIHRvIDxvdGhlcj4uCgogICAgICAgIFR3byBXb3Jrb3V0Q2xhc3NlcyBhcmUgY29uc2lkZXJlZCBlcXVhbCBpZiB0aGV5IGhhdmUgdGhlIHNhbWUgbmFtZSBhbmQKICAgICAgICB0aGUgc2FtZSByZXF1aXJlZCBjZXJ0aWZpY2F0ZXMuCgogICAgICAgID4+PiB3b3Jrb3V0X2NsYXNzID0gV29ya291dENsYXNzKCdLaWNrYm94aW5nJywgWydTdHJlbmd0aCBUcmFpbmluZyddKQogICAgICAgID4+PiB3b3Jrb3V0X2NsYXNzMiA9IFdvcmtvdXRDbGFzcygnS2lja2JveGluZycsIFsnU3RyZW5ndGggVHJhaW5pbmcnXSkKICAgICAgICA+Pj4gd29ya291dF9jbGFzcyA9PSB3b3Jrb3V0X2NsYXNzMgogICAgICAgIFRydWUKICAgICAgICA+Pj4gZCA9IHsxOiAxN30KICAgICAgICA+Pj4gd29ya291dF9jbGFzcyA9PSBkCiAgICAgICAgRmFsc2UKICAgICAgICAiIiIKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgV29ya291dENsYXNzKToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgcmV0dXJuIChzZWxmLm5hbWUgPT0gb3RoZXIubmFtZQogICAgICAgICAgICAgICAgYW5kIHNlbGYuX3JlcXVpcmVkX2NlcnRpZmljYXRlcyA9PSBvdGhlci5fcmVxdWlyZWRfY2VydGlmaWNhdGVzKQoKCmNsYXNzIEd5bToKICAgICIiIkEgZ3ltIHRoYXQgaG9zdHMgd29ya291dCBjbGFzc2VzIHRhdWdodCBieSBpbnN0cnVjdG9ycy4KCiAgICBBbGwgb2ZmZXJpbmdzIG9mIHdvcmtvdXQgY2xhc3NlcyBzdGFydCBvbiB0aGUgaG91ciBhbmQgYXJlIDEgaG91ciBsb25nLgogICAgSWYgYSBjbGFzcyBzdGFydHMgYXQgNzowMCBwbSwgZm9yIGV4YW1wbGUsIHdlIHNheSB0aGF0IHRoZSBjbGFzcyBpcyAiYXQiCiAgICB0aGUgdGltZXBvaW50IDc6MDAsIG9yIGp1c3QgYXQgNzowMC4KCiAgICA9PT0gUHVibGljIEF0dHJpYnV0ZXMgPT09CiAgICBuYW1lOiBUaGUgbmFtZSBvZiB0aGUgZ3ltLgoKICAgID09PSBQcml2YXRlIEF0dHJpYnV0ZXMgPT09CiAgICBfaW5zdHJ1Y3RvcnM6IFRoZSBpbnN0cnVjdG9ycyB3aG8gd29yayBhdCB0aGlzIEd5bS4KICAgICAgICBFYWNoIGtleSBpcyBhbiBpbnN0cnVjdG9yJ3MgSUQgYW5kIGl0cyB2YWx1ZSBpcyB0aGUgSW5zdHJ1Y3RvciBvYmplY3QKICAgICAgICByZXByZXNlbnRpbmcgdGhlbS4KICAgIF93b3Jrb3V0czogVGhlIHdvcmtvdXQgY2xhc3NlcyB0aGF0IGFyZSB0YXVnaHQgYXQgdGhpcyBHeW0uCiAgICAgICAgRWFjaCBrZXkgaXMgdGhlIG5hbWUgb2YgYSB3b3Jrb3V0IGNsYXNzIGFuZCBpdHMgdmFsdWUgaXMgdGhlCiAgICAgICAgV29ya291dENsYXNzIG9iamVjdCByZXByZXNlbnRpbmcgaXQuCiAgICBfcm9vbV9jYXBhY2l0aWVzOiBUaGUgcm9vbXMgYW5kIGNhcGFjaXRpZXMgaW4gdGhpcyBHeW0uCiAgICAgICAgRWFjaCBrZXkgaXMgdGhlIG5hbWUgb2YgYSByb29tIGFuZCBpdHMgdmFsdWUgaXMgdGhlIHJvb20ncyBjYXBhY2l0eSwKICAgICAgICB0aGF0IGlzLCB0aGUgbnVtYmVyIG9mIHBlb3BsZSB3aG8gY2FuIHJlZ2lzdGVyIGZvciBhIGNsYXNzIGluIHRoZSByb29tLgogICAgX3NjaGVkdWxlOiBUaGUgc2NoZWR1bGUgb2YgY2xhc3NlcyBvZmZlcmVkIGF0IHRoaXMgZ3ltLgogICAgICAgIEVhY2gga2V5IGlzIGEgZGF0ZSBhbmQgdGltZSBhbmQgaXRzIHZhbHVlIGlzIGEgbmVzdGVkIGRpY3Rpb25hcnkKICAgICAgICBkZXNjcmliaW5nIGFsbCBvZmZlcmluZ3MgdGhhdCBzdGFydCB0aGVuLiBJbiB0aGUgbmVzdGVkIGRpY3Rpb25hcnksCiAgICAgICAgZWFjaCBrZXkgaXMgdGhlIG5hbWUgb2YgYSByb29tIHRoYXQgaGFzIGFuIG9mZmVyaW5nIHNjaGVkdWxlZCB0aGVuLAogICAgICAgIGFuZCBpdHMgdmFsdWUgaXMgYSB0dXBsZSBkZXNjcmliaW5nIHRoZSBvZmZlcmluZy4gVGhlIHR1cGxlIGVsZW1lbnRzCiAgICAgICAgcmVjb3JkLCBpbiBvcmRlcjoKICAgICAgICAgICAgLSB0aGUgaW5zdHJ1Y3RvciB0ZWFjaGluZyB0aGUgY2xhc3MsCiAgICAgICAgICAgIC0gdGhlIHdvcmtvdXQgY2xhc3MgaXRzZWxmLCBhbmQKICAgICAgICAgICAgLSBhIGxpc3Qgb2YgcmVnaXN0ZXJlZCBjbGllbnRzLiBFYWNoIGNsaWVudCBpcyByZXByZXNlbnRlZCBpbiB0aGUKICAgICAgICAgICAgICBsaXN0IGJ5IGEgdW5pcXVlIHN0cmluZy4KCiAgICA9PT0gUmVwcmVzZW50YXRpb24gSW52YXJpYW50cyA9PT0KICAgIC0gQWxsIGluc3RydWN0b3JzIGluIF9zY2hlZHVsZSBhcmUgaW4gX2luc3RydWN0b3JzICh0aGUgcmV2ZXJzZSBpcyBub3QKICAgICAgbmVjZXNzYXJpbHkgdHJ1ZSkuCiAgICAtIEFsbCB3b3Jrb3V0IGNsYXNzZXMgaW4gX3NjaGVkdWxlIGFyZSBpbiBfd29ya291dHMgKHRoZSByZXZlcnNlIGlzIG5vdAogICAgICBuZWNlc3NhcmlseSB0cnVlKS4KICAgIC0gQWxsIHJvb21zIHJlY29yZGVkIGluIF9zY2hlZHVsZSBhcmUgYWxzbyByZWNvcmRlZCBpbiBfcm9vbV9jYXBhY2l0aWVzICh0aGUKICAgICAgcmV2ZXJzZSBpcyBub3QgbmVjZXNzYXJpbHkgdHJ1ZSkuCiAgICAtIFR3byB3b3Jrb3V0IGNsYXNzZXMgY2Fubm90IGJlIHNjaGVkdWxlZCBhdCB0aGUgc2FtZSB0aW1lIGluIHRoZSBzYW1lIHJvb20uCiAgICAtIE5vIGluc3RydWN0b3IgaXMgc2NoZWR1bGVkIHRvIHRlYWNoIHR3byB3b3Jrb3V0IGNsYXNzZXMgYXQgdGhlIHNhbWUgdGltZS4KICAgICAgSS5lLiwgdGhlcmUgZG9lcyBub3QgZXhpc3QgdGltZXBvaW50IHQsIGFuZCByb29tcyByMSBhbmQgcjIgc3VjaCB0aGF0CiAgICAgICAgICBfc2NoZWR1bGVbdF1bcjFdWzBdID09IF9zY2hlZHVsZVt0XVtyMl1bMF0KICAgIC0gTm8gY2xpZW50IGNhbiB0YWtlIHR3byB3b3Jrb3V0IGNsYXNzZXMgYXQgdGhlIHNhbWUgdGltZS4KICAgICAgSS5lLiwgdGhlcmUgZG9lcyBub3QgZXhpc3QgdGltZXBvaW50IHQsIGFuZCByb29tcyByMSBhbmQgcjIgc3VjaCB0aGF0CiAgICAgICAgICBjIGluIF9zY2hlZHVsZVt0XVtyMV1bMl0gYW5kIGMgaW4gX3NjaGVkdWxlW3RdW3IyXVsyXQogICAgLSBJZiBhbiBpbnN0cnVjdG9yIGlzIHNjaGVkdWxlZCB0byB0ZWFjaCBhIHdvcmtvdXQgY2xhc3MsIHRoZXkgaGF2ZSB0aGUKICAgICAgbmVjZXNzYXJ5IHF1YWxpZmljYXRpb25zLgogICAgLSBJZiB0aGVyZSBhcmUgbm8gb2ZmZXJpbmdzIHNjaGVkdWxlZCBhdCBkYXRlIGFuZCB0aW1lIDxkPiwgdGhlbiA8ZD4KICAgICAgZG9lcyBub3Qgb2NjdXIgYXMgYSBrZXkgaW4gX3NjaGVkdWxlLgogICAgLSBJZiB0aGVyZSBhcmUgbm8gb2ZmZXJpbmdzIHNjaGVkdWxlZCBhdCBkYXRlIGFuZCB0aW1lIDxkPiBpbiByb29tIDxyPiB0aGVuCiAgICAgIDxyPiBkb2VzIG5vdCBvY2N1ciBhcyBhIGtleSBpbiBfc2NoZWR1bGVbZF0KICAgIC0gRWFjaCBsaXN0IG9mIHJlZ2lzdGVyZWQgY2xpZW50cyBmb3IgYW4gb2ZmZXJpbmcgaXMgb3JkZXJlZCB3aXRoIHRoZSBtb3N0CiAgICAgIHJlY2VudGx5IHJlZ2lzdGVyZWQgY2xpZW50IGF0IHRoZSBlbmQgb2YgdGhlIGxpc3QuCiAgICAiIiIKICAgIG5hbWU6IHN0cgogICAgX2luc3RydWN0b3JzOiBkaWN0W2ludCwgSW5zdHJ1Y3Rvcl0KICAgIF93b3Jrb3V0czogZGljdFtzdHIsIFdvcmtvdXRDbGFzc10KICAgIF9yb29tX2NhcGFjaXRpZXM6IGRpY3Rbc3RyLCBpbnRdCiAgICBfc2NoZWR1bGU6IGRpY3RbZGF0ZXRpbWUsCiAgICAgICAgICAgICAgICAgICAgZGljdFtzdHIsIHR1cGxlW0luc3RydWN0b3IsIFdvcmtvdXRDbGFzcywgbGlzdFtzdHJdXV1dCgogICAgZGVmIF9faW5pdF9fKHNlbGYsIGd5bV9uYW1lOiBzdHIpIC0+IE5vbmU6CiAgICAgICAgIiIiSW5pdGlhbGl6ZSBhIG5ldyBHeW0gd2l0aCA8bmFtZT4uIEluaXRpYWxseSwgdGhpcyBneW0gaGFzIG5vCiAgICAgICAgaW5zdHJ1Y3RvcnMsIHdvcmtvdXQgY2xhc3Nlcywgcm9vbXMsIG9yIG9mZmVyaW5ncy4KCiAgICAgICAgPj4+IGFjID0gR3ltKCdBdGhsZXRpYyBDZW50cmUnKQogICAgICAgID4+PiBhYy5uYW1lCiAgICAgICAgJ0F0aGxldGljIENlbnRyZScKICAgICAgICAiIiIKICAgICAgICBzZWxmLm5hbWUgPSBneW1fbmFtZQogICAgICAgIHNlbGYuX2luc3RydWN0b3JzID0ge30KICAgICAgICBzZWxmLl93b3Jrb3V0cyA9IHt9CiAgICAgICAgc2VsZi5fcm9vbV9jYXBhY2l0aWVzID0ge30KICAgICAgICBzZWxmLl9zY2hlZHVsZSA9IHt9CgogICAgZGVmIGFkZF9pbnN0cnVjdG9yKHNlbGYsIGluc3RydWN0b3I6IEluc3RydWN0b3IpIC0+IGJvb2w6CiAgICAgICAgIiIiQWRkIGEgbmV3IDxpbnN0cnVjdG9yPiB0byB0aGlzIEd5bSdzIHJvc3RlciBpZmYgdGhlIDxpbnN0cnVjdG9yPiBkb2VzCiAgICAgICAgbm90IGhhdmUgdGhlIHNhbWUgaWQgYXMgYW5vdGhlciBpbnN0cnVjdG9yIGF0IHRoaXMgR3ltLgoKICAgICAgICBSZXR1cm4gVHJ1ZSBpZmYgdGhlIGlkIGhhcyBub3QgYWxyZWFkeSBiZWVuIGFkZGVkIHRvIHRoaXMgR3ltJ3Mgcm9zdGVyLgoKICAgICAgICA+Pj4gYWMgPSBHeW0oJ0F0aGxldGljIENlbnRyZScpCiAgICAgICAgPj4+IGRpYW5lID0gSW5zdHJ1Y3RvcigxLCAnRGlhbmUnKQogICAgICAgID4+PiBhYy5hZGRfaW5zdHJ1Y3RvcihkaWFuZSkKICAgICAgICBUcnVlCiAgICAgICAgIiIiCiAgICAgICAgaWYgaW5zdHJ1Y3Rvci5nZXRfaWQoKSBub3QgaW4gc2VsZi5faW5zdHJ1Y3RvcnM6CiAgICAgICAgICAgIHNlbGYuX2luc3RydWN0b3JzW2luc3RydWN0b3IuZ2V0X2lkKCldID0gaW5zdHJ1Y3RvcgogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBhZGRfd29ya291dF9jbGFzcyhzZWxmLCB3b3Jrb3V0X2NsYXNzOiBXb3Jrb3V0Q2xhc3MpIC0+IGJvb2w6CiAgICAgICAgIiIiQWRkIGEgPHdvcmtvdXRfY2xhc3M+IHRvIHRoaXMgR3ltIGlmZiB0aGUgPHdvcmtvdXRfY2xhc3M+IGRvZXMgbm90CiAgICAgICAgaGF2ZSB0aGUgc2FtZSBuYW1lIGFzIGFub3RoZXIgV29ya291dENsYXNzIGF0IHRoaXMgR3ltLgoKICAgICAgICBSZXR1cm4gVHJ1ZSBpZmYgdGhlIHdvcmtvdXQgY2xhc3MgaGFzIG5vdCBhbHJlYWR5IGJlZW4gYWRkZWQgdGhpcyBHeW0uCgogICAgICAgID4+PiBhYyA9IEd5bSgnQXRobGV0aWMgQ2VudHJlJykKICAgICAgICA+Pj4ga2lja2JveGluZyA9IFdvcmtvdXRDbGFzcygnS2lja2JveGluZycsIFsnU3RyZW5ndGggVHJhaW5pbmcnXSkKICAgICAgICA+Pj4gYWMuYWRkX3dvcmtvdXRfY2xhc3Moa2lja2JveGluZykKICAgICAgICBUcnVlCiAgICAgICAgIiIiCiAgICAgICAgaWYgd29ya291dF9jbGFzcy5uYW1lIG5vdCBpbiBzZWxmLl93b3Jrb3V0czoKICAgICAgICAgICAgc2VsZi5fd29ya291dHNbd29ya291dF9jbGFzcy5uYW1lXSA9IHdvcmtvdXRfY2xhc3MKICAgICAgICAgICAgcmV0dXJuIFRydWUKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgYWRkX3Jvb20oc2VsZiwgbmFtZTogc3RyLCBjYXBhY2l0eTogaW50KSAtPiBib29sOgogICAgICAgICIiIkFkZCBhIHJvb20gd2l0aCA8bmFtZT4gYW5kIDxjYXBhY2l0eT4gdG8gdGhpcyBHeW0gaWZmIHRoZXJlIGlzIG5vdAogICAgICAgICBhbHJlYWR5IGEgcm9vbSB3aXRoIDxuYW1lPiBhdCB0aGlzIEd5bS4KCiAgICAgICAgUmV0dXJuIFRydWUgaWZmIHRoZSByb29tIGhhcyBub3QgYWxyZWFkeSBiZWVuIGFkZGVkIHRvIHRoaXMgR3ltLgoKICAgICAgICA+Pj4gYWMgPSBHeW0oJ0F0aGxldGljIENlbnRyZScpCiAgICAgICAgPj4+IGFjLmFkZF9yb29tKCdEYW5jZSBTdHVkaW8nLCA1MCkKICAgICAgICBUcnVlCiAgICAgICAgIiIiCiAgICAgICAgaWYgbmFtZSBub3QgaW4gc2VsZi5fcm9vbV9jYXBhY2l0aWVzOgogICAgICAgICAgICBzZWxmLl9yb29tX2NhcGFjaXRpZXNbbmFtZV0gPSBjYXBhY2l0eQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBzY2hlZHVsZV93b3Jrb3V0X2NsYXNzKHNlbGYsIHRpbWVfcG9pbnQ6IGRhdGV0aW1lLCByb29tX25hbWU6IHN0ciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtvdXRfbmFtZTogc3RyLCBpbnN0cl9pZDogaW50KSAtPiBib29sOgogICAgICAgICIiIkFkZCBhbiBvZmZlcmluZyB0byB0aGlzIEd5bSBhdCA8dGltZV9wb2ludD4gaWZmOiB0aGUgcm9vbSB3aXRoCiAgICAgICAgPHJvb21fbmFtZT4gaXMgYXZhaWxhYmxlLCB0aGUgaW5zdHJ1Y3RvciB3aXRoIDxpbnN0cl9pZD4gaXMgcXVhbGlmaWVkCiAgICAgICAgdG8gdGVhY2ggdGhlIHdvcmtvdXQgY2xhc3Mgd2l0aCA8d29ya291dF9uYW1lPiwgYW5kIHRoZSBpbnN0cnVjdG9yIGlzCiAgICAgICAgbm90IHRlYWNoaW5nIGFub3RoZXIgd29ya291dCBjbGFzcyBhdCB0aGUgc2FtZSA8dGltZV9wb2ludD4uCgogICAgICAgIEEgcm9vbSBpcyBhdmFpbGFibGUgaWZmIGl0IGRvZXMgbm90IGFscmVhZHkgaGF2ZSBhbm90aGVyIHdvcmtvdXQgY2xhc3MKICAgICAgICBzY2hlZHVsZWQgYXQgdGhhdCBkYXkgYW5kIHRpbWUuCgogICAgICAgIFRoZSBhZGRlZCBvZmZlcmluZyBzdGFydHMgd2l0aCBubyByZWdpc3RlcmVkIGNsaWVudHMuCgogICAgICAgIFJldHVybiBUcnVlIGlmZiB0aGUgb2ZmZXJpbmcgd2FzIGFkZGVkLgoKICAgICAgICBQcmVjb25kaXRpb25zOgogICAgICAgICAgICAtIFRoZSByb29tIGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQgdG8gdGhpcyBHeW0uCiAgICAgICAgICAgIC0gVGhlIEluc3RydWN0b3IgaGFzIGFscmVhZHkgYmVlbiBhZGRlZCB0byB0aGlzIEd5bS4KICAgICAgICAgICAgLSBUaGUgV29ya291dENsYXNzIGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQgdG8gdGhpcyBHeW0uCgogICAgICAgID4+PiBhYyA9IEd5bSgnQXRobGV0aWMgQ2VudHJlJykKICAgICAgICA+Pj4gamFjcXVlbGluZSA9IEluc3RydWN0b3IoMSwgJ0phY3F1ZWxpbmUgU21pdGgnKQogICAgICAgID4+PiBhYy5hZGRfaW5zdHJ1Y3RvcihqYWNxdWVsaW5lKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gamFjcXVlbGluZS5hZGRfY2VydGlmaWNhdGUoJ0NhcmRpbyAxJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGRpYW5lID0gSW5zdHJ1Y3RvcigyLCAnRGlhbmUgSG9ydG9uJykKICAgICAgICA+Pj4gYWMuYWRkX2luc3RydWN0b3IoZGlhbmUpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5hZGRfcm9vbSgnRGFuY2UgU3R1ZGlvJywgMTgpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5hZGRfcm9vbSgnbG93ZXIgZ3ltJywgNTApCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBib290X2NhbXAgPSBXb3Jrb3V0Q2xhc3MoJ0Jvb3QgQ2FtcCcsIFsnQ2FyZGlvIDEnXSkKICAgICAgICA+Pj4gYWMuYWRkX3dvcmtvdXRfY2xhc3MoYm9vdF9jYW1wKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gdGFwID0gV29ya291dENsYXNzKCdJbnRybyBUYXAnLCBbXSkKICAgICAgICA+Pj4gYWMuYWRkX3dvcmtvdXRfY2xhc3ModGFwKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gc2VwXzlfMjAyMl8xMl8wMCA9IGRhdGV0aW1lKDIwMjIsIDksIDksIDEyLCAwKQogICAgICAgID4+PiBhYy5zY2hlZHVsZV93b3Jrb3V0X2NsYXNzKHNlcF85XzIwMjJfMTJfMDAsICdsb3dlciBneW0nLFwKICAgICAgICBib290X2NhbXAubmFtZSwgamFjcXVlbGluZS5nZXRfaWQoKSkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLnNjaGVkdWxlX3dvcmtvdXRfY2xhc3Moc2VwXzlfMjAyMl8xMl8wMCwgJ0RhbmNlIFN0dWRpbycsXAogICAgICAgIHRhcC5uYW1lLCBkaWFuZS5nZXRfaWQoKSkKICAgICAgICBUcnVlCiAgICAgICAgIiIiCiAgICAgICAgaWYgbm90IHNlbGYuX3NjaGVkdWxlIG9yIHRpbWVfcG9pbnQgbm90IGluIHNlbGYuX3NjaGVkdWxlOgogICAgICAgICAgICBzZWxmLl9zY2hlZHVsZVt0aW1lX3BvaW50XSA9IHtyb29tX25hbWU6ICgKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5faW5zdHJ1Y3RvcnNbaW5zdHJfaWRdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl93b3Jrb3V0c1t3b3Jrb3V0X25hbWVdLCBbXSl9CiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxpZiByb29tX25hbWUgbm90IGluIHNlbGYuX3NjaGVkdWxlW3RpbWVfcG9pbnRdIGFuZCBcCiAgICAgICAgICAgIHNldChzZWxmLl93b3Jrb3V0c1t3b3Jrb3V0X25hbWVdLmdldF9yZXF1aXJlZF9jZXJ0aWZpY2F0ZXMoCiAgICAgICAgICAgICkpLmlzc3Vic2V0KHNldChzZWxmLl9pbnN0cnVjdG9yc1tpbnN0cl9pZF0uZ2V0X2NlcnRpZmljYXRlcygpKSkgXAogICAgICAgICAgICBhbmQgc2VsZi5faW5zdHJ1Y3RvcnNbaW5zdHJfaWRdIG5vdCBpbiBcCiAgICAgICAgICAgIFtpbnN0cl9uYW1lWzBdIGZvciBpbnN0cl9uYW1lIGluCiAgICAgICAgICAgICAgICBsaXN0KHNlbGYuX3NjaGVkdWxlW3RpbWVfcG9pbnRdLnZhbHVlcygpKV06CiAgICAgICAgICAgIHNlbGYuX3NjaGVkdWxlW3RpbWVfcG9pbnRdLnVwZGF0ZSh7cm9vbV9uYW1lOiAoc2VsZi5faW5zdHJ1Y3RvcnNbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdHJfaWRdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX3dvcmtvdXRzWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdvcmtvdXRfbmFtZV0sIFtdKX0pCiAgICAgICAgICAgIHJldHVybiBUcnVlCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIHJlZ2lzdGVyKHNlbGYsIHRpbWVfcG9pbnQ6IGRhdGV0aW1lLCBjbGllbnQ6IHN0ciwgd29ya291dF9uYW1lOiBzdHIpIFwKICAgICAgICAgICAgLT4gYm9vbDoKICAgICAgICAiIiJBZGQgPGNsaWVudD4gdG8gdGhlIFdvcmtvdXRDbGFzcyB3aXRoIDx3b3Jrb3V0X25hbWU+IHRoYXQgaXMgYmVpbmcKICAgICAgICBvZmZlcmVkIGF0IDx0aW1lX3BvaW50PiBpZmYgdGhlIGNsaWVudCBoYXMgbm90IGFscmVhZHkgYmVlbiByZWdpc3RlcmVkCiAgICAgICAgaW4gYW55IGNvdXJzZSAoaW5jbHVkaW5nIDx3b3Jrb3V0X25hbWU+KSBhdCA8dGltZV9wb2ludD4sIGFuZCB0aGUgcm9vbQogICAgICAgIGlzIG5vdCBmdWxsLgoKICAgICAgICBJZiB0aGUgV29ya291dENsYXNzIGlzIGJlaW5nIG9mZmVyZWQgaW4gbW9yZSB0aGFuIG9uZSByb29tIGF0CiAgICAgICAgPHRpbWVfcG9pbnQ+LCB0aGVuIGFkZCB0aGUgY2xpZW50IHRvIHRoZSByb29tIHRoYXQgaGFzIHRoZSBtb3N0IGNsaWVudHMKICAgICAgICBhbHJlYWR5IHJlZ2lzdGVyZWQgYnV0IHN0aWxsIGhhcyBhdmFpbGFibGUgc3BhY2UuIEluIHRoZSBjYXNlIG9mIGEgdGllLAogICAgICAgIHJlZ2lzdGVyIDxjbGllbnQ+IGluIGFueSBvZiB0aGUgdGllZCBjbGFzc2VzLgoKICAgICAgICBSZXR1cm4gVHJ1ZSBpZmYgdGhlIGNsaWVudCB3YXMgYWRkZWQuCgogICAgICAgIFByZWNvbmRpdGlvbjogdGhlIFdvcmtvdXRDbGFzcyB3aXRoIDx3b3Jrb3V0X25hbWU+IGlzIGJlaW5nIG9mZmVyZWQgaW4KICAgICAgICAgICAgYXQgbGVhc3Qgb25lIHJvb20gYXQgPHRpbWVfcG9pbnQ+LgoKICAgICAgICA+Pj4gYWMgPSBHeW0oJ0F0aGxldGljIENlbnRyZScpCiAgICAgICAgPj4+IGRpYW5lID0gSW5zdHJ1Y3RvcigxLCAnRGlhbmUnKQogICAgICAgID4+PiBkaWFuZS5hZGRfY2VydGlmaWNhdGUoJ0NhcmRpbyAxJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9pbnN0cnVjdG9yKGRpYW5lKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMuYWRkX3Jvb20oJ0RhbmNlIFN0dWRpbycsIDUwKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYm9vdF9jYW1wID0gV29ya291dENsYXNzKCdCb290IENhbXAnLCBbJ0NhcmRpbyAxJ10pCiAgICAgICAgPj4+IGFjLmFkZF93b3Jrb3V0X2NsYXNzKGJvb3RfY2FtcCkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IHNlcF85XzIwMjJfMTJfMDAgPSBkYXRldGltZSgyMDIyLCA5LCA5LCAxMiwgMCkKICAgICAgICA+Pj4gYWMuc2NoZWR1bGVfd29ya291dF9jbGFzcyhzZXBfOV8yMDIyXzEyXzAwLCAnRGFuY2UgU3R1ZGlvJyxcCiAgICAgICAgYm9vdF9jYW1wLm5hbWUsIGRpYW5lLmdldF9pZCgpKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMucmVnaXN0ZXIoc2VwXzlfMjAyMl8xMl8wMCwgJ1BoaWxpcCcsICdCb290IENhbXAnKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMucmVnaXN0ZXIoc2VwXzlfMjAyMl8xMl8wMCwgJ1BoaWxpcCcsICdCb290IENhbXAnKQogICAgICAgIEZhbHNlCiAgICAgICAgIiIiCiAgICAgICAgcm9vbV9jYXBhY2l0eV9kaWN0OiBkaWN0W3N0ciwgbGlzdFtzdHJdXSA9IHt9CiAgICAgICAgbm90X2Z1bGxfcm9vbXM6IGRpY3Rbc3RyLCBpbnRdID0ge30KCiAgICAgICAgZm9yIGtleSBpbiBzZWxmLl9zY2hlZHVsZVt0aW1lX3BvaW50XToKICAgICAgICAgICAgaWYgc2VsZi5fc2NoZWR1bGVbdGltZV9wb2ludF1ba2V5XVsxXSA9PSBcCiAgICAgICAgICAgICAgICAgICAgc2VsZi5fd29ya291dHNbd29ya291dF9uYW1lXToKICAgICAgICAgICAgICAgIHJvb21fY2FwYWNpdHlfZGljdFtrZXldID0gXAogICAgICAgICAgICAgICAgICAgIHNlbGYuX3NjaGVkdWxlW3RpbWVfcG9pbnRdW2tleV1bMl0KCiAgICAgICAgaWYgYW55KGNsaWVudCBpbiB2YWwgZm9yIHZhbCBpbiBsaXN0KHJvb21fY2FwYWNpdHlfZGljdC52YWx1ZXMoKSlbMF0pOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBlbHNlOgogICAgICAgICAgICBmb3IgbmFtZSBpbiByb29tX2NhcGFjaXR5X2RpY3Q6CiAgICAgICAgICAgICAgICBpZiBzZWxmLl9yb29tX2NhcGFjaXRpZXNbbmFtZV0gPiBsZW4ocm9vbV9jYXBhY2l0eV9kaWN0W25hbWVdKToKICAgICAgICAgICAgICAgICAgICBub3RfZnVsbF9yb29tc1tuYW1lXSA9IGxlbihyb29tX2NhcGFjaXR5X2RpY3RbbmFtZV0pCgogICAgICAgIGZvciByb29tX25hbWUgaW4gbm90X2Z1bGxfcm9vbXM6CiAgICAgICAgICAgIGlmIG5vdF9mdWxsX3Jvb21zW3Jvb21fbmFtZV0gPT0gbWF4KGxpc3Qobm90X2Z1bGxfcm9vbXMudmFsdWVzKCkpKToKICAgICAgICAgICAgICAgIHNlbGYuX3NjaGVkdWxlW3RpbWVfcG9pbnRdW3Jvb21fbmFtZV1bMl0uYXBwZW5kKGNsaWVudCkKCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgaW5zdHJ1Y3Rvcl9ob3VycyhzZWxmLCB0aW1lMTogZGF0ZXRpbWUsIHRpbWUyOiBkYXRldGltZSkgLT4gXAogICAgICAgICAgICBkaWN0W2ludCwgaW50XToKICAgICAgICAiIiJSZXR1cm4gYSBkaWN0aW9uYXJ5IHJlcG9ydGluZyB0aGUgaG91cnMgd29ya2VkIGJ5IGluc3RydWN0b3JzCiAgICAgICAgdGVhY2hpbmcgY2xhc3NlcyB0aGF0IHN0YXJ0IGF0IGFueSB0aW1lIGJldHdlZW4gPHRpbWUxPiBhbmQgPHRpbWUyPiwKICAgICAgICBpbmNsdXNpdmUuCgogICAgICAgIEVhY2gga2V5IGlzIGFuIGluc3RydWN0b3IgSUQgYW5kIGl0cyB2YWx1ZSBpcyB0aGUgdG90YWwgbnVtYmVyIG9mIGhvdXJzCiAgICAgICAgd29ya2VkIGJ5IHRoYXQgaW5zdHJ1Y3RvciBiZXR3ZWVuIDx0aW1lMT4gYW5kIDx0aW1lMj4uIEJvdGggPHRpbWUxPiBhbmQKICAgICAgICA8dGltZTI+IHNwZWNpZnkgdGhlIHN0YXJ0IHRpbWUgZm9yIGFuIGhvdXIgd2hlbiBhbiBpbnN0cnVjdG9yIG1heSBoYXZlCiAgICAgICAgdGF1Z2h0LgoKICAgICAgICBQcmVjb25kaXRpb246IHRpbWUxIDw9IHRpbWUyCgogICAgICAgID4+PiBhYyA9IEd5bSgnQXRobGV0aWMgQ2VudHJlJykKICAgICAgICA+Pj4gZGlhbmUgPSBJbnN0cnVjdG9yKDEsICdEaWFuZScpCiAgICAgICAgPj4+IGRhdmlkID0gSW5zdHJ1Y3RvcigyLCAnRGF2aWQnKQogICAgICAgID4+PiBkaWFuZS5hZGRfY2VydGlmaWNhdGUoJ0NhcmRpbyAxJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9pbnN0cnVjdG9yKGRpYW5lKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMuYWRkX2luc3RydWN0b3IoZGF2aWQpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5hZGRfcm9vbSgnRGFuY2UgU3R1ZGlvJywgNTApCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBib290X2NhbXAgPSBXb3Jrb3V0Q2xhc3MoJ0Jvb3QgQ2FtcCcsIFsnQ2FyZGlvIDEnXSkKICAgICAgICA+Pj4gYWMuYWRkX3dvcmtvdXRfY2xhc3MoYm9vdF9jYW1wKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gdDEgPSBkYXRldGltZSgyMDE5LCA5LCA5LCAxMiwgMCkKICAgICAgICA+Pj4gYWMuc2NoZWR1bGVfd29ya291dF9jbGFzcyh0MSwgJ0RhbmNlIFN0dWRpbycsIGJvb3RfY2FtcC5uYW1lLCAxKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gdDIgPSBkYXRldGltZSgyMDE5LCA5LCAxMCwgMTIsIDApCiAgICAgICAgPj4+IGFjLmluc3RydWN0b3JfaG91cnModDEsIHQyKSA9PSB7MTogMSwgMjogMH0KICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLnNjaGVkdWxlX3dvcmtvdXRfY2xhc3ModDIsICdEYW5jZSBTdHVkaW8nLCBib290X2NhbXAubmFtZSwgMSkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmluc3RydWN0b3JfaG91cnModDEsIHQyKSA9PSB7MTogMiwgMjogMH0KICAgICAgICBUcnVlCiAgICAgICAgIiIiCiAgICAgICAgdGltZV9kaWN0ID0ge30KCiAgICAgICAgZm9yIGluc3RyX2lkIGluIGxpc3Qoc2VsZi5faW5zdHJ1Y3RvcnMua2V5cygpKToKICAgICAgICAgICAgaWYgaW5zdHJfaWQgbm90IGluIHRpbWVfZGljdDoKICAgICAgICAgICAgICAgIHRpbWVfZGljdFtpbnN0cl9pZF0gPSAwCgogICAgICAgIGZvciBkdCBpbiBzZWxmLl9zY2hlZHVsZToKICAgICAgICAgICAgaWYgdGltZTEgPD0gZHQgPD0gdGltZTI6CiAgICAgICAgICAgICAgICBmb3Igcm9vbV9uYW1lIGluIHNlbGYuX3NjaGVkdWxlW2R0XToKICAgICAgICAgICAgICAgICAgICB0aW1lX2RpY3Rbc2VsZi5fc2NoZWR1bGVbZHRdW3Jvb21fbmFtZV1bMF0uZ2V0X2lkKCldICs9IDEKCiAgICAgICAgcmV0dXJuIHRpbWVfZGljdAoKICAgIGRlZiBwYXlyb2xsKHNlbGYsIHRpbWUxOiBkYXRldGltZSwgdGltZTI6IGRhdGV0aW1lLCBiYXNlX3JhdGU6IGZsb2F0KSBcCiAgICAgICAgICAgIC0+IGxpc3RbdHVwbGVbaW50LCBzdHIsIGludCwgZmxvYXRdXToKICAgICAgICAiIiJSZXR1cm4gYSBzb3J0ZWQgbGlzdCBvZiB0dXBsZXMgcmVwb3J0aW5nIHBheSBlYXJuZWQgYnkgZWFjaAogICAgICAgIGluc3RydWN0b3IgdGVhY2hpbmcgY2xhc3NlcyB0aGF0IHN0YXJ0IGFueSB0aW1lIGJldHdlZW4gPHRpbWUxPiBhbmQKICAgICAgICA8dGltZTI+LCBpbmNsdXNpdmUuIFRoZSBsaXN0IHNob3VsZCBiZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyIG9mCiAgICAgICAgaW5zdHJ1Y3RvciBpZHMuCgogICAgICAgIEVhY2ggdHVwbGUgY29udGFpbnMgNCBlbGVtZW50cywgaW4gdGhpcyBvcmRlcjoKICAgICAgICAtIGFuIGluc3RydWN0b3IncyBJRCwKICAgICAgICAtIHRoZSBpbnN0cnVjdG9yJ3MgbmFtZSwKICAgICAgICAtIHRoZSBudW1iZXIgb2YgaG91cnMgd29ya2VkIGJ5IHRoZSBpbnN0cnVjdG9yIGJldHdlZW4gPHRpbWUxPiBhbmQKICAgICAgICAgIDx0aW1lMj4sIGFuZAogICAgICAgIC0gdGhlIGluc3RydWN0b3IncyB0b3RhbCB3YWdlcyBlYXJuZWQgYmV0d2VlbiA8dGltZTE+IGFuZCA8dGltZTI+LgogICAgICAgIFRoZSByZXR1cm5lZCBsaXN0IGlzIHNvcnRlZCBieSBpbnN0cnVjdG9yIElELgoKICAgICAgICBCb3RoIDx0aW1lMT4gYW5kIDx0aW1lMj4gc3BlY2lmeSB0aGUgc3RhcnQgdGltZSBmb3IgYW4gaG91ciB3aGVuIGFuCiAgICAgICAgaW5zdHJ1Y3RvciBtYXkgaGF2ZSB0YXVnaHQuCgogICAgICAgIEVhY2ggaW5zdHJ1Y3RvciBlYXJucyBhIDxiYXNlX3JhdGU+IHBlciBob3VyIHBsdXMgYW4gYWRkaXRpb25hbAogICAgICAgIEJPTlVTX1JBVEUgcGVyIGhvdXIgZm9yIGVhY2ggY2VydGlmaWNhdGUgdGhleSBob2xkLgoKICAgICAgICBQcmVjb25kaXRpb246IHRpbWUxIDw9IHRpbWUyCgogICAgICAgID4+PiBhYyA9IEd5bSgnQXRobGV0aWMgQ2VudHJlJykKICAgICAgICA+Pj4gZGlhbmUgPSBJbnN0cnVjdG9yKDEsICdEaWFuZScpCiAgICAgICAgPj4+IGRhdmlkID0gSW5zdHJ1Y3RvcigyLCAnRGF2aWQnKQogICAgICAgID4+PiBkaWFuZS5hZGRfY2VydGlmaWNhdGUoJ0NhcmRpbyAxJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9pbnN0cnVjdG9yKGRhdmlkKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMuYWRkX2luc3RydWN0b3IoZGlhbmUpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5hZGRfcm9vbSgnRGFuY2UgU3R1ZGlvJywgNTApCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBib290X2NhbXAgPSBXb3Jrb3V0Q2xhc3MoJ0Jvb3QgQ2FtcCcsIFsnQ2FyZGlvIDEnXSkKICAgICAgICA+Pj4gYWMuYWRkX3dvcmtvdXRfY2xhc3MoYm9vdF9jYW1wKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gdDEgPSBkYXRldGltZSgyMDE5LCA5LCA5LCAxMiwgMCkKICAgICAgICA+Pj4gYWMuc2NoZWR1bGVfd29ya291dF9jbGFzcyh0MSwgJ0RhbmNlIFN0dWRpbycsIGJvb3RfY2FtcC5uYW1lLAogICAgICAgIC4uLiAxKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gdDIgPSBkYXRldGltZSgyMDE5LCA5LCAxMCwgMTIsIDApCiAgICAgICAgPj4+IGFjLnBheXJvbGwodDEsIHQyLCAyNS4wKQogICAgICAgIFsoMSwgJ0RpYW5lJywgMSwgMjYuNSksICgyLCAnRGF2aWQnLCAwLCAwLjApXQogICAgICAgICIiIgogICAgICAgIHR1cGxlX2xpc3QgPSBbXQogICAgICAgIHRpbWVfZGljdCA9IHNlbGYuaW5zdHJ1Y3Rvcl9ob3Vycyh0aW1lMSwgdGltZTIpCgogICAgICAgIGZvciBpZF8gaW4gdGltZV9kaWN0OgogICAgICAgICAgICB0dXBsZV9saXN0LmFwcGVuZCgoaWRfLCBzZWxmLl9pbnN0cnVjdG9yc1tpZF9dLm5hbWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lX2RpY3RbaWRfXSwgdGltZV9kaWN0WwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWRfXSAqIGJhc2VfcmF0ZSArIEJPTlVTX1JBVEUgKiBsZW4oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9pbnN0cnVjdG9yc1tpZF9dLmdldF9jZXJ0aWZpY2F0ZXMoKSkpKQoKICAgICAgICByZXR1cm4gc29ydGVkKHR1cGxlX2xpc3QpCgogICAgZGVmIF9pc19pbnN0cnVjdG9yX25hbWVfdW5pcXVlKHNlbGYsIGluc3RydWN0b3I6IEluc3RydWN0b3IpIC0+IGJvb2w6CiAgICAgICAgIiIiUmV0dXJuIFRydWUgaWZmIHRoZSBuYW1lIG9mIDxpbnN0cnVjdG9yPiBpcyB1c2VkIGJ5IDw9IDEgaW5zdHJ1Y3RvcgogICAgICAgIGluIHRoZSBHeW0uCgogICAgICAgID4+PiBhYyA9IEd5bSgnQXRobGV0aWMgQ2VudHJlJykKICAgICAgICA+Pj4gZmlyc3RfaGlyZSA9IEluc3RydWN0b3IoMSwgJ0RpYW5lJykKICAgICAgICA+Pj4gYWMuYWRkX2luc3RydWN0b3IoZmlyc3RfaGlyZSkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLl9pc19pbnN0cnVjdG9yX25hbWVfdW5pcXVlKGZpcnN0X2hpcmUpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBzZWNvbmRfaGlyZSA9IEluc3RydWN0b3IoMiwgJ0RpYW5lJykKICAgICAgICA+Pj4gYWMuYWRkX2luc3RydWN0b3Ioc2Vjb25kX2hpcmUpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5faXNfaW5zdHJ1Y3Rvcl9uYW1lX3VuaXF1ZShmaXJzdF9oaXJlKQogICAgICAgIEZhbHNlCiAgICAgICAgPj4+IGFjLl9pc19pbnN0cnVjdG9yX25hbWVfdW5pcXVlKHNlY29uZF9oaXJlKQogICAgICAgIEZhbHNlCiAgICAgICAgPj4+IHRoaXJkX2hpcmUgPSBJbnN0cnVjdG9yKDMsICdUb20nKQogICAgICAgID4+PiBhYy5faXNfaW5zdHJ1Y3Rvcl9uYW1lX3VuaXF1ZSh0aGlyZF9oaXJlKQogICAgICAgIFRydWUKICAgICAgICAiIiIKICAgICAgICBuYW1lX2xpc3QgPSBbaW5zdHIubmFtZSBmb3IgaW5zdHIgaW4gbGlzdChzZWxmLl9pbnN0cnVjdG9ycy52YWx1ZXMoKSldCgogICAgICAgIHJldHVybiBUcnVlIGlmIG5hbWVfbGlzdC5jb3VudChpbnN0cnVjdG9yLm5hbWUpIDw9IDEgZWxzZSBGYWxzZQoKICAgIGRlZiBvZmZlcmluZ3NfYXQoc2VsZiwgdGltZV9wb2ludDogZGF0ZXRpbWUpIC0+IGxpc3RbZGljdFtzdHIsIHN0ciB8IGludF1dOgogICAgICAgICIiIlJldHVybiBhIGxpc3Qgb2YgZGljdGlvbmFyaWVzLCBlYWNoIHJlcHJlc2VudGluZyBhIHdvcmtvdXQgb2ZmZXJlZAogICAgICAgIGF0IHRoaXMgR3ltIGF0IDx0aW1lX3BvaW50Pi4KCiAgICAgICAgVGhlIG9mZmVyaW5ncyBzaG91bGQgYmUgc29ydGVkIGJ5IHJvb20gbmFtZSwgaW4gYWxwaGFiZXRpY2FsIGFzY2VuZGluZwogICAgICAgIG9yZGVyLgoKICAgICAgICBFYWNoIGRpY3Rpb25hcnkgbXVzdCBoYXZlIHRoZSBmb2xsb3dpbmcga2V5cyBhbmQgdmFsdWVzOgogICAgICAgICAgICAnRGF0ZSc6IHRoZSB3ZWVrZGF5IGFuZCBkYXRlIG9mIHRoZSBjbGFzcyBhcyBhIHN0cmluZywgaW4gdGhlIGZvcm1hdAogICAgICAgICAgICAgICAgJ1dlZWtkYXksIHllYXItbW9udGgtZGF5JyAoZS5nLiwgJ01vbmRheSwgMjAyMi0xMS0wNycpCiAgICAgICAgICAgICdUaW1lJzogdGhlIHRpbWUgb2YgdGhlIGNsYXNzLCBpbiB0aGUgZm9ybWF0ICdISDpNTScgd2hlcmUKICAgICAgICAgICAgICAgIEhIIHVzZXMgMjQtaG91ciB0aW1lIChlLmcuLCAnMTU6MDAnKQogICAgICAgICAgICAnQ2xhc3MnOiB0aGUgbmFtZSBvZiB0aGUgY2xhc3MKICAgICAgICAgICAgJ1Jvb20nOiB0aGUgbmFtZSBvZiB0aGUgcm9vbQogICAgICAgICAgICAnUmVnaXN0ZXJlZCc6IHRoZSBudW1iZXIgb2YgcGVvcGxlIGFscmVhZHkgcmVnaXN0ZXJlZCBmb3IgdGhlIGNsYXNzCiAgICAgICAgICAgICdBdmFpbGFibGUnOiB0aGUgbnVtYmVyIG9mIHNwb3RzIHN0aWxsIGF2YWlsYWJsZSBpbiB0aGUgY2xhc3MKICAgICAgICAgICAgJ0luc3RydWN0b3InOiB0aGUgbmFtZSBvZiB0aGUgaW5zdHJ1Y3RvcgogICAgICAgICAgICAgICAgSWYgdGhlcmUgYXJlIG11bHRpcGxlIGluc3RydWN0b3JzIHdpdGggdGhlIHNhbWUgbmFtZSwgdGhlIG5hbWUKICAgICAgICAgICAgICAgIHNob3VsZCBiZSBmb2xsb3dlZCBieSB0aGUgaW5zdHJ1Y3RvciBJRCBpbiBwYXJlbnRoZXNlcwogICAgICAgICAgICAgICAgZS5nLiwgIkRpYW5lICgxKSIKCiAgICAgICAgSWYgdGhlcmUgYXJlIG5vIG9mZmVyaW5ncyBhdCA8dGltZV9wb2ludD4sIHJldHVybiBhbiBlbXB0eSBsaXN0LgoKICAgICAgICBOT1RFOgogICAgICAgIC0gWW91IE1VU1QgdXNlIHRoZSBoZWxwZXIgZnVuY3Rpb24gY3JlYXRlX29mZmVyaW5nX2RpY3QgZnJvbQogICAgICAgICAgZ3ltX3V0aWxpdGllcyB0byBjcmVhdGUgdGhlIGRpY3Rpb25hcmllcywgaW4gb3JkZXIgdG8gbWFrZSBzdXJlIHlvdQogICAgICAgICAgbWF0Y2ggdGhlIGZvcm1hdCBzcGVjaWZpZWQgYWJvdmUuCiAgICAgICAgLSBZb3UgTVVTVCB1c2UgdGhlIGhlbHBlciBtZXRob2QgX2lzX2luc3RydWN0b3JfbmFtZV91bmlxdWUgd2hlbgogICAgICAgICAgZGVjaWRpbmcgaG93IHRvIGZvcm1hdCB0aGUgaW5zdHJ1Y3RvciBuYW1lLgoKICAgICAgICA+Pj4gYWMgPSBHeW0oJ0F0aGxldGljIENlbnRyZScpCiAgICAgICAgPj4+IGRpYW5lMSA9IEluc3RydWN0b3IoMSwgJ0RpYW5lJykKICAgICAgICA+Pj4gZGlhbmUxLmFkZF9jZXJ0aWZpY2F0ZSgnQ2FyZGlvIDEnKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gZGlhbmUyID0gSW5zdHJ1Y3RvcigyLCAnRGlhbmUnKQogICAgICAgID4+PiBkYXZpZCA9IEluc3RydWN0b3IoMywgJ0RhdmlkJykKICAgICAgICA+Pj4gZGF2aWQuYWRkX2NlcnRpZmljYXRlKCdTdHJlbmd0aCBUcmFpbmluZycpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5hZGRfaW5zdHJ1Y3RvcihkaWFuZTEpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5hZGRfaW5zdHJ1Y3RvcihkaWFuZTIpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhYy5hZGRfaW5zdHJ1Y3RvcihkYXZpZCkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9yb29tKCdEYW5jZSBTdHVkaW8nLCA1MCkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9yb29tKCdSb29tIEEnLCAyMCkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGJvb3RfY2FtcCA9IFdvcmtvdXRDbGFzcygnQm9vdCBDYW1wJywgWydDYXJkaW8gMSddKQogICAgICAgID4+PiBhYy5hZGRfd29ya291dF9jbGFzcyhib290X2NhbXApCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBraWNrYm94aW5nID0gV29ya291dENsYXNzKCdLaWNrQm94aW5nJywgWydTdHJlbmd0aCBUcmFpbmluZyddKQogICAgICAgID4+PiBhYy5hZGRfd29ya291dF9jbGFzcyhraWNrYm94aW5nKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gdDEgPSBkYXRldGltZSgyMDIyLCA5LCA5LCAxMiwgMCkKICAgICAgICA+Pj4gYWMuc2NoZWR1bGVfd29ya291dF9jbGFzcyh0MSwgJ0RhbmNlIFN0dWRpbycsIGJvb3RfY2FtcC5uYW1lLCAxKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMuc2NoZWR1bGVfd29ya291dF9jbGFzcyh0MSwgJ1Jvb20gQScsIGtpY2tib3hpbmcubmFtZSwgMykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLm9mZmVyaW5nc19hdCh0MSkgPT0gWwogICAgICAgIC4uLiB7ICdEYXRlJzogJ0ZyaWRheSwgMjAyMi0wOS0wOScsICdUaW1lJzogJzEyOjAwJywKICAgICAgICAuLi4gJ0NsYXNzJzogJ0Jvb3QgQ2FtcCcsICdSb29tJzogJ0RhbmNlIFN0dWRpbycsICdSZWdpc3RlcmVkJzogMCwKICAgICAgICAuLi4gJ0F2YWlsYWJsZSc6IDUwLCAnSW5zdHJ1Y3Rvcic6ICdEaWFuZSAoMSknIH0sCiAgICAgICAgLi4uIHsgJ0RhdGUnOiAnRnJpZGF5LCAyMDIyLTA5LTA5JywgJ1RpbWUnOiAnMTI6MDAnLAogICAgICAgIC4uLiAnQ2xhc3MnOiAnS2lja0JveGluZycsICdSb29tJzogJ1Jvb20gQScsICdSZWdpc3RlcmVkJzogMCwKICAgICAgICAuLi4gJ0F2YWlsYWJsZSc6IDIwLCAnSW5zdHJ1Y3Rvcic6ICdEYXZpZCcgfQogICAgICAgIC4uLiBdCiAgICAgICAgVHJ1ZQogICAgICAgICIiIgogICAgICAgIG9mZmVyZWRfbGlzdCA9IFtdCiAgICAgICAgcmVzdWx0X2xpc3QgPSBbXQoKICAgICAgICBpZiBub3Qgc2VsZi5fc2NoZWR1bGUgb3IgdGltZV9wb2ludCBub3QgaW4gc2VsZi5fc2NoZWR1bGU6CiAgICAgICAgICAgIHJldHVybiBbXQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGZvciByb29tX25hbWUgaW4gc29ydGVkKGxpc3Qoc2VsZi5fc2NoZWR1bGVbdGltZV9wb2ludF0ua2V5cygpKSk6CiAgICAgICAgICAgICAgICByZWdpc3RlcmVkID0gbGVuKHNlbGYuX3NjaGVkdWxlW3RpbWVfcG9pbnRdW3Jvb21fbmFtZV1bMl0pCiAgICAgICAgICAgICAgICBpbnN0cnVjdG9yID0gc2VsZi5fc2NoZWR1bGVbdGltZV9wb2ludF1bcm9vbV9uYW1lXVswXQogICAgICAgICAgICAgICAgaW5zdHIgPSBmJ3tpbnN0cnVjdG9yLm5hbWV9JyBpZiBcCiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2lzX2luc3RydWN0b3JfbmFtZV91bmlxdWUoaW5zdHJ1Y3RvcikgZWxzZSBcCiAgICAgICAgICAgICAgICAgICAgICAgIGYne2luc3RydWN0b3IubmFtZX0gKHtpbnN0cnVjdG9yLmdldF9pZCgpfSknCiAgICAgICAgICAgICAgICBvZmZlcmVkX2xpc3QuYXBwZW5kKCh0aW1lX3BvaW50LnN0cmZ0aW1lKCIlQSwgJVktJW0tJWQiKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVfcG9pbnQuc3RyZnRpbWUoJyVIOiVNJyksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9zY2hlZHVsZVt0aW1lX3BvaW50XVtyb29tX25hbWVdWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgMV0ubmFtZSwgcm9vbV9uYW1lLCByZWdpc3RlcmVkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fcm9vbV9jYXBhY2l0aWVzWwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vbV9uYW1lXSAtIHJlZ2lzdGVyZWQsIGluc3RyKSkKCiAgICAgICAgZm9yIGQsIHQsIGMsIG4sIHIsIGEsIGkgaW4gb2ZmZXJlZF9saXN0OgogICAgICAgICAgICByZXN1bHRfbGlzdC5hcHBlbmQoY3JlYXRlX29mZmVyaW5nX2RpY3QoZCwgdCwgYywgbiwgciwgYSwgaSkpCgogICAgICAgIHJldHVybiByZXN1bHRfbGlzdAoKICAgIGRlZiB0b19zY2hlZHVsZV9saXN0KHNlbGYsIHdlZWs6IGRhdGV0aW1lID0gTm9uZSkgXAogICAgICAgICAgICAtPiBsaXN0W2RpY3Rbc3RyLCBzdHIgfCBpbnRdXToKICAgICAgICAiIiJSZXR1cm4gYSBsaXN0IG9mIGRpY3Rpb25hcmllcyBmb3IgdGhlIEd5bSdzIGVudGlyZSBzY2hlZHVsZSwgd2l0aAogICAgICAgIGVhY2ggZGljdGlvbmFyeSByZXByZXNlbnRpbmcgYSB3b3Jrb3V0IG9mZmVyZWQgKGluIHRoZSBmb3JtYXQgc3BlY2lmaWVkCiAgICAgICAgYnkgdGhlIGRvY3N0cmluZyBmb3Igb2ZmZXJpbmdzX2F0KS4KCiAgICAgICAgVGhlIGRpY3Rpb25hcmllcyBzaG91bGQgYmUgaW4gdGhlIGxpc3QgaW4gYXNjZW5kaW5nIG9yZGVyIGJ5IHRoZWlyIGRhdGUKICAgICAgICBhbmQgdGltZSAobm90IHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGRhdGUgYW5kIHRpbWUpLgogICAgICAgIE9mZmVyaW5ncyBvY2N1cnJpbmcgYXQgZXhhY3RseSB0aGUgc2FtZSBkYXRlIGFuZCB0aW1lIHNob3VsZAogICAgICAgIGJlIGluIGFscGhhYmV0aWNhbCBvcmRlciBiYXNlZCBvbiB0aGVpciByb29tIG5hbWVzLgoKICAgICAgICBJZiA8d2Vlaz4gaXMgc3BlY2lmaWVkLCBvbmx5IHJldHVybiB0aGUgZXZlbnRzIHRoYXQgb2NjdXIgYmV0d2VlbiB0aGUKICAgICAgICBkYXRlIGludGVydmFsIChiZXR3ZWVuIGEgTW9uZGF5IDA6MDAgYW5kIFN1bmRheSAyMzo1OSkgdGhhdCBjb250YWlucwogICAgICAgIDx3ZWVrPi4KCiAgICAgICAgSGludDogVGhlIGhlbHBlciBmdW5jdGlvbiA8aW5fd2Vlaz4gY2FuIGJlIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIG9uZQogICAgICAgIGRhdGV0aW1lIG9iamVjdCBpcyBpbiB0aGUgc2FtZSB3ZWVrIGFzIGFub3RoZXIuCgogICAgICAgID4+PiBhYyA9IEd5bSgnQXRobGV0aWMgQ2VudHJlJykKICAgICAgICA+Pj4gZGlhbmUxID0gSW5zdHJ1Y3RvcigxLCAnRGlhbmUnKQogICAgICAgID4+PiBkaWFuZTEuYWRkX2NlcnRpZmljYXRlKCdDYXJkaW8gMScpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBkaWFuZTIgPSBJbnN0cnVjdG9yKDIsICdEaWFuZScpCiAgICAgICAgPj4+IGRhdmlkID0gSW5zdHJ1Y3RvcigzLCAnRGF2aWQnKQogICAgICAgID4+PiBkYXZpZC5hZGRfY2VydGlmaWNhdGUoJ1N0cmVuZ3RoIFRyYWluaW5nJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9pbnN0cnVjdG9yKGRpYW5lMSkKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9pbnN0cnVjdG9yKGRpYW5lMikKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGFjLmFkZF9pbnN0cnVjdG9yKGRhdmlkKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMuYWRkX3Jvb20oJ1N0dWRpbyAxJywgMjApCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBib290X2NhbXAgPSBXb3Jrb3V0Q2xhc3MoJ0Jvb3QgQ2FtcCcsIFsnQ2FyZGlvIDEnXSkKICAgICAgICA+Pj4gYWMuYWRkX3dvcmtvdXRfY2xhc3MoYm9vdF9jYW1wKQogICAgICAgIFRydWUKICAgICAgICA+Pj4ga2lja2JveGluZyA9IFdvcmtvdXRDbGFzcygnS2lja0JveGluZycsIFsnU3RyZW5ndGggVHJhaW5pbmcnXSkKICAgICAgICA+Pj4gYWMuYWRkX3dvcmtvdXRfY2xhc3Moa2lja2JveGluZykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IHQxID0gZGF0ZXRpbWUoMjAyMiwgOSwgOSwgMTIsIDApCiAgICAgICAgPj4+IGFjLnNjaGVkdWxlX3dvcmtvdXRfY2xhc3ModDEsICdTdHVkaW8gMScsIGJvb3RfY2FtcC5uYW1lLCAxKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gdDIgPSBkYXRldGltZSgyMDIyLCA5LCA4LCAxMywgMCkKICAgICAgICA+Pj4gYWMuc2NoZWR1bGVfd29ya291dF9jbGFzcyh0MiwgJ1N0dWRpbyAxJywga2lja2JveGluZy5uYW1lLCAzKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYWMudG9fc2NoZWR1bGVfbGlzdCgpID09IFsKICAgICAgICAuLi4geyAnRGF0ZSc6ICdUaHVyc2RheSwgMjAyMi0wOS0wOCcsICdUaW1lJzogJzEzOjAwJywKICAgICAgICAuLi4gJ0NsYXNzJzogJ0tpY2tCb3hpbmcnLCAnUm9vbSc6ICdTdHVkaW8gMScsICdSZWdpc3RlcmVkJzogMCwKICAgICAgICAuLi4gJ0F2YWlsYWJsZSc6IDIwLCAnSW5zdHJ1Y3Rvcic6ICdEYXZpZCcgfSwKICAgICAgICAuLi4geyAnRGF0ZSc6ICdGcmlkYXksIDIwMjItMDktMDknLCAnVGltZSc6ICcxMjowMCcsCiAgICAgICAgLi4uICdDbGFzcyc6ICdCb290IENhbXAnLCAnUm9vbSc6ICdTdHVkaW8gMScsICdSZWdpc3RlcmVkJzogMCwKICAgICAgICAuLi4gJ0F2YWlsYWJsZSc6IDIwLCAnSW5zdHJ1Y3Rvcic6ICdEaWFuZSAoMSknIH0sCiAgICAgICAgLi4uIF0KICAgICAgICBUcnVlCiAgICAgICAgIiIiCiAgICAgICAgcmVzdWx0X2xpc3QgPSBbXQoKICAgICAgICBmb3IgZHQgaW4gc29ydGVkKGxpc3Qoc2VsZi5fc2NoZWR1bGUua2V5cygpKSk6CiAgICAgICAgICAgIGlmIGluX3dlZWsoZHQsIHdlZWspOgogICAgICAgICAgICAgICAgcmVzdWx0X2xpc3QuZXh0ZW5kKHNlbGYub2ZmZXJpbmdzX2F0KGR0KSkKCiAgICAgICAgcmV0dXJuIHJlc3VsdF9saXN0CgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcjogQW55KSAtPiBib29sOgogICAgICAgICIiIlJldHVybiBUcnVlIGlmZiB0aGlzIEd5bSBpcyBlcXVhbCB0byA8b3RoZXI+LgoKICAgICAgICBUd28gZ3ltcyBhcmUgY29uc2lkZXJlZCBlcXVhbCBpZiB0aGV5IGhhdmUgIG5hbWUgdGhlIHNhbWUgbmFtZSwKICAgICAgICBpbnN0cnVjdG9ycywgd29ya291dHMsIHJvb20gY2FwYWNpdGllcywgYW5kIHNjaGVkdWxlLgoKICAgICAgICA+Pj4gYWMgPSBHeW0oJ0F0aGxldGljIENlbnRyZScpCiAgICAgICAgPj4+IGFjMiA9IEd5bSgnQXRobGV0aWMgQ2VudHJlJykKICAgICAgICA+Pj4gYWMgPT0gYWMyCiAgICAgICAgVHJ1ZQogICAgICAgICIiIgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKG90aGVyLCBHeW0pOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICByZXR1cm4gc2VsZi5uYW1lID09IG90aGVyLm5hbWUgYW5kIHNlbGYuX2luc3RydWN0b3JzID09IFwKICAgICAgICAgICAgICAgb3RoZXIuX2luc3RydWN0b3JzIGFuZCBzZWxmLl93b3Jrb3V0cyBcCiAgICAgICAgICAgICAgID09IG90aGVyLndvcmtvdXRzIGFuZCBzZWxmLl9yb29tX2NhcGFjaXRpZXMgPT0gXAogICAgICAgICAgICAgICBvdGhlci5fcm9vbV9jYXBhY2l0aWVzCgogICAgZGVmIHRvX3dlYnBhZ2Uoc2VsZiwgZmlsZW5hbWU6IHN0ciA9ICdzY2hlZHVsZS5odG1sJykgLT4gTm9uZToKICAgICAgICAiIiJDcmVhdGUgYSBzaW1wbGUgaHRtbCB3ZWJwYWdlIGZyb20gZGF0YSBleHBvcnRlZCBieQogICAgICAgIGd5bS50b19zY2hlZHVsZV9saXN0IGFuZCBzYXZlIGl0IHRvIHRoZSBmaWxlIDxmaWxlbmFtZT4uCgogICAgICAgIFRoZSB3ZWJwYWdlIGNhbiBiZSB2aWV3ZWQgYnkgb3BlbmluZyBpdCBpbiBhIHdlYiBicm93c2VyLgoKICAgICAgICBQcmVjb25kaXRpb246IDxmaWxlbmFtZT4gZW5kcyBpbiAuaHRtbAogICAgICAgICIiIgogICAgICAgIGRmID0gcGQuRGF0YUZyYW1lKHNlbGYudG9fc2NoZWR1bGVfbGlzdCgpKQogICAgICAgIHdyaXRlX3NjaGVkdWxlX3RvX2h0bWwoZGYsIGZpbGVuYW1lKQoKCmNsYXNzIEluc3RydWN0b3I6CiAgICAiIiIgQW4gaW5zdHJ1Y3RvciB0aGF0IGNhbiB0ZWFjaCB3b3Jrb3V0IGNsYXNzZXMgaW4gYSBneW0uCgogICAgPT09IFB1YmxpYyBBdHRyaWJ1dGVzID09PQogICAgbmFtZTogdGhlIG5hbWUgb2YgdGhpcyBpbnN0cnVjdG9yLgoKICAgID09PSBQcml2YXRlIEF0dHJpYnV0ZXMgPT09CiAgICBfaWRfOiB0aGUgaWQgb2YgdGhpcyBpbnN0cnVjdG9yLgogICAgX2NlcnRpZmljYXRlczogdGhlIGNlcnRpZmljYXRlcyB0aGF0IHRoaXMgaW5zdHJ1Y3RvciBoYXMuCiAgICAiIiIKICAgIF9pZF86IGludAogICAgbmFtZTogaW50CiAgICBfY2VydGlmaWNhdGVzOiBsaXN0W3N0cl0KCiAgICBkZWYgX19pbml0X18oc2VsZiwgaWRfOiBpbnQsIG5hbWU6IHN0cikgLT4gTm9uZToKICAgICAgICAiIiJJbml0aWFsaXplIGEgbmV3IEluc3RydWN0b3Igd2l0aCA8bmFtZT4gYW5kIDxpZF8+LgogICAgICAgIEluaXRpYWxseSwgdGhpcyBpbnN0cnVjdG9yIGhhcyBubyBjZXJ0aWZpY2F0ZXMuCgogICAgICAgID4+PiBhdyA9IEluc3RydWN0b3IoMSwgJ0FudGhvbnkgV2FuZycpCiAgICAgICAgPj4+IGF3Lm5hbWUKICAgICAgICAnQW50aG9ueSBXYW5nJwogICAgICAgICIiIgogICAgICAgIHNlbGYuX2lkXyA9IGlkXwogICAgICAgIHNlbGYubmFtZSA9IG5hbWUKICAgICAgICBzZWxmLl9jZXJ0aWZpY2F0ZXMgPSBbXQoKICAgIGRlZiBnZXRfaWQoc2VsZikgLT4gaW50OgogICAgICAgICIiIlJldHVybiB0aGUgaWQgb2YgdGhpcyBpbnN0cnVjdG9yLgoKICAgICAgICA+Pj4gYXcgPSBJbnN0cnVjdG9yKDEsICdBbnRob255IFdhbmcnKQogICAgICAgID4+PiBhdy5nZXRfaWQoKQogICAgICAgIDEKICAgICAgICAiIiIKICAgICAgICByZXR1cm4gc2VsZi5faWRfCgogICAgZGVmIGFkZF9jZXJ0aWZpY2F0ZShzZWxmLCBjZXJ0aWZpY2F0ZTogc3RyKSAtPiBib29sOgogICAgICAgICIiIkFkZCBhIG5ldyA8Y2VydGlmaWNhdGU+IHRvIHRoaXMgSW5zdHJ1Y3RvciBpZmYgdGhlIDxpbnN0cnVjdG9yPiBkb2VzCiAgICAgICAgbm90IGhhdmUgdGhlIHNhbWUgY2VydGlmaWNhdGUuCgogICAgICAgIFJldHVybiBUcnVlIGlmZiB0aGUgY2VydGlmaWNhdGUgaGFzIG5vdCBhbHJlYWR5IGJlZW4gYWRkZWQgdG8gdGhpcwogICAgICAgIEluc3RydWN0b3IuCgogICAgICAgID4+PiBhdyA9IEluc3RydWN0b3IoMSwgJ0FudGhvbnkgV2FuZycpCiAgICAgICAgPj4+IGF3LmFkZF9jZXJ0aWZpY2F0ZSgnQ2FyZGlvIDEnKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gYXcuYWRkX2NlcnRpZmljYXRlKCdDYXJkaW8gMScpCiAgICAgICAgRmFsc2UKICAgICAgICAiIiIKICAgICAgICBpZiBjZXJ0aWZpY2F0ZSBub3QgaW4gc2VsZi5fY2VydGlmaWNhdGVzOgogICAgICAgICAgICBzZWxmLl9jZXJ0aWZpY2F0ZXMuYXBwZW5kKGNlcnRpZmljYXRlKQogICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBnZXRfY2VydGlmaWNhdGVzKHNlbGYpIC0+IGxpc3Rbc3RyXToKICAgICAgICAiIiJSZXR1cm4gYWxsIHRoZSBjZXJ0aWZpY2F0ZXMgdGhpcyBJbnN0cnVjdG9yIGhhcy4KCiAgICAgICAgPj4+IGF3ID0gSW5zdHJ1Y3RvcigxLCAnQW50aG9ueSBXYW5nJykKICAgICAgICA+Pj4gYXcuYWRkX2NlcnRpZmljYXRlKCdDYXJkaW8gMScpCiAgICAgICAgVHJ1ZQogICAgICAgID4+PiBhdy5hZGRfY2VydGlmaWNhdGUoJ1N0cmVuZ3RoIFRyYWluaW5nJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGF3LmdldF9jZXJ0aWZpY2F0ZXMoKS5hcHBlbmQoJ2EnKQogICAgICAgID4+PiBhdy5nZXRfY2VydGlmaWNhdGVzKCkKICAgICAgICBbJ0NhcmRpbyAxJywgJ1N0cmVuZ3RoIFRyYWluaW5nJ10KICAgICAgICAiIiIKICAgICAgICByZXR1cm4gc2VsZi5fY2VydGlmaWNhdGVzWzpdCgogICAgZGVmIF9fZXFfXyhzZWxmLCBvdGhlcjogQW55KSAtPiBib29sOgogICAgICAgICIiIlJldHVybiBUcnVlIGlmZiB0aGlzIEluc3RydWN0b3IgaXMgZXF1YWwgdG8gPG90aGVyPi4KCiAgICAgICAgVHdvIEluc3RydWN0b3JzIGFyZSBjb25zaWRlcmVkIGVxdWFsIGlmIHRoZXkgaGF2ZSB0aGUgc2FtZSBuYW1lLCBpZCBhbmQKICAgICAgICBjZXJ0aWZpY2F0ZXMuCgogICAgICAgID4+PiBpbnN0cnVjdG9yMSA9IEluc3RydWN0b3IoMSwgIkFudGhvbnkiKQogICAgICAgID4+PiBpbnN0cnVjdG9yMiA9IEluc3RydWN0b3IoMSwgIkFudGhvbnkiKQogICAgICAgID4+PiBpbnN0cnVjdG9yMS5hZGRfY2VydGlmaWNhdGUoJ0NhcmRpbyAxJykKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGluc3RydWN0b3IyLmFkZF9jZXJ0aWZpY2F0ZSgnQ2FyZGlvIDEnKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gaW5zdHJ1Y3RvcjEgPT0gaW5zdHJ1Y3RvcjIKICAgICAgICBUcnVlCiAgICAgICAgPj4+IGluc3RydWN0b3IzID0gSW5zdHJ1Y3RvcigxLCAiQW50aG9ueSIpCiAgICAgICAgPj4+IGluc3RydWN0b3IzLmFkZF9jZXJ0aWZpY2F0ZSgnU3RyZW5ndGggVHJhaW5pbmcnKQogICAgICAgIFRydWUKICAgICAgICA+Pj4gaW5zdHJ1Y3RvcjEgPT0gaW5zdHJ1Y3RvcjMgCiAgICAgICAgRmFsc2UKICAgICAgICAiIiIKICAgICAgICBpZiBub3QgaXNpbnN0YW5jZShvdGhlciwgSW5zdHJ1Y3Rvcik6CiAgICAgICAgICAgIHJldHVybiBGYWxzZQogICAgICAgIHJldHVybiAoc2VsZi5uYW1lID09IG90aGVyLm5hbWUgYW5kIHNlbGYuX2lkXyA9PSBvdGhlci5faWRfCiAgICAgICAgICAgICAgICBhbmQgc2VsZi5fY2VydGlmaWNhdGVzID09IG90aGVyLl9jZXJ0aWZpY2F0ZXMpCgoKZGVmIGd5bV9mcm9tX3lhbWwoZmlsZW5hbWU6IHN0cikgLT4gR3ltOgogICAgIiIiUmV0dXJuIGEgR3ltIG9iamVjdCBidWlsZCBmcm9tIHRoZSBkYXRhIGluIGEgWUFNTCBmaWxlIHdpdGggPGZpbGVuYW1lPi4KCiAgICBQcmVjb25kaXRpb246IDxmaWxlbmFtZT4gdXNlcyB0aGUgZm9sbG93aW5nIGZvcm1hdDoKICAgICAgICBuYW1lOiA8bmFtZSBvZiBneW0+CiAgICAgICAgaW5zdHJ1Y3RvcnM6CiAgICAgICAgICAgIC0gICBpZDogPGluc3RydWN0b3IgSUQ+CiAgICAgICAgICAgICAgICBuYW1lOiA8aW5zdHJ1Y3RvciBuYW1lPgogICAgICAgICAgICAgICAgY2VydGlmaWNhdGVzOgogICAgICAgICAgICAgICAgICAgIC0gPGNlcnRpZmljYXRlIG5hbWU+CiAgICAgICAgICAgICAgICAgICAgLSAuLi4KICAgICAgICByb29tczoKICAgICAgICAgICAgLSAgIG5hbWU6IDxyb29tIG5hbWU+CiAgICAgICAgICAgICAgICBjYXBhY2l0eTogPHJvb20gY2FwYWNpdHk+CiAgICAgICAgd29ya291dF9jbGFzc2VzOgogICAgICAgICAgICAtICAgbmFtZTogPHdvcmtvdXQgY2xhc3MgbmFtZT4KICAgICAgICAgICAgICAgIGNlcnRpZmljYXRlczoKICAgICAgICAgICAgICAgICAgICAtIDxjZXJ0aWZpY2F0ZSBuYW1lPgogICAgICAgICAgICAgICAgICAgIC0gLi4uCiAgICAgICAgc2NoZWR1bGU6CiAgICAgICAgICAgIC0gICB0aW1lOiA8dGltZT4KICAgICAgICAgICAgICAgIHJvb206IDxyb29tIG5hbWU+CiAgICAgICAgICAgICAgICBpbnN0cnVjdG9yOiA8aW5zdHJ1Y3RvciBpZD4KICAgICAgICAgICAgICAgIHdvcmtvdXRfY2xhc3M6IDx3b3Jrb3V0IGNsYXNzIG5hbWU+CiAgICAgICAgICAgICAgICBwYXJ0aWNpcGFudHM6CiAgICAgICAgICAgICAgICAgICAgLSA8cGFydGljaXBhbnQgZW1haWw+CiAgICAgICAgICAgICAgICAgICAgLSAuLi4KICAgICAgICAgICAgLSAgIHRpbWU6IDx0aW1lPgogICAgICAgICAgICAgICAgcm9vbTogPHJvb20gbmFtZT4KICAgICAgICAgICAgICAgIGluc3RydWN0b3I6IDxpbnN0cnVjdG9yIGlkPgogICAgICAgICAgICAgICAgd29ya291dF9jbGFzczogPHdvcmtvdXQgY2xhc3MgbmFtZT4KICAgICAgICAgICAgICAgIHBhcnRpY2lwYW50czoKICAgICAgICAgICAgICAgICAgICAtIDxwYXJ0aWNpcGFudCBlbWFpbD4KICAgICAgICAgICAgICAgICAgICAtIC4uLgogICAgICAgICAgICAtICAgLi4uCiAgICAgICAgVG8gbGVhcm4gbW9yZSBhYm91dCB0aGUgWUFNTCBmb3JtYXQsIHZpc2l0CiAgICAgICAgaHR0cHM6Ly9weW5hdGl2ZS5jb20vcHl0aG9uLXlhbWwKICAgICIiIgogICAgd2l0aCBvcGVuKGZpbGVuYW1lLCAncicpIGFzIGY6CiAgICAgICAgZ3ltX2RhdGEgPSB5YW1sLmxvYWQoZiwgTG9hZGVyPXlhbWwuRnVsbExvYWRlcikKCiAgICBneW0gPSBHeW0oZ3ltX2RhdGFbJ25hbWUnXSkKCiAgICAjIE1ha2Ugc3VyZSB0aGlzIGNvZGUgY2FuIHJ1biBieSBhZGRpbmcgdGhlIG5lY2Vzc2FyeSBtZXRob2RzIHRvIHlvdXIKICAgICMgSW5zdHJ1Y3RvciBjbGFzcyEKICAgIGZvciBpbnN0ciBpbiBneW1fZGF0YVsnaW5zdHJ1Y3RvcnMnXToKICAgICAgICBpbnN0cnVjdG9yID0gSW5zdHJ1Y3RvcihpbnN0clsnaWQnXSwgaW5zdHJbJ25hbWUnXSkKICAgICAgICBmb3IgY2VydCBpbiBpbnN0clsnY2VydGlmaWNhdGVzJ106CiAgICAgICAgICAgIGluc3RydWN0b3IuYWRkX2NlcnRpZmljYXRlKGNlcnQpCiAgICAgICAgZ3ltLmFkZF9pbnN0cnVjdG9yKGluc3RydWN0b3IpCgogICAgZm9yIHJvb20gaW4gZ3ltX2RhdGFbJ3Jvb21zJ106CiAgICAgICAgZ3ltLmFkZF9yb29tKHJvb21bJ25hbWUnXSwgcm9vbVsnY2FwYWNpdHknXSkKCiAgICBmb3Igd29ya291dCBpbiBneW1fZGF0YVsnd29ya291dF9jbGFzc2VzJ106CiAgICAgICAgd2MgPSBXb3Jrb3V0Q2xhc3Mod29ya291dFsnbmFtZSddLCB3b3Jrb3V0WydjZXJ0aWZpY2F0ZXMnXSkKICAgICAgICBneW0uYWRkX3dvcmtvdXRfY2xhc3Mod2MpCgogICAgZm9yIGV2ZW50IGluIGd5bV9kYXRhWydzY2hlZHVsZSddOgogICAgICAgIGd5bS5zY2hlZHVsZV93b3Jrb3V0X2NsYXNzKGV2ZW50Wyd0aW1lJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRbJ3Jvb20nXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFsnd29ya291dF9jbGFzcyddLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50WydpbnN0cnVjdG9yJ10pCgogICAgICAgIGZvciBwYXJ0aWNpcGFudCBpbiBldmVudFsncGFydGljaXBhbnRzJ106CiAgICAgICAgICAgIGd5bS5yZWdpc3RlcihldmVudFsndGltZSddLCBwYXJ0aWNpcGFudCwgZXZlbnRbJ3dvcmtvdXRfY2xhc3MnXSkKCiAgICByZXR1cm4gZ3ltCgoKZGVmIGh0bWxfYW5kX3BheXJvbGxfZGVtbygpIC0+IE5vbmU6CiAgICAiIiJEZW1vbnN0cmF0ZXMgaG93IHRvIHJlYWQgZGF0YSBhYm91dCBhIGd5bSBmcm9tIGEgZmlsZSwgY2FsY3VsYXRlCiAgICBwYXlyb2xsIGluZm9ybWF0aW9uLCBhbmQgZGlzcGxheSB0aGUgZ3ltJ3Mgc2NoZWR1bGUgaW4gaHRtbC4KICAgICIiIgogICAgIyBDcmVhdGUgYSBneW0gb2JqZWN0IGZvciB0aGUgQXRobGV0aWMgQ2VudHJlIGZyb20gZGF0YSBpbiBhIHlhbWwgZmlsZS4KICAgIGFjID0gZ3ltX2Zyb21feWFtbCgnYXRobGV0aWMtY2VudHJlLnlhbWwnKQoKICAgICMgVmlldyBwYXlyb2xsIGZvciBhIHNwZWNpZmljIDlhbSB0byAxMGFtIG9uIEphbiAxNHRoIDIwMjAKICAgICMgYXQgYSByYXRlIG9mICQyNS4wL2hyCiAgICB0MSA9IGRhdGV0aW1lKDIwMjAsIDEsIDE0LCA5LCAwKQogICAgdDIgPSBkYXRldGltZSgyMDIwLCAxLCAxNCwgMTAsIDApCiAgICBwcmludChmJ1BheXJvbGwgYmV0d2VlbiB7dDF9IGFuZCB7dDJ9OicpCiAgICBmb3IgZW50cnkgaW4gYWMucGF5cm9sbCh0MSwgdDIsIDI1LjApOgogICAgICAgIHByaW50KGVudHJ5KQoKICAgICMgVmlldyBwYXlyb2xsIGZvciBhIHNwZWNpZmljIDlhbSB0byA2cG0gb24gSmFuIDE0dGggMjAyMAogICAgdDMgPSBkYXRldGltZSgyMDIwLCAxLCAxNCwgMTgsIDApCiAgICBwcmludChmJ1BheXJvbGwgYmV0d2VlbiB7dDF9IGFuZCB7dDN9OicpCiAgICBmb3IgZW50cnkgaW4gYWMucGF5cm9sbCh0MSwgdDMsIDI1LjApOgogICAgICAgIHByaW50KGVudHJ5KQoKICAgICMgTWFrZSBhbmQgZGlzcGxheSBhIHdlYnBhZ2Ugc2hvd2luZyB0aGUgd2hvbGUgc2NoZWR1bGUgZm9yIHRoZSBBdGhsZXRpYwogICAgIyBDZW50cmUuCiAgICBhYy50b193ZWJwYWdlKCdhdGhsZXRpYy1jZW50cmUuaHRtbCcpCiAgICBodG1sX2ZpbGUgPSAnZmlsZTovLy8vJyArIG9zLnBhdGgucmVhbHBhdGgoImF0aGxldGljLWNlbnRyZS5odG1sIikKICAgIHByaW50KGYiT3BlbmluZyB7aHRtbF9maWxlfSBpbiBhIHdlYiBicm93c2VyLi4uIGlmIGl0IGRvZXNuJ3Qgb3BlbiwiCiAgICAgICAgICBmImNsaWNrIHRoZSBsaW5rIGFib3ZlIHRvIHZpZXcgdGhlIGh0bWwgZmlsZSIpCiAgICB3ZWJicm93c2VyLm9wZW4oaHRtbF9maWxlKQoKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICAjIGltcG9ydCBweXRob25fdGEKICAgICMgcHl0aG9uX3RhLmNoZWNrX2FsbChjb25maWc9ewogICAgIyAgICAgJ2FsbG93ZWQtaW8nOiBbJ2d5bV9mcm9tX3lhbWwnLCAnaHRtbF9hbmRfcGF5cm9sbF9kZW1vJ10sCiAgICAjICAgICAnYWxsb3dlZC1pbXBvcnQtbW9kdWxlcyc6IFsnZG9jdGVzdCcsICdweXRob25fdGEnLCAndHlwaW5nJywKICAgICMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdkYXRldGltZScsICdwYW5kYXMnLCAneWFtbCcsICdvcycsCiAgICAjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnd2FybmluZ3MnLCAnd2ViYnJvd3NlcicsCiAgICAjICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnZ3ltX3V0aWxpdGllcycsICdfX2Z1dHVyZV9fJ10sCiAgICAjICAgICAnZGlzYWJsZSc6IFsnQzAzMDInXSwKICAgICMgICAgICMgVW5jb21tZW50IHRoZSBsaW5lIGJlbG93IHRvIHNlZSB0aGUgUHl0aG9uVEEgcmVwb3J0IGluIHlvdXIKICAgICMgICAgICMgUHl0aG9uIGNvbnNvbGUgaW5zdGVhZDoKICAgICMgICAgICdvdXRwdXQtZm9ybWF0JzogJ3B5dGhvbl90YS5yZXBvcnRlcnMuQ29sb3JSZXBvcnRlcicKICAgICMgfSkKICAgIGltcG9ydCBkb2N0ZXN0CiAgICBkb2N0ZXN0LnRlc3Rtb2QoKQogICAgIwogICAgIyBodG1sX2FuZF9wYXlyb2xsX2RlbW8oKQo",
					"AQAAAAAAAAABAAAAn2QAAAAAAACfZAAAAAAAAAAAAAAAAPC/"
				],
				[
					597,
					1,
					"insert",
					{
						"characters": "_"
					},
					"AQAAAERlAAAAAAAARWUAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARGUAAAAAAABEZQAAAAAAAAAAAAAAAPC/"
				],
				[
					628,
					1,
					"nv_vi_dd",
					{
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAD1wAAAAAAAAPXAAAAAAAAA0AAAAICAgICAgICA+Pj4gaW5zdHJ1Y3RvcjIuYWRkX2NlcnRpZmljYXRlKCdDYXJkaW8gMScpCg",
					"AQAAAAAAAAABAAAAZnAAAAAAAABmcAAAAAAAAAAAAAAAAPC/"
				],
				[
					630,
					1,
					"nv_vi_dd",
					{
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAD1wAAAAAAAAPXAAAAAAAAANAAAAICAgICAgICBUcnVlCg",
					"AQAAAAAAAAABAAAARXAAAAAAAABFcAAAAAAAAAAAAAAAAPC/"
				],
				[
					632,
					1,
					"nv_vi_dd",
					{
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAD1wAAAAAAAAPXAAAAAAAAAnAAAAICAgICAgICA+Pj4gaW5zdHJ1Y3RvcjEgPT0gaW5zdHJ1Y3RvcjIK",
					"AQAAAAAAAAABAAAARXAAAAAAAABFcAAAAAAAAAAAAAAAAPC/"
				],
				[
					634,
					1,
					"nv_vi_dd",
					{
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAD1wAAAAAAAAPXAAAAAAAAANAAAAICAgICAgICBUcnVlCg",
					"AQAAAAAAAAABAAAARXAAAAAAAABFcAAAAAAAAAAAAAAAAPC/"
				],
				[
					636,
					1,
					"nv_vi_dd",
					{
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAD1wAAAAAAAAPXAAAAAAAAAzAAAAICAgICAgICA+Pj4gaW5zdHJ1Y3RvcjMgPSBJbnN0cnVjdG9yKDEsICJBbnRob255IikK",
					"AQAAAAAAAAABAAAARXAAAAAAAABFcAAAAAAAAAAAAAAAAPC/"
				],
				[
					638,
					1,
					"nv_vi_dd",
					{
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAD1wAAAAAAAAPXAAAAAAAAA9AAAAICAgICAgICA+Pj4gaW5zdHJ1Y3RvcjMuYWRkX2NlcnRpZmljYXRlKCdTdHJlbmd0aCBUcmFpbmluZycpCg",
					"AQAAAAAAAAABAAAARXAAAAAAAABFcAAAAAAAAAAAAAAAAPC/"
				],
				[
					640,
					1,
					"nv_vi_dd",
					{
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAD1wAAAAAAAAPXAAAAAAAAANAAAAICAgICAgICBUcnVlCg",
					"AQAAAAAAAAABAAAARXAAAAAAAABFcAAAAAAAAAAAAAAAAPC/"
				],
				[
					652,
					1,
					"nv_vi_paste",
					{
						"before_cursor": false,
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAD1wAAAAAAAAcHAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAO3AAAAAAAAA7cAAAAAAAAAAAAAAAAPC/"
				],
				[
					659,
					1,
					"nv_vi_r",
					{
						"char": "3",
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAFNwAAAAAAAAVHAAAAAAAAABAAAAMg",
					"AQAAAAAAAAABAAAAU3AAAAAAAABTcAAAAAAAAAAAAAAAAPC/"
				],
				[
					663,
					1,
					"nv_vi_r",
					{
						"char": "2",
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAGJwAAAAAAAAY3AAAAAAAAABAAAAMQ",
					"AQAAAAAAAAABAAAAYnAAAAAAAABicAAAAAAAAAAAAAAAAPC/"
				],
				[
					670,
					1,
					"sequence",
					{
						"commands":
						[
							[
								"nv_vi_c",
								{
									"count": 1,
									"mode": "mode_internal_normal",
									"motion":
									{
										"motion": "nv_vi_w",
										"motion_args":
										{
											"count": 1,
											"mode": "mode_internal_normal"
										}
									},
									"register": "\""
								}
							],
							[
								"insert",
								{
									"characters": "Kevin"
								}
							]
						]
					},
					"BgAAAGZwAAAAAAAAZnAAAAAAAAAHAAAAQW50aG9ueWZwAAAAAAAAZ3AAAAAAAAAAAAAAZ3AAAAAAAABocAAAAAAAAAAAAABocAAAAAAAAGlwAAAAAAAAAAAAAGlwAAAAAAAAanAAAAAAAAAAAAAAanAAAAAAAABrcAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAZnAAAAAAAABmcAAAAAAAAAAAAAAAAPC/"
				]
			]
		},
		{
			"file": "test.py",
			"redo_stack":
			[
				[
					95,
					1,
					"nv_vi_dd",
					{
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAAAAAAAAAAAABwAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					93,
					1,
					"nv_vi_d",
					{
						"count": 1,
						"mode": "mode_visual",
						"register": "\""
					},
					"AQAAAAAAAAAAAAAASAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPC/"
				],
				[
					79,
					1,
					"anaconda_auto_format",
					null,
					"AQAAAAAAAAAAAAAATgAAAAAAAABPAAAAaW1wb3J0IG51bXB5IGFzIG5wCmltcG9ydCBwZGIKCmEgPSBucC5hcnJheShbMSwgMiwgM10pCnBkYi5zZXRfdHJhY2UoKQpiID0gJzEnCg",
					"AQAAAAAAAAABAAAAOAAAAAAAAAA4AAAAAAAAAAAAAAAAAPC/"
				],
				[
					72,
					1,
					"nv_vi_paste",
					{
						"before_cursor": false,
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAADcAAAAAAAAANwAAAAAAAAAQAAAAcGRiLnNldF90cmFjZSgpCg",
					"AQAAAAAAAAABAAAANwAAAAAAAAA3AAAAAAAAAAAAAAAAAPC/"
				],
				[
					70,
					1,
					"nv_vi_dd",
					{
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAB8AAAAAAAAALwAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHwAAAAAAAAAfAAAAAAAAAAAAAAAAAPC/"
				],
				[
					58,
					1,
					"insert",
					{
						"characters": "1"
					},
					"AQAAAEwAAAAAAAAATAAAAAAAAAABAAAAMQ",
					"AQAAAAAAAAABAAAATQAAAAAAAABNAAAAAAAAAAAAAAAAAPC/"
				],
				[
					57,
					1,
					"insert_snippet",
					{
						"contents": "'$0'"
					},
					"AQAAAEsAAAAAAAAASwAAAAAAAAACAAAAJyc",
					"AQAAAAAAAAABAAAATAAAAAAAAABMAAAAAAAAAAAAAAAAAPC/"
				],
				[
					56,
					1,
					"left_delete",
					null,
					"AQAAAEsAAAAAAAAATAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAASwAAAAAAAABLAAAAAAAAAAAAAAAAAPC/"
				],
				[
					55,
					1,
					"insert",
					{
						"characters": "1"
					},
					"AQAAAEsAAAAAAAAASwAAAAAAAAABAAAAMQ",
					"AQAAAAAAAAABAAAATAAAAAAAAABMAAAAAAAAAAAAAAAAAPC/"
				],
				[
					53,
					1,
					"insert",
					{
						"characters": " "
					},
					"AQAAAEoAAAAAAAAASgAAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAASwAAAAAAAABLAAAAAAAAAAAAAAAAAPC/"
				],
				[
					52,
					1,
					"insert",
					{
						"characters": " ="
					},
					"AgAAAEkAAAAAAAAASQAAAAAAAAABAAAAPUgAAAAAAAAASAAAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAASgAAAAAAAABKAAAAAAAAAAAAAAAAAPC/"
				],
				[
					51,
					1,
					"insert",
					{
						"characters": "b"
					},
					"AQAAAEcAAAAAAAAARwAAAAAAAAABAAAAYg",
					"AQAAAAAAAAABAAAASAAAAAAAAABIAAAAAAAAAAAAAAAAAPC/"
				],
				[
					40,
					1,
					"nv_vi_dd",
					{
						"count": 1,
						"mode": "mode_internal_normal",
						"register": "\""
					},
					"AQAAAEcAAAAAAAAAVgAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAARwAAAAAAAABHAAAAAAAAAAAAAAAAAPC/"
				],
				[
					26,
					1,
					"insert_snippet",
					{
						"contents": ""
					},
					"AQAAAC0AAAAAAAAALQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALQAAAAAAAAAtAAAAAAAAAAAAAAAAAPC/"
				],
				[
					24,
					1,
					"sublime_jedi_params_autocomplete",
					null,
					"AgAAAC0AAAAAAAAALQAAAAAAAAABAAAAKSwAAAAAAAAALAAAAAAAAAABAAAAKA",
					"AQAAAAAAAAABAAAALQAAAAAAAAAtAAAAAAAAAAAAAAAAAPC/"
				],
				[
					23,
					1,
					"insert_completion",
					{
						"completion": "set_trace",
						"format": "snippet",
						"keep_prefix": false,
						"must_insert": false,
						"trigger": "set_trace"
					},
					"AgAAACMAAAAAAAAAIwAAAAAAAAAJAAAAc2V0X3RyYWNlIwAAAAAAAAAmAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAALAAAAAAAAAAsAAAAAAAAAAAAAAAAAPC/"
				],
				[
					22,
					1,
					"insert",
					{
						"characters": "db.set"
					},
					"BgAAACUAAAAAAAAAJQAAAAAAAAABAAAAdCQAAAAAAAAAJAAAAAAAAAABAAAAZSMAAAAAAAAAIwAAAAAAAAABAAAAcyIAAAAAAAAAIgAAAAAAAAABAAAALiEAAAAAAAAAIQAAAAAAAAABAAAAYiAAAAAAAAAAIAAAAAAAAAABAAAAZA",
					"AQAAAAAAAAABAAAAJgAAAAAAAAAmAAAAAAAAAAAAAAAAAPC/"
				],
				[
					21,
					1,
					"left_delete",
					null,
					"AQAAACAAAAAAAAAAIQAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAIAAAAAAAAAAgAAAAAAAAAAAAAAAAAPC/"
				],
				[
					20,
					1,
					"insert",
					{
						"characters": "pr"
					},
					"AgAAACAAAAAAAAAAIAAAAAAAAAABAAAAch8AAAAAAAAAHwAAAAAAAAABAAAAcA",
					"AQAAAAAAAAABAAAAIQAAAAAAAAAhAAAAAAAAAAAAAAAAAPC/"
				],
				[
					19,
					1,
					"left_delete",
					null,
					"AgAAAB8AAAAAAAAAIAAAAAAAAAAAAAAAIAAAAAAAAAAhAAAAAAAAAAAAAAA",
					"AQAAAAAAAAABAAAAHwAAAAAAAAAfAAAAAAAAAAAAAAAAAPC/"
				],
				[
					17,
					1,
					"insert_completion",
					{
						"completion": "if",
						"format": "snippet",
						"keep_prefix": false,
						"must_insert": true,
						"trigger": "if"
					},
					"AQAAAB8AAAAAAAAAHwAAAAAAAAACAAAAaWY",
					"AQAAAAAAAAABAAAAIQAAAAAAAAAhAAAAAAAAAAAAAAAAAPC/"
				],
				[
					16,
					1,
					"insert",
					{
						"characters": "\n\n"
					},
					"AgAAAB4AAAAAAAAAHgAAAAAAAAABAAAACh0AAAAAAAAAHQAAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAHwAAAAAAAAAfAAAAAAAAAAAAAAAAAPC/"
				],
				[
					15,
					1,
					"insert",
					{
						"characters": " pdb"
					},
					"BAAAABwAAAAAAAAAHAAAAAAAAAABAAAAYhsAAAAAAAAAGwAAAAAAAAABAAAAZBoAAAAAAAAAGgAAAAAAAAABAAAAcBkAAAAAAAAAGQAAAAAAAAABAAAAIA",
					"AQAAAAAAAAABAAAAHQAAAAAAAAAdAAAAAAAAAAAAAAAAAPC/"
				],
				[
					14,
					1,
					"insert",
					{
						"characters": "import"
					},
					"BgAAABgAAAAAAAAAGAAAAAAAAAABAAAAdBcAAAAAAAAAFwAAAAAAAAABAAAAchYAAAAAAAAAFgAAAAAAAAABAAAAbxUAAAAAAAAAFQAAAAAAAAABAAAAcBQAAAAAAAAAFAAAAAAAAAABAAAAbRMAAAAAAAAAEwAAAAAAAAABAAAAaQ",
					"AQAAAAAAAAABAAAAGQAAAAAAAAAZAAAAAAAAAAAAAAAAAPC/"
				],
				[
					12,
					1,
					"nv_vi_o",
					{
						"count": 1,
						"mode": "mode_internal_normal"
					},
					"AQAAABIAAAAAAAAAEgAAAAAAAAABAAAACg",
					"AQAAAAAAAAABAAAAEwAAAAAAAAATAAAAAAAAAAAAAAAAAPC/"
				]
			],
			"settings":
			{
				"buffer_size": 58,
				"encoding": "UTF-8",
				"line_ending": "Unix"
			},
			"undo_stack":
			[
			]
		}
	],
	"build_system": "Packages/Python/Python.sublime-build",
	"build_system_choices":
	[
		[
			[
				[
					"Packages/Python/Python.sublime-build",
					""
				],
				[
					"Packages/Python/Python.sublime-build",
					"Syntax Check"
				]
			],
			[
				"Packages/Python/Python.sublime-build",
				""
			]
		]
	],
	"build_varint": "",
	"command_palette":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"install",
				"Package Control: Install Package"
			],
			[
				"install ",
				"Package Control: Install Package"
			],
			[
				"remove",
				"Package Control: Remove Package"
			],
			[
				"insta",
				"Package Control: Install Package"
			],
			[
				"instal",
				"Package Control: Install Package"
			],
			[
				"package",
				"Package Control: Install Package"
			],
			[
				"",
				"ANF: Rename File"
			],
			[
				"package re",
				"Package Control: Remove Package"
			],
			[
				"tod",
				"TodoReview: Open Files"
			],
			[
				"to",
				"TodoReview: Open Files"
			],
			[
				"todo",
				"TodoReview: Open Files"
			],
			[
				"rename",
				"Rename File"
			],
			[
				"debg",
				"Debugger: Open"
			],
			[
				"isntall",
				"Debugger: Install Adapters"
			],
			[
				"Package Control: ",
				"Package Control: Discover Packages"
			],
			[
				"ren",
				"Rename File"
			],
			[
				"tpd",
				"TodoReview: Project and Open Files"
			],
			[
				"renam",
				"Rename File"
			],
			[
				"file r",
				"File: Rename"
			],
			[
				"re",
				"SublimeREPL: ECL"
			],
			[
				"sidebar",
				"View: Toggle Open Files in Side Bar"
			],
			[
				"deubgger con",
				"Debugger: Add Configuration"
			],
			[
				"debugger",
				"Debugger: Install Adapters"
			],
			[
				"debugger conf",
				"Debugger: Add Configuration"
			],
			[
				"d",
				"Debugger: Open"
			],
			[
				"color ",
				"UI: Select Color Scheme"
			],
			[
				"select",
				"UI: Select Theme"
			],
			[
				"package ",
				"Package Control: List Packages"
			],
			[
				"select ",
				"UI: Select Theme"
			],
			[
				"select them",
				"UI: Select Theme"
			],
			[
				"pack",
				"Package Control: Install Package"
			]
		],
		"width": 0.0
	},
	"console":
	{
		"height": 160.0,
		"history":
		[
		]
	},
	"distraction_free":
	{
		"menu_visible": true,
		"show_minimap": false,
		"show_open_files": false,
		"show_tabs": false,
		"side_bar_visible": false,
		"status_bar_visible": false
	},
	"expanded_folders":
	[
		"/Users/wangantony/Downloads/CSC148-Winter-2023",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/assignments",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/assignments/a0",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/preps"
	],
	"file_history":
	[
		"/Users/wangantony/Downloads/CSC148-Winter-2023/preps/prep4/prep4_starter_tests.py",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/preps/prep4/prep4.py",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/test.py",
		"/Users/wangantony/Library/Application Support/Sublime Text/Packages/User/Anaconda.sublime-settings",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/assignments/a0/gym.py",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/preps/prep4/adts.py",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/assignments/a0/gym_sample_tests.py",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/assignments/a0/design_recipes/course.py",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/assignments/a0/athletic-centre.yaml",
		"/Users/wangantony/Library/Application Support/Sublime Text/Packages/Python Breakpoints/PythonBreakpoints.sublime-settings",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/CSC148.sublime-project",
		"/Users/wangantony/Library/Application Support/Sublime Text/Packages/User/PythonBreakpoints.sublime-settings",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/preps/prep2/prep2.py",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/preps/prep2/prep2_starter_tests.py",
		"/Users/wangantony/Library/Application Support/Sublime Text/Packages/User/DashDoc.sublime-settings",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/preps/prep3/prep3_starter_tests.py",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/lectures/week3/super_duper_manager.py \u000e.gitFinderDeleted",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/lectures/week3/super_duper_manager.py",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/preps/prep3/prep3.py",
		"/Users/wangantony/Downloads/CSC148-Winter-2023/README.md",
		"/Users/wangantony/Downloads/148/test.py",
		"/Users/wangantony/Downloads/148/preps/prep3/prep3_starter_tests copy.py",
		"/Users/wangantony/Library/Application Support/Sublime Text/Packages/Default/Default (OSX).sublime-keymap",
		"/Users/wangantony/Downloads/148/test2.py",
		"/Users/wangantony/Downloads/148/preps/prep2/prep2_starter_tests.py",
		"/Users/wangantony/Downloads/148/test3.py",
		"/Users/wangantony/Downloads/148/test1.py",
		"/Users/wangantony/Downloads/148/preps/prep3/prep3_starter_tests.py",
		"/Users/wangantony/Downloads/148/labs/lab2/player.py",
		"/Users/wangantony/Downloads/148/preps/prep3/prep3 copy.py",
		"/Users/wangantony/Downloads/148/preps/prep3/prep3.py",
		"/Users/wangantony/Downloads/148/solution.py",
		"/Users/wangantony/Downloads/148/a19-solution.py",
		"/Users/wangantony/Downloads/148/Final Exam/test3.py",
		"/Users/wangantony/Library/Application Support/Sublime Text/Packages/User/AdvancedNewFile.sublime-settings",
		"/Users/wangantony/Library/Application Support/Sublime Text/Packages/User/Default (OSX).sublime-keymap",
		"/Users/wangantony/Library/Mobile Documents/com~apple~CloudDocs/custom-table.css",
		"/Users/wangantony/Downloads/148/test_.py",
		"/Users/wangantony/Downloads/148/labs/lab1/names.txt",
		"/Users/wangantony/Downloads/CSC148 Preview/untitled.sublime-project",
		"/Users/wangantony/Downloads/148/CSC148.sublime-project",
		"/Users/wangantony/Downloads/148/preps/prep1/prep2_starter_tests.py",
		"/Users/wangantony/Library/Application Support/Sublime Text/Packages/SideBarEnhancements/Side Bar.sublime-settings"
	],
	"find":
	{
		"height": 42.0
	},
	"find_in_files":
	{
		"height": 196.0,
		"where_history":
		[
			"<current file>",
			""
		]
	},
	"find_state":
	{
		"case_sensitive": false,
		"find_history":
		[
			"foo",
			"var",
			"_item",
			"add_certificate",
			"get_certificates",
			"get_certificate",
			"add_certificate",
			"round",
			"pay",
			"total_salary",
			"_total_salary",
			"total_pay",
			"_total_salary",
			"__total_salary",
			"total_salary"
		],
		"highlight": true,
		"in_selection": false,
		"preserve_case": false,
		"regex": false,
		"replace_history":
		[
			"var",
			"foo",
			"_items",
			"._items",
			"_items",
			"get_certificates",
			"_total_salary",
			"total_salary",
			"_total_salary"
		],
		"reverse": false,
		"scrollbar_highlights": true,
		"show_context": true,
		"use_buffer2": true,
		"use_gitignore": true,
		"whole_word": false,
		"wrap": true
	},
	"groups":
	[
		{
			"sheets":
			[
				{
					"buffer": 0,
					"file": "assignments/a0/gym_sample_tests.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 10761,
						"regions":
						{
						},
						"selection":
						[
							[
								2568,
								2568
							]
						],
						"settings":
						{
							"git_gutter_is_enabled": true,
							"show_definitions": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 2299.0,
						"zoom_level": 1.0
					},
					"stack_index": 1,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 1,
					"file": "assignments/a0/gym.py",
					"selected": true,
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 33329,
						"regions":
						{
						},
						"selection":
						[
							[
								28565,
								28565
							]
						],
						"settings":
						{
							"_nv_visual_sel_mode": "mode_visual",
							"git_gutter_is_enabled": true,
							"show_definitions": false,
							"syntax": "Packages/Python/Python.sublime-syntax",
							"tab_size": 4,
							"translate_tabs_to_spaces": true
						},
						"translation.x": 0.0,
						"translation.y": 23710.0,
						"zoom_level": 1.0
					},
					"stack_index": 0,
					"stack_multiselect": false,
					"type": "text"
				},
				{
					"buffer": 2,
					"file": "test.py",
					"semi_transient": false,
					"settings":
					{
						"buffer_size": 58,
						"regions":
						{
						},
						"selection":
						[
							[
								58,
								58
							]
						],
						"settings":
						{
							"_nv_visual_sel_mode": "mode_visual",
							"git_gutter_is_enabled": true,
							"highlight_line": false,
							"show_definitions": false,
							"syntax": "Packages/Python/Python.sublime-syntax"
						},
						"translation.x": 0.0,
						"translation.y": 0.0,
						"zoom_level": 1.0
					},
					"stack_index": 2,
					"stack_multiselect": false,
					"type": "text"
				}
			]
		}
	],
	"incremental_find":
	{
		"height": 42.0
	},
	"input":
	{
		"height": 80.0
	},
	"layout":
	{
		"cells":
		[
			[
				0,
				0,
				1,
				1
			]
		],
		"cols":
		[
			0.0,
			1.0
		],
		"rows":
		[
			0.0,
			1.0
		]
	},
	"menu_visible": true,
	"output.Debugger":
	{
		"height": 582.0
	},
	"output.Debugger Console":
	{
		"height": 156.0
	},
	"output.Debugger Terminal":
	{
		"height": 669.0
	},
	"output.Debugger Terminal(1)":
	{
		"height": 504.0
	},
	"output.exec":
	{
		"height": 581.0
	},
	"output.find_results":
	{
		"height": 0.0
	},
	"output.mdpopups":
	{
		"height": 0.0
	},
	"pinned_build_system": "Packages/Python/Python.sublime-build",
	"project": "CSC148.sublime-project",
	"replace":
	{
		"height": 80.0
	},
	"save_all_on_build": true,
	"select_file":
	{
		"height": 0.0,
		"last_filter": "",
		"selected_items":
		[
			[
				"test2",
				"test2.py"
			],
			[
				"test1",
				"test1.py"
			],
			[
				"",
				"labs/lab1/names.txt"
			]
		],
		"width": 0.0
	},
	"select_project":
	{
		"height": 500.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 380.0
	},
	"select_symbol":
	{
		"height": 190.0,
		"last_filter": "",
		"selected_items":
		[
		],
		"width": 592.0
	},
	"selected_group": 0,
	"settings":
	{
		"_vintageous_last_buff_search_command": "nv_vi_octothorp",
		"_vintageous_last_buff_search_pattern": "import",
		"_vintageous_last_char_search_character": "s",
		"_vintageous_last_char_search_command": "vi_f",
		"_vintageous_reset_during_init": true
	},
	"show_minimap": true,
	"show_open_files": true,
	"show_tabs": true,
	"side_bar_visible": true,
	"side_bar_width": 257.0,
	"status_bar_visible": true,
	"template_settings":
	{
	}
}
